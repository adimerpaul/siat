(()=>{var e={7932:(e,t,l)=>{"use strict";l(702),l(8964);var o=l(1957),a=l(1947),i=l(499),s=l(9835);function n(e,t,l,o,a,i){const n=(0,s.up)("router-view");return(0,s.wg)(),(0,s.j4)(n)}const d=(0,s.aZ)({name:"App"});var r=l(1639);const c=(0,r.Z)(d,[["render",n]]),u=c;var m=l(3340),p=l(2502);const h=(0,m.h)((()=>{const e=(0,p.WB)();return e}));var g=l(8339),b=l(7370),f=l.n(b);const v=(0,s._)("img",{alt:"Quasar logo",src:f(),style:{width:"200px",height:"200px"}},null,-1);function w(e,t,l,o,a,i){const n=(0,s.up)("q-page");return(0,s.wg)(),(0,s.j4)(n,{class:"flex flex-center"},{default:(0,s.w5)((()=>[v])),_:1})}const _=(0,s.aZ)({name:"IndexPage"});var y=l(9885),C=l(9984),D=l.n(C);const x=(0,r.Z)(_,[["render",w]]),I=x;D()(_,"components",{QPage:y.Z});const V={class:"row"},W={class:"col-12"},T=(0,s.Uk)("Actualizar"),M=(0,s.Uk)("Actualizar Imagen"),A=(0,s.Uk)("Eliminar"),E=(0,s._)("div",{class:"text-h6"},"Registrar Pelicula",-1),S={class:"row"},q={class:"col-3"},j={class:"col-3"},L={class:"col-3"},N={class:"col-3"},k={class:"col-3"},O={class:"col-3"},U={class:"col-3"},F={class:"col-3"},Z={class:"col-3"},z={class:"col-3"},Q={class:"col-12 text-center flex flex-center"},R={class:"col-12"},P=(0,s._)("div",{class:"text-h6"},"Modificar Pelicula",-1),Y={class:"row"},$={class:"col-3"},B={class:"col-3"},G={class:"col-3"},H={class:"col-3"},K={class:"col-3"},J={class:"col-3"},X={class:"col-3"},ee={class:"col-3"},te={class:"col-3"},le={class:"col-3"},oe={class:"col-12"},ae=(0,s._)("div",{class:"text-h6"},"Modificar imagen",-1),ie={class:"col-12 text-center flex flex-center"};function se(e,t,l,a,i,n){const d=(0,s.up)("q-btn"),r=(0,s.up)("q-icon"),c=(0,s.up)("q-input"),u=(0,s.up)("q-img"),m=(0,s.up)("q-td"),p=(0,s.up)("q-item-label"),h=(0,s.up)("q-item-section"),g=(0,s.up)("q-item"),b=(0,s.up)("q-list"),f=(0,s.up)("q-btn-dropdown"),v=(0,s.up)("q-table"),w=(0,s.up)("q-space"),_=(0,s.up)("q-card-section"),y=(0,s.up)("q-select"),C=(0,s.up)("q-toggle"),D=(0,s.up)("q-uploader"),x=(0,s.up)("q-form"),I=(0,s.up)("q-card"),se=(0,s.up)("q-dialog"),ne=(0,s.up)("q-page"),de=(0,s.Q2)("close-popup");return(0,s.wg)(),(0,s.j4)(ne,null,{default:(0,s.w5)((()=>[(0,s._)("div",V,[(0,s._)("div",W,[(0,s.Wm)(v,{dense:"",title:"Gestionar peliculas","rows-per-page-options":[20,50,100,0],rows:i.store.movies,columns:i.movieColumns,filter:i.movieFilter},{"top-right":(0,s.w5)((()=>[(0,s.Wm)(d,{color:"green",icon:"add_circle",label:"Agregar",onClick:t[0]||(t[0]=e=>i.movieDialog=!0)}),(0,s.Wm)(c,{outlined:"",dense:"",debounce:"300",modelValue:i.movieFilter,"onUpdate:modelValue":t[1]||(t[1]=e=>i.movieFilter=e),placeholder:"Buscar"},{append:(0,s.w5)((()=>[(0,s.Wm)(r,{name:"search"})])),_:1},8,["modelValue"])])),"body-cell-imagen":(0,s.w5)((e=>[(0,s.Wm)(m,{"auto-width":"",props:e},{default:(0,s.w5)((()=>[(0,s.Wm)(u,{src:i.url+"../imagen/"+e.row.imagen,class:"q-pa-lg",style:{border:"0px solid black",height:"50px","max-width":"50px"}},null,8,["src"])])),_:2},1032,["props"])])),"body-cell-opciones":(0,s.w5)((e=>[(0,s.Wm)(m,{"auto-width":"",props:e},{default:(0,s.w5)((()=>[(0,s.Wm)(f,{color:"primary",label:"Opciones","dropdown-icon":"more_vert"},{default:(0,s.w5)((()=>[(0,s.Wm)(b,null,{default:(0,s.w5)((()=>[(0,s.wy)(((0,s.wg)(),(0,s.j4)(g,{clickable:"",onClick:t=>{i.movieUpdateDialog=!0,i.movie2=e.row,this.store.distributor=e.row.distributor}},{default:(0,s.w5)((()=>[(0,s.Wm)(h,null,{default:(0,s.w5)((()=>[(0,s.Wm)(p,null,{default:(0,s.w5)((()=>[T])),_:1})])),_:1})])),_:2},1032,["onClick"])),[[de]]),(0,s.wy)(((0,s.wg)(),(0,s.j4)(g,{clickable:"",onClick:t=>{i.dialog_img=!0,i.movie2=e.row}},{default:(0,s.w5)((()=>[(0,s.Wm)(h,null,{default:(0,s.w5)((()=>[(0,s.Wm)(p,null,{default:(0,s.w5)((()=>[M])),_:1})])),_:1})])),_:2},1032,["onClick"])),[[de]]),(0,s.wy)(((0,s.wg)(),(0,s.j4)(g,{clickable:"",onClick:t=>n.movieDelete(e.row.id,e.pageIndex)},{default:(0,s.w5)((()=>[(0,s.Wm)(h,null,{default:(0,s.w5)((()=>[(0,s.Wm)(p,null,{default:(0,s.w5)((()=>[A])),_:1})])),_:1})])),_:2},1032,["onClick"])),[[de]])])),_:2},1024)])),_:2},1024)])),_:2},1032,["props"])])),_:1},8,["rows","columns","filter"])])]),(0,s.Wm)(se,{modelValue:i.movieDialog,"onUpdate:modelValue":t[12]||(t[12]=e=>i.movieDialog=e),"full-width":""},{default:(0,s.w5)((()=>[(0,s.Wm)(I,null,{default:(0,s.w5)((()=>[(0,s.Wm)(_,{class:"row items-center q-pb-none"},{default:(0,s.w5)((()=>[E,(0,s.Wm)(w),(0,s.wy)((0,s.Wm)(d,{icon:"close",flat:"",round:"",dense:""},null,512),[[de]])])),_:1}),(0,s.Wm)(_,null,{default:(0,s.w5)((()=>[(0,s.Wm)(x,{onSubmit:(0,o.iM)(n.movieCreate,["prevent"])},{default:(0,s.w5)((()=>[(0,s._)("div",S,[(0,s._)("div",q,[(0,s.Wm)(c,{dense:"",outlined:"",label:"nombre",modelValue:i.movie.nombre,"onUpdate:modelValue":t[2]||(t[2]=e=>i.movie.nombre=e)},null,8,["modelValue"])]),(0,s._)("div",j,[(0,s.Wm)(c,{dense:"",outlined:"",label:"duracion",modelValue:i.movie.duracion,"onUpdate:modelValue":t[3]||(t[3]=e=>i.movie.duracion=e)},null,8,["modelValue"])]),(0,s._)("div",L,[(0,s.Wm)(c,{dense:"",outlined:"",label:"paisOrigen",modelValue:i.movie.paisOrigen,"onUpdate:modelValue":t[4]||(t[4]=e=>i.movie.paisOrigen=e)},null,8,["modelValue"])]),(0,s._)("div",N,[(0,s.Wm)(y,{dense:"",outlined:"",label:"genero",modelValue:i.movie.genero,"onUpdate:modelValue":t[5]||(t[5]=e=>i.movie.genero=e),options:["Accion","Animacion","Animada","Aventura","Aventuras","Ciencia Ficcion","Comedia","Deporte","Documental","Drama","Historica","Infantil","Musical","Romantica","Suspenso","Terror","Thiller","Western","Otros"]},null,8,["modelValue"])]),(0,s._)("div",k,[(0,s.Wm)(C,{modelValue:i.movie.formato,"onUpdate:modelValue":t[6]||(t[6]=e=>i.movie.formato=e),color:"green",label:i.movie.formato,size:"xl","false-value":"2D","true-value":"3D"},null,8,["modelValue","label"])]),(0,s._)("div",O,[(0,s.Wm)(c,{dense:"",outlined:"",label:"sipnosis",modelValue:i.movie.sipnosis,"onUpdate:modelValue":t[7]||(t[7]=e=>i.movie.sipnosis=e)},null,8,["modelValue"])]),(0,s._)("div",U,[(0,s.Wm)(c,{dense:"",outlined:"",label:"urlTrailer",modelValue:i.movie.urlTrailer,"onUpdate:modelValue":t[8]||(t[8]=e=>i.movie.urlTrailer=e)},null,8,["modelValue"])]),(0,s._)("div",F,[(0,s.Wm)(y,{dense:"",outlined:"",label:"clasificacion",modelValue:i.movie.clasificacion,"onUpdate:modelValue":t[9]||(t[9]=e=>i.movie.clasificacion=e),options:["+13","+13 C/R","+16","+18","ATP","ATP C/R","R"]},null,8,["modelValue"])]),(0,s._)("div",Z,[(0,s.Wm)(c,{dense:"",outlined:"",type:"date",label:"fechaEstreno",modelValue:i.movie.fechaEstreno,"onUpdate:modelValue":t[10]||(t[10]=e=>i.movie.fechaEstreno=e)},null,8,["modelValue"])]),(0,s._)("div",z,[(0,s.Wm)(y,{dense:"",outlined:"",label:"distributor_id",modelValue:i.store.distributor,"onUpdate:modelValue":t[11]||(t[11]=e=>i.store.distributor=e),options:i.store.distributors,"option-label":"nombre"},null,8,["modelValue","options"])]),(0,s._)("div",Q,[(0,s.Wm)(D,{accept:".jpg, .png",onAdded:n.uploadFile,"auto-upload":"","max-files":"1",label:"Ingresar Imagen",flat:"","max-file-size":"2000000",onRejected:n.onRejected,bordered:""},null,8,["onAdded","onRejected"])]),(0,s._)("div",R,[(0,s.Wm)(d,{loading:i.loading,color:"green",icon:"add_circle",class:"full-width",type:"submit",label:"Guardar"},null,8,["loading"])])])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,s.Wm)(se,{modelValue:i.movieUpdateDialog,"onUpdate:modelValue":t[23]||(t[23]=e=>i.movieUpdateDialog=e),"full-width":""},{default:(0,s.w5)((()=>[(0,s.Wm)(I,null,{default:(0,s.w5)((()=>[(0,s.Wm)(_,{class:"row items-center q-pb-none"},{default:(0,s.w5)((()=>[P,(0,s.Wm)(w),(0,s.wy)((0,s.Wm)(d,{icon:"close",flat:"",round:"",dense:""},null,512),[[de]])])),_:1}),(0,s.Wm)(_,null,{default:(0,s.w5)((()=>[(0,s.Wm)(x,{onSubmit:(0,o.iM)(n.movieUpdate,["prevent"])},{default:(0,s.w5)((()=>[(0,s._)("div",Y,[(0,s._)("div",$,[(0,s.Wm)(c,{dense:"",outlined:"",label:"nombre",modelValue:i.movie2.nombre,"onUpdate:modelValue":t[13]||(t[13]=e=>i.movie2.nombre=e)},null,8,["modelValue"])]),(0,s._)("div",B,[(0,s.Wm)(c,{dense:"",outlined:"",label:"duracion",modelValue:i.movie2.duracion,"onUpdate:modelValue":t[14]||(t[14]=e=>i.movie2.duracion=e)},null,8,["modelValue"])]),(0,s._)("div",G,[(0,s.Wm)(c,{dense:"",outlined:"",label:"paisOrigen",modelValue:i.movie2.paisOrigen,"onUpdate:modelValue":t[15]||(t[15]=e=>i.movie2.paisOrigen=e)},null,8,["modelValue"])]),(0,s._)("div",H,[(0,s.Wm)(y,{dense:"",outlined:"",label:"genero",modelValue:i.movie2.genero,"onUpdate:modelValue":t[16]||(t[16]=e=>i.movie2.genero=e),options:["Accion","Animacion","Animada","Aventura","Aventuras","Ciencia Ficcion","Comedia","Deporte","Documental","Drama","Historica","Infantil","Musical","Romantica","Suspenso","Terror","Thiller","Western","Otros"]},null,8,["modelValue"])]),(0,s._)("div",K,[(0,s.Wm)(C,{modelValue:i.movie2.formato,"onUpdate:modelValue":t[17]||(t[17]=e=>i.movie2.formato=e),color:"green",label:i.movie2.formato,size:"xl","false-value":"2D","true-value":"3D"},null,8,["modelValue","label"])]),(0,s._)("div",J,[(0,s.Wm)(c,{dense:"",outlined:"",label:"sipnosis",modelValue:i.movie2.sipnosis,"onUpdate:modelValue":t[18]||(t[18]=e=>i.movie2.sipnosis=e)},null,8,["modelValue"])]),(0,s._)("div",X,[(0,s.Wm)(c,{dense:"",outlined:"",label:"urlTrailer",modelValue:i.movie2.urlTrailer,"onUpdate:modelValue":t[19]||(t[19]=e=>i.movie2.urlTrailer=e)},null,8,["modelValue"])]),(0,s._)("div",ee,[(0,s.Wm)(y,{dense:"",outlined:"",label:"clasificacion",modelValue:i.movie2.clasificacion,"onUpdate:modelValue":t[20]||(t[20]=e=>i.movie2.clasificacion=e),options:["+13","+13 C/R","+16","+18","ATP","ATP C/R","R"]},null,8,["modelValue"])]),(0,s._)("div",te,[(0,s.Wm)(c,{dense:"",outlined:"",type:"date",label:"fechaEstreno",modelValue:i.movie2.fechaEstreno,"onUpdate:modelValue":t[21]||(t[21]=e=>i.movie2.fechaEstreno=e)},null,8,["modelValue"])]),(0,s._)("div",le,[(0,s.Wm)(y,{dense:"",outlined:"",label:"distributor_id",modelValue:i.store.distributor,"onUpdate:modelValue":t[22]||(t[22]=e=>i.store.distributor=e),options:i.store.distributors,"option-label":"nombre"},null,8,["modelValue","options"])]),(0,s._)("div",oe,[(0,s.Wm)(d,{color:"yellow-8",icon:"edit",class:"full-width",type:"submit",label:"Modificar"})])])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,s.Wm)(se,{modelValue:i.dialog_img,"onUpdate:modelValue":t[24]||(t[24]=e=>i.dialog_img=e)},{default:(0,s.w5)((()=>[(0,s.Wm)(I,null,{default:(0,s.w5)((()=>[(0,s.Wm)(_,{class:"bg-amber-14 text-white"},{default:(0,s.w5)((()=>[ae])),_:1}),(0,s.Wm)(_,{class:"q-pt-xs"},{default:(0,s.w5)((()=>[(0,s.Wm)(x,{onSubmit:n.onModImagen,class:"q-gutter-md"},{default:(0,s.w5)((()=>[(0,s._)("div",ie,[(0,s.Wm)(D,{accept:".jpg, .png",onAdded:n.uploadFile,"auto-upload":"","max-files":"1",label:"Ingresar Imagen",flat:"","max-file-size":"2000000",onRejected:n.onRejected,bordered:""},null,8,["onAdded","onRejected"])]),(0,s._)("div",null,[(0,s.Wm)(d,{label:"Modificar",type:"submit",color:"positive",icon:"add_circle"}),(0,s.wy)((0,s.Wm)(d,{label:"Cancelar",icon:"delete",color:"negative"},null,512),[[de]])])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}var ne=l(3285),de=l(4376);const re={name:"Peliculas",data(){return{loading:!1,movieFilter:"",url:"http://10.200.100.20:81/api/",dialog_img:!1,movie:{clasificacion:"+13",formato:"2D",genero:"Accion",fechaEstreno:de.ZP.formatDate(new Date,"YYYY-MM-DD")},movie2:{},movieDialog:!1,movieUpdateDialog:!1,store:(0,ne.c)(),foto:"",movieColumns:[{label:"opciones",field:"opciones",name:"opciones"},{label:"nombre",field:"nombre",name:"nombre",sortable:!0},{label:"duracion",field:"duracion",name:"duracion",sortable:!0},{label:"paisOrigen",field:"paisOrigen",name:"paisOrigen",sortable:!0},{label:"genero",field:"genero",name:"genero",sortable:!0},{label:"formato",field:"formato",name:"formato",sortable:!0},{label:"clasificacion",field:"clasificacion",name:"clasificacion",sortable:!0},{label:"fechaEstreno",field:"fechaEstreno",name:"fechaEstreno",sortable:!0},{label:"Imagen",field:"imagen",name:"imagen",sortable:!0},{label:"distributor_id",field:e=>e.distributor.nombre,name:"distributor_id",sortable:!0}]}},created(){this.store.movieSingleTon||(this.$q.loading.show(),this.store.movieSingleTon=!0,this.$api.get("movie").then((e=>{e.data.forEach((e=>{e.label=e.nombre+" "+e.formato})),this.store.movies2=e.data,this.store.movies3=e.data,this.store.movies=e.data,this.$q.loading.hide()}))),this.store.distributorSingleTon||(this.$q.loading.show(),this.store.distributorSingleTon=!0,this.$api.get("distributor").then((e=>{this.store.distributors=e.data,this.store.distributor=e.data[0],this.$q.loading.hide()})))},methods:{onModImagen(){this.movie2.imagen=this.foto,this.$q.loading.show(),this.$api.post("upimagenmovie",this.movie2).then((e=>{this.$q.loading.hide(),console.log(e.data),this.movie2={},this.foto="";let t=this.store.movies.findIndex((t=>t.id==e.data.id));this.store.movies[t]=e.data,this.dialog_img=!1}))},uploadFile(e){let t=this.$q.dialog({message:"Subiendo... 0%"}),l=0;const o=new FormData;return o.append("file",e[0]),new Promise(((a,i)=>{this.$api.post("upload",o,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:e=>{l=Math.round(e.loaded/e.total*100),t.update({message:`Subiendo... ${l}%`}),l>=100&&t.hide()}}).then((t=>{this.foto=t.data,a(e)})).catch((e=>i(e)))}))},onRejected(e){this.$q.notify({type:"negative",message:`${e.length} el archivo paso las restricciones de validación`})},movieCreate(){this.movie.imagen=this.foto,this.loading=!0,this.movie.distributor_id=this.store.distributor.id,this.$api.post("movie",this.movie).then((e=>{this.loading=!1,this.store.movies.push(e.data),this.foto="",this.movieDialog=!1,this.movie={clasificacion:"+13",formmato:"2D",genero:"Accion",fechaEstreno:de.ZP.formatDate(new Date,"YYYY-MM-DD")}}))},movieUpdate(){this.$q.loading.show(),this.$api.put("movie/"+this.movie2.id,this.movie2).then((e=>{this.$q.loading.hide(),console.log(e.data),this.movie2={};let t=this.store.movies.findIndex((t=>t.id==e.data.id));this.store.movies[t]=e.data,this.movieUpdateDialog=!1}))},movieDelete(e,t){this.$q.dialog({title:"Eliminar Pelicula",message:"¿Esta seguro de eliminar la pelicula?",ok:{push:!0},cancel:{push:!0,color:"negative"}}).onOk((()=>{this.$q.loading.show(),this.$api.delete("movie/"+e).then((e=>{this.store.movies.splice(t,1),this.$q.loading.hide(),this.$q.notify({message:"Pelicula eliminada",color:"positive",icon:"done"})}))}))}}};var ce=l(7580),ue=l(8879),me=l(6611),pe=l(2857),he=l(7220),ge=l(335),be=l(8479),fe=l(3246),ve=l(490),we=l(1233),_e=l(3115),ye=l(2074),Ce=l(4458),De=l(3190),xe=l(136),Ie=l(8326),Ve=l(6384),We=l(3175),Te=l(7534),Me=l(2146);const Ae=(0,r.Z)(re,[["render",se]]),Ee=Ae;D()(re,"components",{QPage:y.Z,QTable:ce.Z,QBtn:ue.Z,QInput:me.Z,QIcon:pe.Z,QTd:he.Z,QImg:ge.Z,QBtnDropdown:be.Z,QList:fe.Z,QItem:ve.Z,QItemSection:we.Z,QItemLabel:_e.Z,QDialog:ye.Z,QCard:Ce.Z,QCardSection:De.Z,QSpace:xe.Z,QForm:Ie.Z,QSelect:Ve.Z,QToggle:We.Z,QUploader:Te.Z}),D()(re,"directives",{ClosePopup:Me.Z});const Se={class:"row"},qe={class:"col-12"},je=(0,s.Uk)("Actualizar"),Le=(0,s.Uk)("Eliminar"),Ne=(0,s._)("div",{class:"text-h6"},"Registrar Distribuidor",-1),ke={class:"row"},Oe={class:"col-3"},Ue={class:"col-3"},Fe={class:"col-3"},Ze={class:"col-3"},ze={class:"col-3"},Qe={class:"col-3"},Re={class:"col-3"},Pe={class:"col-12"},Ye=(0,s._)("div",{class:"text-h6"},"Modificar Distribuidor",-1),$e={class:"row"},Be={class:"col-3"},Ge={class:"col-3"},He={class:"col-3"},Ke={class:"col-3"},Je={class:"col-3"},Xe={class:"col-3"},et={class:"col-3"},tt={class:"col-12"};function lt(e,t,l,a,i,n){const d=(0,s.up)("q-btn"),r=(0,s.up)("q-icon"),c=(0,s.up)("q-input"),u=(0,s.up)("q-item-label"),m=(0,s.up)("q-item-section"),p=(0,s.up)("q-item"),h=(0,s.up)("q-list"),g=(0,s.up)("q-btn-dropdown"),b=(0,s.up)("q-td"),f=(0,s.up)("q-table"),v=(0,s.up)("q-space"),w=(0,s.up)("q-card-section"),_=(0,s.up)("q-form"),y=(0,s.up)("q-card"),C=(0,s.up)("q-dialog"),D=(0,s.up)("q-page"),x=(0,s.Q2)("close-popup");return(0,s.wg)(),(0,s.j4)(D,null,{default:(0,s.w5)((()=>[(0,s._)("div",Se,[(0,s._)("div",qe,[(0,s.Wm)(f,{dense:"",title:"Gestionar Distribuidor","rows-per-page-options":[0],rows:i.store.distributors,columns:i.distributorColumns,filter:i.distributorFilter},{"top-right":(0,s.w5)((()=>[(0,s.Wm)(d,{color:"green",icon:"add_circle",label:"Agregar",onClick:t[0]||(t[0]=e=>i.distributorDialog=!0)}),(0,s.Wm)(c,{outlined:"",dense:"",debounce:"300",modelValue:i.distributorFilter,"onUpdate:modelValue":t[1]||(t[1]=e=>i.distributorFilter=e),placeholder:"Buscar"},{append:(0,s.w5)((()=>[(0,s.Wm)(r,{name:"search"})])),_:1},8,["modelValue"])])),"body-cell-opciones":(0,s.w5)((e=>[(0,s.Wm)(b,{"auto-width":"",props:e},{default:(0,s.w5)((()=>[(0,s.Wm)(g,{color:"primary",label:"Opciones","dropdown-icon":"more_vert"},{default:(0,s.w5)((()=>[(0,s.Wm)(h,null,{default:(0,s.w5)((()=>[(0,s.wy)(((0,s.wg)(),(0,s.j4)(p,{clickable:"",onClick:t=>{i.distributorUpdateDialog=!0,i.distributor2=e.row,this.store.distributor=e.row.distributor}},{default:(0,s.w5)((()=>[(0,s.Wm)(m,null,{default:(0,s.w5)((()=>[(0,s.Wm)(u,null,{default:(0,s.w5)((()=>[je])),_:1})])),_:1})])),_:2},1032,["onClick"])),[[x]]),(0,s.wy)(((0,s.wg)(),(0,s.j4)(p,{clickable:"",onClick:t=>n.distributorDelete(e.row.id,e.pageIndex)},{default:(0,s.w5)((()=>[(0,s.Wm)(m,null,{default:(0,s.w5)((()=>[(0,s.Wm)(u,null,{default:(0,s.w5)((()=>[Le])),_:1})])),_:1})])),_:2},1032,["onClick"])),[[x]])])),_:2},1024)])),_:2},1024)])),_:2},1032,["props"])])),_:1},8,["rows","columns","filter"])])]),(0,s.Wm)(C,{modelValue:i.distributorDialog,"onUpdate:modelValue":t[9]||(t[9]=e=>i.distributorDialog=e),"full-width":""},{default:(0,s.w5)((()=>[(0,s.Wm)(y,null,{default:(0,s.w5)((()=>[(0,s.Wm)(w,{class:"row items-center q-pb-none"},{default:(0,s.w5)((()=>[Ne,(0,s.Wm)(v),(0,s.wy)((0,s.Wm)(d,{icon:"close",flat:"",round:"",dense:""},null,512),[[x]])])),_:1}),(0,s.Wm)(w,null,{default:(0,s.w5)((()=>[(0,s.Wm)(_,{onSubmit:(0,o.iM)(n.distributorCreate,["prevent"])},{default:(0,s.w5)((()=>[(0,s._)("div",ke,[(0,s._)("div",Oe,[(0,s.Wm)(c,{dense:"",outlined:"",label:"Nombre",modelValue:i.distributor.nombre,"onUpdate:modelValue":t[2]||(t[2]=e=>i.distributor.nombre=e)},null,8,["modelValue"])]),(0,s._)("div",Ue,[(0,s.Wm)(c,{dense:"",outlined:"",label:"Direccion",modelValue:i.distributor.dir,"onUpdate:modelValue":t[3]||(t[3]=e=>i.distributor.dir=e)},null,8,["modelValue"])]),(0,s._)("div",Fe,[(0,s.Wm)(c,{dense:"",outlined:"",label:"Localidad",modelValue:i.distributor.loc,"onUpdate:modelValue":t[4]||(t[4]=e=>i.distributor.loc=e)},null,8,["modelValue"])]),(0,s._)("div",Ze,[(0,s.Wm)(c,{dense:"",outlined:"",label:"NIT",modelValue:i.distributor.nit,"onUpdate:modelValue":t[5]||(t[5]=e=>i.distributor.nit=e)},null,8,["modelValue"])]),(0,s._)("div",ze,[(0,s.Wm)(c,{dense:"",outlined:"",label:"Telefono",modelValue:i.distributor.tel,"onUpdate:modelValue":t[6]||(t[6]=e=>i.distributor.tel=e)},null,8,["modelValue"])]),(0,s._)("div",Qe,[(0,s.Wm)(c,{dense:"",outlined:"",label:"Email",modelValue:i.distributor.email,"onUpdate:modelValue":t[7]||(t[7]=e=>i.distributor.email=e)},null,8,["modelValue"])]),(0,s._)("div",Re,[(0,s.Wm)(c,{dense:"",outlined:"",label:"Responsable",modelValue:i.distributor.responsable,"onUpdate:modelValue":t[8]||(t[8]=e=>i.distributor.responsable=e)},null,8,["modelValue"])]),(0,s._)("div",Pe,[(0,s.Wm)(d,{loading:i.loading,color:"green",icon:"add_circle",class:"full-width",type:"submit",label:"Guardar"},null,8,["loading"])])])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,s.Wm)(C,{modelValue:i.distributorUpdateDialog,"onUpdate:modelValue":t[17]||(t[17]=e=>i.distributorUpdateDialog=e),"full-width":""},{default:(0,s.w5)((()=>[(0,s.Wm)(y,null,{default:(0,s.w5)((()=>[(0,s.Wm)(w,{class:"row items-center q-pb-none"},{default:(0,s.w5)((()=>[Ye,(0,s.Wm)(v),(0,s.wy)((0,s.Wm)(d,{icon:"close",flat:"",round:"",dense:""},null,512),[[x]])])),_:1}),(0,s.Wm)(w,null,{default:(0,s.w5)((()=>[(0,s.Wm)(_,{onSubmit:(0,o.iM)(n.distributorUpdate,["prevent"])},{default:(0,s.w5)((()=>[(0,s._)("div",$e,[(0,s._)("div",Be,[(0,s.Wm)(c,{dense:"",outlined:"",label:"Nombre",modelValue:i.distributor2.nombre,"onUpdate:modelValue":t[10]||(t[10]=e=>i.distributor2.nombre=e)},null,8,["modelValue"])]),(0,s._)("div",Ge,[(0,s.Wm)(c,{dense:"",outlined:"",label:"Direccion",modelValue:i.distributor2.dir,"onUpdate:modelValue":t[11]||(t[11]=e=>i.distributor2.dir=e)},null,8,["modelValue"])]),(0,s._)("div",He,[(0,s.Wm)(c,{dense:"",outlined:"",label:"Localidad",modelValue:i.distributor2.loc,"onUpdate:modelValue":t[12]||(t[12]=e=>i.distributor2.loc=e)},null,8,["modelValue"])]),(0,s._)("div",Ke,[(0,s.Wm)(c,{dense:"",outlined:"",label:"NIT",modelValue:i.distributor2.nit,"onUpdate:modelValue":t[13]||(t[13]=e=>i.distributor2.nit=e)},null,8,["modelValue"])]),(0,s._)("div",Je,[(0,s.Wm)(c,{dense:"",outlined:"",label:"Telefono",modelValue:i.distributor2.tel,"onUpdate:modelValue":t[14]||(t[14]=e=>i.distributor2.tel=e)},null,8,["modelValue"])]),(0,s._)("div",Xe,[(0,s.Wm)(c,{dense:"",outlined:"",label:"Email",modelValue:i.distributor2.email,"onUpdate:modelValue":t[15]||(t[15]=e=>i.distributor2.email=e)},null,8,["modelValue"])]),(0,s._)("div",et,[(0,s.Wm)(c,{dense:"",outlined:"",label:"Responsable",modelValue:i.distributor2.responsable,"onUpdate:modelValue":t[16]||(t[16]=e=>i.distributor2.responsable=e)},null,8,["modelValue"])]),(0,s._)("div",tt,[(0,s.Wm)(d,{color:"yellow-8",icon:"edit",class:"full-width",type:"submit",label:"Modificar"})])])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}const ot={name:"Distribuidores",data(){return{loading:!1,distributorFilter:"",distributor:{},distributor2:{},distributorDialog:!1,distributorUpdateDialog:!1,store:(0,ne.c)(),distributorColumns:[{label:"OPCIONES",field:"opciones",name:"opciones"},{label:"NOMBRE",field:"nombre",name:"nombre",sortable:!0},{label:"DIRECCION",field:"dir",name:"dir",sortable:!0},{label:"LOCALIZACION",field:"loc",name:"loc",sortable:!0},{label:"NIT",field:"nit",name:"nit",sortable:!0},{label:"TELEFONO",field:"tel",name:"tel",sortable:!0},{label:"EMAIL",field:"email",name:"email",sortable:!0},{label:"RESPONSABLE",field:"responsable",name:"responsable",sortable:!0}]}},created(){this.store.distributorSingleTon||(this.$q.loading.show(),this.store.distributorSingleTon=!0,this.$api.get("distributor").then((e=>{this.store.distributors=e.data,this.$q.loading.hide()})))},methods:{distributorCreate(){this.loading=!0,this.$api.post("distributor",this.distributor).then((e=>{this.loading=!1,this.store.distributors.push(e.data),this.distributorDialog=!1}))},distributorUpdate(){this.$q.loading.show(),this.$api.put("distributor/"+this.distributor2.id,this.distributor2).then((e=>{this.$q.loading.hide(),console.log(e.data),this.distributor2={};let t=this.store.distributors.findIndex((t=>t.id==e.data.id));this.store.distributors[t]=e.data,this.distributorUpdateDialog=!1}))},distributorDelete(e,t){this.$q.dialog({title:"Eliminar Distribuidor",message:"¿Esta seguro de eliminar la distribuidor?",ok:{push:!0},cancel:{push:!0,color:"negative"}}).onOk((()=>{this.$q.loading.show(),this.$api.delete("distributor/"+e).then((e=>{this.store.distributors.splice(t,1),this.$q.loading.hide(),this.$q.notify({message:"Distribuidor eliminada",color:"positive",icon:"done"})}))}))}}},at=(0,r.Z)(ot,[["render",lt]]),it=at;D()(ot,"components",{QPage:y.Z,QTable:ce.Z,QBtn:ue.Z,QInput:me.Z,QIcon:pe.Z,QTd:he.Z,QBtnDropdown:be.Z,QList:fe.Z,QItem:ve.Z,QItemSection:we.Z,QItemLabel:_e.Z,QDialog:ye.Z,QCard:Ce.Z,QCardSection:De.Z,QSpace:xe.Z,QForm:Ie.Z}),D()(ot,"directives",{ClosePopup:Me.Z});const st={class:"row"},nt={class:"col-12"},dt=(0,s._)("div",{class:"text-h6"},"Registrar Cuis",-1),rt={class:"row"},ct={class:"col-12"},ut={class:"col-12 flex flex-center"};function mt(e,t,l,a,i,n){const d=(0,s.up)("q-btn"),r=(0,s.up)("q-icon"),c=(0,s.up)("q-input"),u=(0,s.up)("q-table"),m=(0,s.up)("q-space"),p=(0,s.up)("q-card-section"),h=(0,s.up)("q-select"),g=(0,s.up)("q-form"),b=(0,s.up)("q-card"),f=(0,s.up)("q-dialog"),v=(0,s.up)("q-page"),w=(0,s.Q2)("close-popup");return(0,s.wg)(),(0,s.j4)(v,null,{default:(0,s.w5)((()=>[(0,s._)("div",st,[(0,s._)("div",nt,[(0,s.Wm)(u,{rows:i.cuis,dense:"",title:"Gestionar cuis",columns:i.cuisColums,"rows-per-page-options":[0]},{"top-right":(0,s.w5)((()=>[(0,s.Wm)(d,{color:"green",icon:"add_circle",label:"Agregar",loading:i.loading,onClick:t[0]||(t[0]=e=>i.cuiDialog=!0)},null,8,["loading"]),(0,s.Wm)(c,{outlined:"",dense:"",debounce:"300",modelValue:i.cuiFilter,"onUpdate:modelValue":t[1]||(t[1]=e=>i.cuiFilter=e),placeholder:"Buscar"},{append:(0,s.w5)((()=>[(0,s.Wm)(r,{name:"search"})])),_:1},8,["modelValue"])])),_:1},8,["rows","columns"])])]),(0,s.Wm)(f,{modelValue:i.cuiDialog,"onUpdate:modelValue":t[3]||(t[3]=e=>i.cuiDialog=e)},{default:(0,s.w5)((()=>[(0,s.Wm)(b,null,{default:(0,s.w5)((()=>[(0,s.Wm)(p,{class:"row items-center q-pb-none"},{default:(0,s.w5)((()=>[dt,(0,s.Wm)(m),(0,s.wy)((0,s.Wm)(d,{icon:"close",flat:"",round:"",dense:""},null,512),[[w]])])),_:1}),(0,s.Wm)(p,null,{default:(0,s.w5)((()=>[(0,s.Wm)(g,{onSubmit:(0,o.iM)(n.cuiCreate,["prevent"])},{default:(0,s.w5)((()=>[(0,s._)("div",rt,[(0,s._)("div",ct,[(0,s.Wm)(h,{options:[0],dense:"",outlined:"",label:"codigoPuntoVenta",modelValue:i.cui.codigoPuntoVenta,"onUpdate:modelValue":t[2]||(t[2]=e=>i.cui.codigoPuntoVenta=e)},null,8,["modelValue"])]),(0,s._)("div",ut,[(0,s.Wm)(d,{dense:"",class:"full-width",loading:i.loading,type:"submit",color:"green",icon:"check",label:"Guardar"},null,8,["loading"])])])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}const pt={name:"Cuis",data(){return{loading:!1,cuis:[],cui:{codigoPuntoVenta:0,codigoSucursal:0},cuiDialog:!1,cuiFilter:"",cuisColums:[{name:"id",label:"id",field:"id",sortable:!0},{name:"codigo",label:"codigo",field:"codigo",sortable:!0},{name:"fechaVigencia",label:"fechaVigencia",field:"fechaVigencia",sortable:!0},{name:"codigoPuntoVenta",label:"codigoPuntoVenta",field:"codigoPuntoVenta",sortable:!0},{name:"codigoSucursal",label:"codigoSucursal",field:"codigoSucursal",sortable:!0}]}},created(){this.getCuis()},methods:{getCuis(){this.loading=!0,this.$api.get("cui").then((e=>{this.loading=!1,this.cuis=e.data}))},cuiCreate(){this.loading=!0,this.$api.post("cui",this.cui).then((e=>{this.loading=!1,this.cuiDialog=!1,this.getCuis(),this.$q.notify({color:"positive",message:"Cui registrado correctamente",icon:"done"})})).catch((e=>{this.loading=!1,this.$q.notify({color:"negative",message:e.response.data.message,position:"top",icon:"error",timeout:5e3})}))}}},ht=(0,r.Z)(pt,[["render",mt]]),gt=ht;D()(pt,"components",{QPage:y.Z,QTable:ce.Z,QBtn:ue.Z,QInput:me.Z,QIcon:pe.Z,QDialog:ye.Z,QCard:Ce.Z,QCardSection:De.Z,QSpace:xe.Z,QForm:Ie.Z,QSelect:Ve.Z}),D()(pt,"directives",{ClosePopup:Me.Z});const bt={class:"row"},ft={class:"col-12"},vt={class:"col-12"},wt={class:"col-12"},_t={class:"col-12"},yt={class:"col-12"},Ct={class:"col-12"},Dt={class:"col-12"},xt={class:"col-12"},It={class:"col-12"},Vt={class:"col-12"},Wt={class:"col-12"},Tt=(0,s._)("div",{class:"text-h6"},"Registrar Sincronizacion",-1),Mt={class:"row"},At={class:"col-12 flex flex-center"};function Et(e,t,l,a,i,n){const d=(0,s.up)("q-btn"),r=(0,s.up)("q-table"),c=(0,s.up)("q-space"),u=(0,s.up)("q-card-section"),m=(0,s.up)("q-form"),p=(0,s.up)("q-card"),h=(0,s.up)("q-dialog"),g=(0,s.up)("q-page"),b=(0,s.Q2)("close-popup");return(0,s.wg)(),(0,s.j4)(g,null,{default:(0,s.w5)((()=>[(0,s._)("div",bt,[(0,s._)("div",ft,[(0,s.Wm)(d,{class:"q-mt-xs full-width",color:"green",icon:"add_circle",label:"Sincronizar",loading:i.loading,onClick:t[0]||(t[0]=e=>i.cuiDialog=!0)},null,8,["loading"])]),(0,s._)("div",vt,[(0,s.Wm)(r,{rows:i.activities,dense:"",title:"Actividades"},null,8,["rows"])]),(0,s._)("div",wt,[(0,s.Wm)(r,{rows:i.documents,dense:"",title:"Documentos"},null,8,["rows"])]),(0,s._)("div",_t,[(0,s.Wm)(r,{rows:i.documentsectors,dense:"",title:"Documento Sector"},null,8,["rows"])]),(0,s._)("div",yt,[(0,s.Wm)(r,{rows:i.events,dense:"",title:"Eventos"},null,8,["rows"])]),(0,s._)("div",Ct,[(0,s.Wm)(r,{rows:i.leyendas,dense:"",title:"Leyendas"},null,8,["rows"])]),(0,s._)("div",Dt,[(0,s.Wm)(r,{rows:i.medidas,dense:"",title:"Medidas"},null,8,["rows"])]),(0,s._)("div",xt,[(0,s.Wm)(r,{rows:i.messages,dense:"",title:"Mensajes"},null,8,["rows"])]),(0,s._)("div",It,[(0,s.Wm)(r,{rows:i.sectors,dense:"",title:"Sectores"},null,8,["rows"])]),(0,s._)("div",Vt,[(0,s.Wm)(r,{rows:i.servicios,dense:"",title:"Servicios"},null,8,["rows"])]),(0,s._)("div",Wt,[(0,s.Wm)(r,{rows:i.tipopagos,dense:"",title:"Tipo Pagos"},null,8,["rows"])])]),(0,s.Wm)(h,{modelValue:i.cuiDialog,"onUpdate:modelValue":t[1]||(t[1]=e=>i.cuiDialog=e)},{default:(0,s.w5)((()=>[(0,s.Wm)(p,null,{default:(0,s.w5)((()=>[(0,s.Wm)(u,{class:"row items-center q-pb-none"},{default:(0,s.w5)((()=>[Tt,(0,s.Wm)(c),(0,s.wy)((0,s.Wm)(d,{icon:"close",flat:"",round:"",dense:""},null,512),[[b]])])),_:1}),(0,s.Wm)(u,null,{default:(0,s.w5)((()=>[(0,s.Wm)(m,{onSubmit:(0,o.iM)(n.activityCreate,["prevent"])},{default:(0,s.w5)((()=>[(0,s._)("div",Mt,[(0,s._)("div",At,[(0,s.Wm)(d,{dense:"",class:"full-width",loading:i.loading,type:"submit",color:"green",icon:"check",label:"Sincronizar"},null,8,["loading"])])])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}const St={name:"Sincronizacion",data(){return{loading:!1,cuis:[],cui:{codigoPuntoVenta:0,codigoSucursal:0},cuiDialog:!1,cuiFilter:"",activities:[],documents:[],documentsectors:[],events:[],leyendas:[],medidas:[],messages:[],motivos:[],sectors:[],servicios:[],tipopagos:[],cuisColums:[{name:"id",label:"id",field:"id",sortable:!0},{name:"codigo",label:"codigo",field:"codigo",sortable:!0},{name:"fechaVigencia",label:"fechaVigencia",field:"fechaVigencia",sortable:!0},{name:"codigoPuntoVenta",label:"codigoPuntoVenta",field:"codigoPuntoVenta",sortable:!0},{name:"codigoSucursal",label:"codigoSucursal",field:"codigoSucursal",sortable:!0}]}},created(){this.datosGet()},methods:{datosGet(){this.loading=!0,this.$api.get("activity").then((e=>{this.loading=!1,this.activities=e.data.activities,this.documents=e.data.documents,this.documentsectors=e.data.documentsectors,this.events=e.data.events,this.leyendas=e.data.leyendas,this.medidas=e.data.medidas,this.messages=e.data.messages,this.motivos=e.data.motivos,this.sectors=e.data.sectors,this.servicios=e.data.servicios,this.tipopagos=e.data.tipopagos}))},activityCreate(){this.loading=!0,this.$api.post("activity",this.cui).then((e=>{this.datosGet(),this.loading=!1,this.cuiDialog=!1,this.$q.notify({color:"positive",message:"Registro creado correctamente",icon:"done"})})).catch((e=>{this.loading=!1,this.$q.notify({color:"negative",message:e.response.data.message,position:"top",icon:"error",timeout:5e3})}))}}},qt=(0,r.Z)(St,[["render",Et]]),jt=qt;D()(St,"components",{QPage:y.Z,QBtn:ue.Z,QTable:ce.Z,QInput:me.Z,QIcon:pe.Z,QDialog:ye.Z,QCard:Ce.Z,QCardSection:De.Z,QSpace:xe.Z,QForm:Ie.Z,QSelect:Ve.Z}),D()(St,"directives",{ClosePopup:Me.Z});var Lt=l(6970);const Nt=e=>((0,s.dD)("data-v-6bd9df8d"),e=e(),(0,s.Cn)(),e),kt={class:"row"},Ot={class:"col-12"},Ut=(0,s.Uk)("Actualizar"),Ft=(0,s.Uk)("Eliminar"),Zt=Nt((()=>(0,s._)("div",{class:"text-h6"}," Registrar Sala ",-1))),zt={class:"text-h6 text-grey"},Qt={class:"row"},Rt={class:"col-3"},Pt={class:"col-3"},Yt={class:"col-3"},$t={class:"col-3"},Bt={class:"col-12"},Gt=Nt((()=>(0,s._)("th",null,null,-1))),Ht=["onClick"],Kt={class:"col-12"},Jt=Nt((()=>(0,s._)("div",{class:"text-h6"},"Modificar Sala",-1))),Xt={class:"row"},el={class:"col-3"},tl={class:"col-3"},ll={class:"col-3"},ol={class:"col-3"},al={class:"col-12"},il=Nt((()=>(0,s._)("th",null,null,-1))),sl=["onClick"],nl={class:"col-12"};function dl(e,t,l,a,i,n){const d=(0,s.up)("q-btn"),r=(0,s.up)("q-icon"),c=(0,s.up)("q-input"),u=(0,s.up)("q-item-label"),m=(0,s.up)("q-item-section"),p=(0,s.up)("q-item"),h=(0,s.up)("q-list"),g=(0,s.up)("q-btn-dropdown"),b=(0,s.up)("q-td"),f=(0,s.up)("q-table"),v=(0,s.up)("q-space"),w=(0,s.up)("q-card-section"),_=(0,s.up)("q-badge"),y=(0,s.up)("q-form"),C=(0,s.up)("q-card"),D=(0,s.up)("q-dialog"),x=(0,s.up)("q-page"),I=(0,s.Q2)("close-popup");return(0,s.wg)(),(0,s.j4)(x,null,{default:(0,s.w5)((()=>[(0,s._)("div",kt,[(0,s._)("div",Ot,[(0,s.Wm)(f,{dense:"",title:"Gestionar Salas","rows-per-page-options":[0],rows:i.store.salas,columns:i.salaColumns,filter:i.salaFilter},{"top-right":(0,s.w5)((()=>[(0,s.Wm)(d,{color:"green",icon:"add_circle",label:"Agregar",onClick:t[0]||(t[0]=e=>{i.salaDialog=!0,i.columnas=1,i.filas=1,n.tablacine()})}),(0,s.Wm)(c,{outlined:"",dense:"",debounce:"300",modelValue:i.salaFilter,"onUpdate:modelValue":t[1]||(t[1]=e=>i.salaFilter=e),placeholder:"Buscar"},{append:(0,s.w5)((()=>[(0,s.Wm)(r,{name:"search"})])),_:1},8,["modelValue"])])),"body-cell-opciones":(0,s.w5)((e=>[(0,s.Wm)(b,{"auto-width":"",props:e},{default:(0,s.w5)((()=>[(0,s.Wm)(g,{color:"primary",label:"Opciones","dropdown-icon":"more_vert"},{default:(0,s.w5)((()=>[(0,s.Wm)(h,null,{default:(0,s.w5)((()=>[(0,s.wy)(((0,s.wg)(),(0,s.j4)(p,{clickable:"",onClick:t=>{i.salaUpdateDialog=!0,i.sala2=e.row,i.columnas=e.row.columnas,i.filas=e.row.filas,i.asientos=e.row.seats}},{default:(0,s.w5)((()=>[(0,s.Wm)(m,null,{default:(0,s.w5)((()=>[(0,s.Wm)(u,null,{default:(0,s.w5)((()=>[Ut])),_:1})])),_:1})])),_:2},1032,["onClick"])),[[I]]),(0,s.wy)(((0,s.wg)(),(0,s.j4)(p,{clickable:"",onClick:t=>n.salaDelete(e.row.id,e.pageIndex)},{default:(0,s.w5)((()=>[(0,s.Wm)(m,null,{default:(0,s.w5)((()=>[(0,s.Wm)(u,null,{default:(0,s.w5)((()=>[Ft])),_:1})])),_:1})])),_:2},1032,["onClick"])),[[I]])])),_:2},1024)])),_:2},1024)])),_:2},1032,["props"])])),_:1},8,["rows","columns","filter"])])]),(0,s.Wm)(D,{modelValue:i.salaDialog,"onUpdate:modelValue":t[6]||(t[6]=e=>i.salaDialog=e),"full-width":""},{default:(0,s.w5)((()=>[(0,s.Wm)(C,null,{default:(0,s.w5)((()=>[(0,s.Wm)(w,{class:"row q-pb-none"},{default:(0,s.w5)((()=>[Zt,(0,s.Wm)(v),(0,s._)("div",zt,"Capacidad: "+(0,Lt.zw)(n.total),1),(0,s.wy)((0,s.Wm)(d,{icon:"close",flat:"",round:"",dense:""},null,512),[[I]])])),_:1}),(0,s.Wm)(w,null,{default:(0,s.w5)((()=>[(0,s.Wm)(y,{onSubmit:(0,o.iM)(n.salaCreate,["prevent"])},{default:(0,s.w5)((()=>[(0,s._)("div",Qt,[(0,s._)("div",Rt,[(0,s.Wm)(c,{dense:"",outlined:"",label:"Numero Sala (Opcional)",modelValue:i.sala.nro,"onUpdate:modelValue":t[2]||(t[2]=e=>i.sala.nro=e),type:"number"},null,8,["modelValue"])]),(0,s._)("div",Pt,[(0,s.Wm)(c,{dense:"",outlined:"",label:"Nombre",modelValue:i.sala.nombre,"onUpdate:modelValue":t[3]||(t[3]=e=>i.sala.nombre=e),required:""},null,8,["modelValue"])]),(0,s._)("div",Yt,[(0,s.Wm)(c,{dense:"",outlined:"",label:"Filas",type:"number",modelValue:i.filas,"onUpdate:modelValue":t[4]||(t[4]=e=>i.filas=e),onChange:n.tablacine},null,8,["modelValue","onChange"])]),(0,s._)("div",$t,[(0,s.Wm)(c,{dense:"",outlined:"",label:"Columnas",type:"number",modelValue:i.columnas,"onUpdate:modelValue":t[5]||(t[5]=e=>i.columnas=e),onChange:n.tablacine},null,8,["modelValue","onChange"])]),(0,s._)("div",Bt,[(0,s._)("table",null,[(0,s._)("thead",null,[(0,s._)("tr",null,[Gt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(parseInt(i.columnas),((e,t)=>((0,s.wg)(),(0,s.iD)("th",{key:t},(0,Lt.zw)(i.columnas-e+1),1)))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(parseInt(i.filas),((e,t)=>((0,s.wg)(),(0,s.iD)("tr",{key:t},[(0,s._)("th",null,(0,Lt.zw)(i.letra[t+1]),1),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(parseInt(i.columnas),((l,o)=>((0,s.wg)(),(0,s.iD)("td",{onClick:t=>n.cambio(e,l),key:o,class:"text-center tdx"},[(0,s.Wm)(d,{round:"",icon:"o_chair",color:"ACTIVO"==i.asientos[i.columnas*(e-1)+(l-1)]["activo"]?"green-6":"grey-9"},{default:(0,s.w5)((()=>[(0,s.Wm)(_,{color:"primary",floating:""},{default:(0,s.w5)((()=>[(0,s.Uk)((0,Lt.zw)(i.letra[t+1]+"-"+(i.columnas-l+1).toString()),1)])),_:2},1024)])),_:2},1032,["color"])],8,Ht)))),128))])))),128))])])]),(0,s._)("div",Kt,[(0,s.Wm)(d,{loading:i.loading,color:"green",icon:"add_circle",class:"full-width",type:"submit",label:"Guardar"},null,8,["loading"])])])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,s.Wm)(D,{modelValue:i.salaUpdateDialog,"onUpdate:modelValue":t[11]||(t[11]=e=>i.salaUpdateDialog=e),"full-width":""},{default:(0,s.w5)((()=>[(0,s.Wm)(C,null,{default:(0,s.w5)((()=>[(0,s.Wm)(w,{class:"row items-center q-pb-none"},{default:(0,s.w5)((()=>[Jt,(0,s.Wm)(v),(0,s.wy)((0,s.Wm)(d,{icon:"close",flat:"",round:"",dense:""},null,512),[[I]])])),_:1}),(0,s.Wm)(w,null,{default:(0,s.w5)((()=>[(0,s.Wm)(y,{onSubmit:(0,o.iM)(n.salaUpdate,["prevent"])},{default:(0,s.w5)((()=>[(0,s._)("div",Xt,[(0,s._)("div",el,[(0,s.Wm)(c,{dense:"",outlined:"",label:"Numero Sala (Opcional)",modelValue:i.sala2.nro,"onUpdate:modelValue":t[7]||(t[7]=e=>i.sala2.nro=e),type:"number"},null,8,["modelValue"])]),(0,s._)("div",tl,[(0,s.Wm)(c,{dense:"",outlined:"",label:"Nombre",modelValue:i.sala2.nombre,"onUpdate:modelValue":t[8]||(t[8]=e=>i.sala2.nombre=e)},null,8,["modelValue"])]),(0,s._)("div",ll,[(0,s.Wm)(c,{dense:"",outlined:"",label:"Filas",type:"number",modelValue:i.filas,"onUpdate:modelValue":t[9]||(t[9]=e=>i.filas=e),readonly:"",onChange:n.tablacine},null,8,["modelValue","onChange"])]),(0,s._)("div",ol,[(0,s.Wm)(c,{dense:"",outlined:"",label:"Columnas",type:"number",modelValue:i.columnas,"onUpdate:modelValue":t[10]||(t[10]=e=>i.columnas=e),readonlysa:"",onChange:n.tablacine},null,8,["modelValue","onChange"])]),(0,s._)("div",al,[(0,s._)("table",null,[(0,s._)("thead",null,[(0,s._)("tr",null,[il,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(parseInt(i.columnas),((e,t)=>((0,s.wg)(),(0,s.iD)("th",{key:t},(0,Lt.zw)(i.columnas-e+1),1)))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(parseInt(i.filas),((e,t)=>((0,s.wg)(),(0,s.iD)("tr",{key:t},[(0,s._)("th",null,(0,Lt.zw)(i.letra[t+1]),1),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(parseInt(i.columnas),((l,o)=>((0,s.wg)(),(0,s.iD)("td",{onClick:t=>n.cambio(e,l),key:o,class:"text-center tdx"},[(0,s.Wm)(d,{round:"",icon:"o_chair",color:"ACTIVO"==n.valorindice(l,e)?"green-6":"grey-9"},{default:(0,s.w5)((()=>[(0,s.Wm)(_,{color:"primary",floating:""},{default:(0,s.w5)((()=>[(0,s.Uk)((0,Lt.zw)(i.letra[t+1]+"-"+(i.columnas-l+1).toString()),1)])),_:2},1024)])),_:2},1032,["color"])],8,sl)))),128))])))),128))])])]),(0,s._)("div",nl,[(0,s.Wm)(d,{color:"yellow-8",icon:"edit",class:"full-width",type:"submit",label:"Modificar"})])])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}const rl={name:"Salas",data(){return{contador:0,loading:!1,salaFilter:"",filas:5,columnas:5,colnuminv:[],ingresar:0,sala:{},sala2:{},salaDialog:!1,salaUpdateDialog:!1,store:(0,ne.c)(),asientos:[],seat:{fila:0,columna:0,letra:"",activo:""},letra:["","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","AA","AB"],salaColumns:[{label:"OPCIONES",field:"opciones",name:"opciones"},{label:"NRO",field:"nro",name:"nro",sortable:!0},{label:"NOMBRE",field:"nombre",name:"nombre",sortable:!0},{label:"FILAS",field:"filas",name:"filas",sortable:!0},{label:"COLUMNAS",field:"columnas",name:"columnas",sortable:!0},{label:"CAPACIDAD",field:"capacidad",name:"capacidad",sortable:!0}]}},created(){this.store.salaSingleTon||(this.$q.loading.show(),this.store.salaSingleTon=!0,this.$api.get("sala").then((e=>{e.data.forEach((e=>{e.label=e.nombre})),this.store.salas2=e.data,this.store.salas3=e.data,this.store.salas=e.data,this.$q.loading.hide()}))),this.tablacine()},methods:{valorindice(e,t){return this.asientos[this.columnas*(t-1)+(e-1)].activo},cambio(e,t){let l=this.columnas*(e-1)+(t-1);this.asientos[l].activo="ACTIVO"==this.asientos[l].activo?"INACTIVO":"ACTIVO"},cargarimagen(e){return"ACTIVO"==e.activo?"../assets/img/1.png":"../assets/img/0.png"},activar(e){this.asientos.forEach((function(t){t.fila==e.fila&&t.columna==e.columna&&("ACTIVO"==t.activo?t.activo="INACTIVO":t.activo="ACTIVO")}))},invertir(){this.colnuminv=[];for(let e=parseInt(this.columnas);e>=1;e--)console.log(e),this.colnuminv.push(e);console.log(this.columnas),this.tablacine()},tablacine(){if(""!=this.filas&&void 0!=this.filas||(this.filas=1),""!=this.columnas&&void 0!=this.columnas||(this.columnas=1),this.asientos=[],this.filas>0&&this.columnas>0)for(let e=1;e<=this.filas;e++)for(let t=this.columnas;t>=1;t--)this.asientos.push({fila:parseInt(e),columna:parseInt(t),letra:this.letra[e],activo:"ACTIVO"})},salaCreate(){return""!=this.sala.nombre&&void 0!=this.sala.nombre&&(""!=this.filas&&void 0!=this.filas&&0!=this.filas&&(""!=this.columnas&&void 0!=this.columnas&&0!=this.columnas&&(this.sala.filas=parseInt(this.filas),this.sala.columnas=parseInt(this.columnas),this.sala.capacidad=this.total,this.sala.seats=this.asientos,this.loading=!0,void this.$api.post("sala",this.sala).then((e=>{this.loading=!1,this.store.salas.push(e.data),this.salaDialog=!1})).catch((e=>{this.$q.notify({color:"negative",message:e.response.data.message,position:"top",icon:"error",timeout:5e3}),this.loading=!1})))))},salaUpdate(){this.sala2.seats=this.asientos,this.$q.loading.show(),this.$api.put("sala/"+this.sala2.id,this.sala2).then((e=>{this.$q.loading.hide(),this.sala2={};let t=this.store.salas.findIndex((t=>t.id==e.data.id));this.store.salas[t]=e.data,this.salaUpdateDialog=!1}))},salaDelete(e,t){this.$q.dialog({title:"Eliminar Sala",message:"¿Esta seguro de eliminar la sala?",ok:{push:!0},cancel:{push:!0,color:"negative"}}).onOk((()=>{this.$q.loading.show(),this.$api.delete("sala/"+e).then((e=>{this.store.salas.splice(t,1),this.$q.loading.hide(),this.$q.notify({message:"Sala eliminada",color:"positive",icon:"done"})}))}))}},computed:{total(){let e=0;return this.asientos.forEach((function(t){"ACTIVO"==t.activo&&e++})),e}}};var cl=l(990);const ul=(0,r.Z)(rl,[["render",dl],["__scopeId","data-v-6bd9df8d"]]),ml=ul;D()(rl,"components",{QPage:y.Z,QTable:ce.Z,QBtn:ue.Z,QInput:me.Z,QIcon:pe.Z,QTd:he.Z,QBtnDropdown:be.Z,QList:fe.Z,QItem:ve.Z,QItemSection:we.Z,QItemLabel:_e.Z,QDialog:ye.Z,QCard:Ce.Z,QCardSection:De.Z,QSpace:xe.Z,QForm:Ie.Z,QBadge:cl.Z}),D()(rl,"directives",{ClosePopup:Me.Z});const pl={class:"row"},hl={class:"col-12"},gl=(0,s.Uk)("Actualizar"),bl=(0,s.Uk)("Eliminar"),fl=(0,s._)("div",{class:"text-h6"},"Registrar Tarifa",-1),vl={class:"row"},wl={class:"col-3"},_l={class:"col-3"},yl={class:"col-3"},Cl={class:"col-3"},Dl={class:"col-12"},xl=(0,s._)("div",{class:"text-h6"},"Modificar Tarifa",-1),Il={class:"row"},Vl={class:"col-3"},Wl={class:"col-3"},Tl={class:"col-3"},Ml={class:"col-3"},Al={class:"col-12"};function El(e,t,l,a,i,n){const d=(0,s.up)("q-btn"),r=(0,s.up)("q-icon"),c=(0,s.up)("q-input"),u=(0,s.up)("q-item-label"),m=(0,s.up)("q-item-section"),p=(0,s.up)("q-item"),h=(0,s.up)("q-list"),g=(0,s.up)("q-btn-dropdown"),b=(0,s.up)("q-td"),f=(0,s.up)("q-table"),v=(0,s.up)("q-space"),w=(0,s.up)("q-card-section"),_=(0,s.up)("q-toggle"),y=(0,s.up)("q-form"),C=(0,s.up)("q-card"),D=(0,s.up)("q-dialog"),x=(0,s.up)("q-page"),I=(0,s.Q2)("close-popup");return(0,s.wg)(),(0,s.j4)(x,null,{default:(0,s.w5)((()=>[(0,s._)("div",pl,[(0,s._)("div",hl,[(0,s.Wm)(f,{dense:"",title:"Gestionar Tarifas","rows-per-page-options":[100,50,20,0],rows:i.store.prices,columns:i.priceColumns,filter:i.priceFilter},{"top-right":(0,s.w5)((()=>[(0,s.Wm)(d,{color:"green",icon:"add_circle",label:"Agregar",onClick:t[0]||(t[0]=e=>i.priceDialog=!0)}),(0,s.Wm)(c,{outlined:"",dense:"",debounce:"300",modelValue:i.priceFilter,"onUpdate:modelValue":t[1]||(t[1]=e=>i.priceFilter=e),placeholder:"Buscar"},{append:(0,s.w5)((()=>[(0,s.Wm)(r,{name:"search"})])),_:1},8,["modelValue"])])),"body-cell-opciones":(0,s.w5)((e=>[(0,s.Wm)(b,{"auto-width":"",props:e},{default:(0,s.w5)((()=>[(0,s.Wm)(g,{color:"primary",label:"Opciones","dropdown-icon":"more_vert"},{default:(0,s.w5)((()=>[(0,s.Wm)(h,null,{default:(0,s.w5)((()=>[(0,s.wy)(((0,s.wg)(),(0,s.j4)(p,{clickable:"",onClick:t=>{i.priceUpdateDialog=!0,i.price2=e.row,this.store.price=e.row.price}},{default:(0,s.w5)((()=>[(0,s.Wm)(m,null,{default:(0,s.w5)((()=>[(0,s.Wm)(u,null,{default:(0,s.w5)((()=>[gl])),_:1})])),_:1})])),_:2},1032,["onClick"])),[[I]]),(0,s.wy)(((0,s.wg)(),(0,s.j4)(p,{clickable:"",onClick:t=>n.priceDelete(e.row.id,e.pageIndex)},{default:(0,s.w5)((()=>[(0,s.Wm)(m,null,{default:(0,s.w5)((()=>[(0,s.Wm)(u,null,{default:(0,s.w5)((()=>[bl])),_:1})])),_:1})])),_:2},1032,["onClick"])),[[I]])])),_:2},1024)])),_:2},1024)])),_:2},1032,["props"])])),_:1},8,["rows","columns","filter"])])]),(0,s.Wm)(D,{modelValue:i.priceDialog,"onUpdate:modelValue":t[6]||(t[6]=e=>i.priceDialog=e),"full-width":""},{default:(0,s.w5)((()=>[(0,s.Wm)(C,null,{default:(0,s.w5)((()=>[(0,s.Wm)(w,{class:"row items-center q-pb-none"},{default:(0,s.w5)((()=>[fl,(0,s.Wm)(v),(0,s.wy)((0,s.Wm)(d,{icon:"close",flat:"",round:"",dense:""},null,512),[[I]])])),_:1}),(0,s.Wm)(w,null,{default:(0,s.w5)((()=>[(0,s.Wm)(y,{onSubmit:(0,o.iM)(n.priceCreate,["prevent"])},{default:(0,s.w5)((()=>[(0,s._)("div",vl,[(0,s._)("div",wl,[(0,s.Wm)(c,{dense:"",outlined:"",label:"Serie",modelValue:i.price.serie,"onUpdate:modelValue":t[2]||(t[2]=e=>i.price.serie=e)},null,8,["modelValue"])]),(0,s._)("div",_l,[(0,s.Wm)(c,{dense:"",outlined:"",label:"Precio",modelValue:i.price.precio,"onUpdate:modelValue":t[3]||(t[3]=e=>i.price.precio=e),type:"number",step:"0.01"},null,8,["modelValue"])]),(0,s._)("div",yl,[(0,s.Wm)(c,{dense:"",outlined:"",label:"Descripcion",modelValue:i.price.descripcion,"onUpdate:modelValue":t[4]||(t[4]=e=>i.price.descripcion=e)},null,8,["modelValue"])]),(0,s._)("div",Cl,[(0,s.Wm)(_,{"false-value":"NO",label:"Promo "+i.price.promo,"true-value":"SI",color:"green",modelValue:i.price.promo,"onUpdate:modelValue":t[5]||(t[5]=e=>i.price.promo=e)},null,8,["label","modelValue"])]),(0,s._)("div",Dl,[(0,s.Wm)(d,{loading:i.loading,color:"green",icon:"add_circle",class:"full-width",type:"submit",label:"Guardar"},null,8,["loading"])])])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,s.Wm)(D,{modelValue:i.priceUpdateDialog,"onUpdate:modelValue":t[11]||(t[11]=e=>i.priceUpdateDialog=e),"full-width":""},{default:(0,s.w5)((()=>[(0,s.Wm)(C,null,{default:(0,s.w5)((()=>[(0,s.Wm)(w,{class:"row items-center q-pb-none"},{default:(0,s.w5)((()=>[xl,(0,s.Wm)(v),(0,s.wy)((0,s.Wm)(d,{icon:"close",flat:"",round:"",dense:""},null,512),[[I]])])),_:1}),(0,s.Wm)(w,null,{default:(0,s.w5)((()=>[(0,s.Wm)(y,{onSubmit:(0,o.iM)(n.priceUpdate,["prevent"])},{default:(0,s.w5)((()=>[(0,s._)("div",Il,[(0,s._)("div",Vl,[(0,s.Wm)(c,{dense:"",outlined:"",label:"Serie",modelValue:i.price2.serie,"onUpdate:modelValue":t[7]||(t[7]=e=>i.price2.serie=e)},null,8,["modelValue"])]),(0,s._)("div",Wl,[(0,s.Wm)(c,{dense:"",outlined:"",label:"Precio",modelValue:i.price2.precio,"onUpdate:modelValue":t[8]||(t[8]=e=>i.price2.precio=e),type:"number",step:"0.01"},null,8,["modelValue"])]),(0,s._)("div",Tl,[(0,s.Wm)(c,{dense:"",outlined:"",label:"Descripcion",modelValue:i.price2.descripcion,"onUpdate:modelValue":t[9]||(t[9]=e=>i.price2.descripcion=e)},null,8,["modelValue"])]),(0,s._)("div",Ml,[(0,s.Wm)(_,{"false-value":"NO",label:"Promo "+i.price2.promo,"true-value":"SI",color:"green",modelValue:i.price2.promo,"onUpdate:modelValue":t[10]||(t[10]=e=>i.price2.promo=e)},null,8,["label","modelValue"])]),(0,s._)("div",Al,[(0,s.Wm)(d,{color:"yellow-8",icon:"edit",class:"full-width",type:"submit",label:"Modificar"})])])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}const Sl={name:"Tarifas",data(){return{loading:!1,priceFilter:"",price:{promo:"NO"},price2:{},priceDialog:!1,priceUpdateDialog:!1,store:(0,ne.c)(),priceColumns:[{label:"OPCIONES",field:"opciones",name:"opciones"},{label:"SERIE",field:"serie",name:"serie",sortable:!0},{label:"PRECIO",field:"precio",name:"precio",sortable:!0},{label:"PROMO",field:"promo",name:"promo",sortable:!0},{label:"DESCRIPCION",field:"descripcion",name:"descripcion"}]}},created(){this.store.priceSingleTon||(this.$q.loading.show(),this.store.priceSingleTon=!0,this.$api.get("price").then((e=>{e.data.forEach((e=>{e.label=e.serie+" "+e.precio+" Bs."})),this.store.prices2=e.data,this.store.prices3=e.data,this.store.prices=e.data,this.$q.loading.hide()})))},methods:{priceCreate(){this.loading=!0,this.$api.post("price",this.price).then((e=>{this.loading=!1,this.store.prices.push(e.data),this.priceDialog=!1}))},priceUpdate(){this.$q.loading.show(),this.$api.put("price/"+this.price2.id,this.price2).then((e=>{this.$q.loading.hide(),console.log(e.data),this.price2={};let t=this.store.prices.findIndex((t=>t.id==e.data.id));this.store.prices[t]=e.data,this.priceUpdateDialog=!1}))},priceDelete(e,t){this.$q.dialog({title:"Eliminar Tarifa",message:"¿Esta seguro de eliminar la Tarifa?",ok:{push:!0},cancel:{push:!0,color:"negative"}}).onOk((()=>{this.$q.loading.show(),this.$api.delete("price/"+e).then((e=>{this.store.prices.splice(t,1),this.$q.loading.hide(),this.$q.notify({message:"Tarifa eliminada",color:"positive",icon:"done"})}))}))}}},ql=(0,r.Z)(Sl,[["render",El]]),jl=ql;D()(Sl,"components",{QPage:y.Z,QTable:ce.Z,QBtn:ue.Z,QInput:me.Z,QIcon:pe.Z,QTd:he.Z,QBtnDropdown:be.Z,QList:fe.Z,QItem:ve.Z,QItemSection:we.Z,QItemLabel:_e.Z,QDialog:ye.Z,QCard:Ce.Z,QCardSection:De.Z,QSpace:xe.Z,QForm:Ie.Z,QToggle:We.Z}),D()(Sl,"directives",{ClosePopup:Me.Z});const Ll={class:"row"},Nl={class:"col-12"},kl=(0,s._)("div",{class:"text-h6"},"Registrar Cufd",-1),Ol={class:"row"},Ul={class:"col-12"},Fl={class:"col-12 flex flex-center"},Zl=(0,s._)("div",{class:"text-h6"},"Registrar evento significativo",-1),zl={class:"row"},Ql={class:"col-12"},Rl={class:"col-12"},Pl={class:"col-12"},Yl={class:"col-12 flex flex-center"};function $l(e,t,l,a,i,n){const d=(0,s.up)("q-btn"),r=(0,s.up)("q-icon"),c=(0,s.up)("q-input"),u=(0,s.up)("q-td"),m=(0,s.up)("q-table"),p=(0,s.up)("q-space"),h=(0,s.up)("q-card-section"),g=(0,s.up)("q-select"),b=(0,s.up)("q-form"),f=(0,s.up)("q-card"),v=(0,s.up)("q-dialog"),w=(0,s.up)("q-page"),_=(0,s.Q2)("close-popup");return(0,s.wg)(),(0,s.j4)(w,null,{default:(0,s.w5)((()=>[(0,s._)("div",Ll,[(0,s._)("div",Nl,[(0,s.Wm)(m,{rows:i.cufds,dense:"",title:"Gestionar cufd",columns:i.cufdsColums,"rows-per-page-options":[0],filter:i.cudfFilter},{"top-right":(0,s.w5)((()=>[(0,s.Wm)(d,{color:"green",icon:"add_circle",label:"Agregar",loading:i.loading,onClick:t[0]||(t[0]=e=>i.cuiDialog=!0)},null,8,["loading"]),(0,s.Wm)(c,{outlined:"",dense:"",debounce:"300",modelValue:i.cudfFilter,"onUpdate:modelValue":t[1]||(t[1]=e=>i.cudfFilter=e),placeholder:"Buscar"},{append:(0,s.w5)((()=>[(0,s.Wm)(r,{name:"search"})])),_:1},8,["modelValue"])])),"body-cell-Opciones":(0,s.w5)((e=>[(0,s.Wm)(u,{props:e,"auto-width":""},{default:(0,s.w5)((()=>[0==e.pageIndex?((0,s.wg)(),(0,s.j4)(d,{key:0,size:"10px",icon:"add_circle_outline",onClick:t=>n.eventoSignificativoClick(e.row),color:"primary",label:"Evento significativo","no-caps":""},null,8,["onClick"])):(0,s.kq)("",!0)])),_:2},1032,["props"])])),"body-cell-sales":(0,s.w5)((e=>[(0,s.Wm)(u,{props:e,"auto-width":""},{default:(0,s.w5)((()=>[(0,s.Uk)((0,Lt.zw)(e.row.sales.length),1)])),_:2},1032,["props"])])),_:1},8,["rows","columns","filter"])])]),(0,s.Wm)(v,{modelValue:i.cuiDialog,"onUpdate:modelValue":t[3]||(t[3]=e=>i.cuiDialog=e)},{default:(0,s.w5)((()=>[(0,s.Wm)(f,null,{default:(0,s.w5)((()=>[(0,s.Wm)(h,{class:"row items-center q-pb-none"},{default:(0,s.w5)((()=>[kl,(0,s.Wm)(p),(0,s.wy)((0,s.Wm)(d,{icon:"close",flat:"",round:"",dense:""},null,512),[[_]])])),_:1}),(0,s.Wm)(h,null,{default:(0,s.w5)((()=>[(0,s.Wm)(b,{onSubmit:(0,o.iM)(n.cuiCreate,["prevent"])},{default:(0,s.w5)((()=>[(0,s._)("div",Ol,[(0,s._)("div",Ul,[(0,s.Wm)(g,{options:[0],dense:"",outlined:"",label:"codigoPuntoVenta",modelValue:i.cui.codigoPuntoVenta,"onUpdate:modelValue":t[2]||(t[2]=e=>i.cui.codigoPuntoVenta=e)},null,8,["modelValue"])]),(0,s._)("div",Fl,[(0,s.Wm)(d,{dense:"",class:"full-width",loading:i.loading,type:"submit",color:"green",icon:"check",label:"Guardar"},null,8,["loading"])])])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,s.Wm)(v,{modelValue:i.eventoSignificativoDialog,"onUpdate:modelValue":t[7]||(t[7]=e=>i.eventoSignificativoDialog=e)},{default:(0,s.w5)((()=>[(0,s.Wm)(f,null,{default:(0,s.w5)((()=>[(0,s.Wm)(h,{class:"row items-center q-pb-none"},{default:(0,s.w5)((()=>[Zl,(0,s.Wm)(p),(0,s.wy)((0,s.Wm)(d,{icon:"close",flat:"",round:"",dense:""},null,512),[[_]])])),_:1}),(0,s.Wm)(h,null,{default:(0,s.w5)((()=>[(0,s.Wm)(b,{onSubmit:(0,o.iM)(n.eventoSignificativoCreate,["prevent"])},{default:(0,s.w5)((()=>[(0,s._)("div",zl,[(0,s._)("div",Ql,[(0,s.Wm)(g,{options:i.events,dense:"",outlined:"",label:"codigoMotivoEvento",modelValue:i.event,"onUpdate:modelValue":t[4]||(t[4]=e=>i.event=e)},null,8,["options","modelValue"])]),(0,s._)("div",Rl,[(0,s.Wm)(c,{dense:"",outlined:"",label:"fechaHoraInicioEvento",modelValue:i.fechaHoraInicioEvento,"onUpdate:modelValue":t[5]||(t[5]=e=>i.fechaHoraInicioEvento=e)},null,8,["modelValue"])]),(0,s._)("div",Pl,[(0,s.Wm)(c,{dense:"",outlined:"",label:"fechaHoraFinEvento",modelValue:i.fechaHoraFinEvento,"onUpdate:modelValue":t[6]||(t[6]=e=>i.fechaHoraFinEvento=e)},null,8,["modelValue"])]),(0,s._)("div",Yl,[(0,s.Wm)(d,{dense:"",class:"full-width",loading:i.loading,type:"submit",color:"green",icon:"check",label:"Crear evento significativo"},null,8,["loading"])])])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}const Bl={name:"Cuis",data(){return{loading:!1,eventoSignificativoDialog:!1,fechaHoraInicioEvento:de.ZP.formatDate(new Date,"YYYY-MM-DD HH:mm:ss"),fechaHoraFinEvento:de.ZP.formatDate(new Date,"YYYY-MM-DD HH:mm:ss"),cufd:{},cufdEvento:{},cufds:[],events:[],event:{},cui:{codigoPuntoVenta:0,codigoSucursal:0},cuiDialog:!1,cudfFilter:"",cufdsColums:[{name:"Opciones",label:"Opciones",field:"Opciones"},{name:"codigoPuntoVenta",label:"codigoPuntoVenta",field:"codigoPuntoVenta",sortable:!0},{name:"sales",label:"sales",field:"sales",sortable:!0},{name:"fechaCreacion",label:"fechaCreacion",field:"fechaCreacion",sortable:!0},{name:"fechaVigencia",label:"fechaVigencia",field:"fechaVigencia",sortable:!0},{name:"id",label:"id",field:"id",sortable:!0},{name:"codigoSucursal",label:"codigoSucursal",field:"codigoSucursal",sortable:!0},{name:"codigo",label:"codigo",field:"codigo",sortable:!0},{name:"codigoControl",label:"codigoControl",field:"codigoControl",sortable:!0}]}},created(){this.cufdGet(),this.$api.get("event").then((e=>{e.data.forEach((e=>{e.label=e.codigoClasificador+" "+e.descripcion})),this.events=e.data,this.event=this.events[0]}))},methods:{eventoSignificativoClick(e){this.eventoSignificativoDialog=!0,this.cufdEvento=e,this.fechaHoraInicioEvento=this.cufdEvento.fechaCreacion,this.fechaHoraFinEvento=this.cufdEvento.fechaVigencia},cufdGet(){this.loading=!0,this.$api.get("cufd").then((e=>{e.data.forEach((e=>{e.label="Punto venta"+e.codigoPuntoVenta+" ID:"+e.id+" Fecha:"+e.fechaCreacion+"-"+e.fechaVigencia})),this.loading=!1,this.cufds=e.data}))},cuiCreate(){this.loading=!0,this.$api.post("cufd",this.cui).then((e=>{this.loading=!1,this.cuiDialog=!1,this.cufdGet(),this.$q.notify({color:"positive",message:"Cui registrado correctamente",icon:"done"})})).catch((e=>{this.loading=!1,this.$q.notify({color:"negative",message:e.response.data.message,position:"top",icon:"error",timeout:5e3})}))},eventoSignificativoCreate(){this.loading=!0,this.$api.post("eventoSignificativo",{codigoPuntoVenta:this.cufdEvento.codigoPuntoVenta,codigoSucursal:this.cufdEvento.codigoSucursal,fechaHoraFinEvento:this.fechaHoraFinEvento,fechaHoraInicioEvento:this.fechaHoraInicioEvento,codigoMotivoEvento:this.event.codigoClasificador,descripcion:this.event.descripcion,cufdEvento:this.cufdEvento.codigo,cufdEventoId:this.cufdEvento.id}).then((e=>{this.loading=!1,this.cuiDialog=!1,this.eventoSignificativoDialog=!1,this.$q.notify({color:"positive",message:"Evento significativo  registrado correctamente",icon:"done"})})).catch((e=>{this.loading=!1,this.$q.notify({color:"negative",message:e.response.data.message,position:"top",icon:"error",timeout:5e3})}))}}},Gl=(0,r.Z)(Bl,[["render",$l]]),Hl=Gl;D()(Bl,"components",{QPage:y.Z,QTable:ce.Z,QBtn:ue.Z,QInput:me.Z,QIcon:pe.Z,QTd:he.Z,QDialog:ye.Z,QCard:Ce.Z,QCardSection:De.Z,QSpace:xe.Z,QForm:Ie.Z,QSelect:Ve.Z}),D()(Bl,"directives",{ClosePopup:Me.Z});const Kl={class:"row q-pa-xs"},Jl={class:"col-12"},Xl=(0,s._)("div",{class:"text-h5"},"PROGRAMACION DE FUNCIONES",-1),eo={class:"col-12"},to={class:"row"},lo={class:"col q-ma-xs"},oo=(0,s._)("div",{class:"text-h6"},"REGISTRAR DE FUNCION PELICULA",-1),ao={class:"row"},io=(0,s._)("div",{class:"col-12"},null,-1),so={class:"col-4"},no=(0,s.Uk)(" No results "),ro={class:"col-4"},co=(0,s.Uk)(" No results "),uo={class:"col-4"},mo=(0,s.Uk)(" No results "),po={class:"col-4"},ho={class:"col-4"},go={class:"col-4"},bo={class:"col-4"},fo=(0,s._)("div",{class:"text-h6"},"MODIFICAR FUNCION",-1),vo={class:"row"},wo={class:"col-4"},_o=(0,s.Uk)(" No results "),yo={class:"col-4"},Co=(0,s.Uk)(" No results "),Do={class:"col-4"},xo=(0,s.Uk)(" No results "),Io={class:"col-6"},Vo={class:"col-6"},Wo={class:"col-4"},To={class:"col-4"};function Mo(e,t,l,o,a,i){const n=(0,s.up)("q-btn"),d=(0,s.up)("FullCalendar"),r=(0,s.up)("q-card-section"),c=(0,s.up)("q-item-section"),u=(0,s.up)("q-item"),m=(0,s.up)("q-select"),p=(0,s.up)("q-input"),h=(0,s.up)("q-checkbox"),g=(0,s.up)("q-card-actions"),b=(0,s.up)("q-card"),f=(0,s.up)("q-dialog"),v=(0,s.up)("q-toggle"),w=(0,s.up)("q-page"),_=(0,s.Q2)("close-popup");return(0,s.wg)(),(0,s.j4)(w,null,{default:(0,s.w5)((()=>[(0,s._)("div",Kl,[(0,s._)("div",Jl,[Xl,(0,s.Wm)(n,{label:"Registrar",icon:"add_circle",color:"primary",onClick:t[0]||(t[0]=e=>{a.programaDialog=!0})}),(0,s._)("div",eo,[(0,s._)("div",to,[(0,s._)("div",lo,[(0,s.Wm)(n,{icon:"list",class:"full-width",label:"TODOS",color:a.color[0],onClick:t[1]||(t[1]=e=>i.listado(0))},null,8,["color"])]),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.store.salas,(e=>((0,s.wg)(),(0,s.iD)("div",{class:"col q-ma-xs",key:e},[(0,s.Wm)(n,{class:"full-width",icon:"play_circle_outline",label:e.nombre,color:a.color[e.nro],onClick:t=>i.listado(e.id)},null,8,["label","color","onClick"])])))),128))])]),(0,s.Wm)(d,{class:"full-height",options:a.calendarOptions},null,8,["options"])]),(0,s.Wm)(f,{modelValue:a.programaDialog,"onUpdate:modelValue":t[9]||(t[9]=e=>a.programaDialog=e),"full-width":""},{default:(0,s.w5)((()=>[(0,s.Wm)(b,null,{default:(0,s.w5)((()=>[(0,s.Wm)(r,null,{default:(0,s.w5)((()=>[oo])),_:1}),(0,s.Wm)(r,{class:"q-pt-none"},{default:(0,s.w5)((()=>[(0,s._)("div",ao,[io,(0,s._)("div",so,[(0,s.Wm)(m,{outlined:"",modelValue:a.sala,"onUpdate:modelValue":t[2]||(t[2]=e=>a.sala=e),label:"SALAS",options:a.store.salas2,"use-input":"","input-debounce":"0",onFilter:i.filterSala},{"no-option":(0,s.w5)((()=>[(0,s.Wm)(u,null,{default:(0,s.w5)((()=>[(0,s.Wm)(c,{class:"text-grey"},{default:(0,s.w5)((()=>[no])),_:1})])),_:1})])),_:1},8,["modelValue","options","onFilter"])]),(0,s._)("div",ro,[(0,s.Wm)(m,{outlined:"",modelValue:a.pelicula,"onUpdate:modelValue":t[3]||(t[3]=e=>a.pelicula=e),label:"PELICULAS",options:a.store.movies2,"use-input":"","input-debounce":"0",onFilter:i.filterPelicula},{"no-option":(0,s.w5)((()=>[(0,s.Wm)(u,null,{default:(0,s.w5)((()=>[(0,s.Wm)(c,{class:"text-grey"},{default:(0,s.w5)((()=>[co])),_:1})])),_:1})])),_:1},8,["modelValue","options","onFilter"])]),(0,s._)("div",uo,[(0,s.Wm)(m,{outlined:"",modelValue:a.tarifa,"onUpdate:modelValue":t[4]||(t[4]=e=>a.tarifa=e),label:"TARIFAS",options:a.store.prices2,"use-input":"","input-debounce":"0",onFilter:i.filterTarifa},{"no-option":(0,s.w5)((()=>[(0,s.Wm)(u,null,{default:(0,s.w5)((()=>[(0,s.Wm)(c,{class:"text-grey"},{default:(0,s.w5)((()=>[mo])),_:1})])),_:1})])),_:1},8,["modelValue","options","onFilter"])]),(0,s._)("div",po,[(0,s.Wm)(p,{outlined:"",modelValue:a.programa.fechaini,"onUpdate:modelValue":[t[5]||(t[5]=e=>a.programa.fechaini=e),i.cambioFecha],label:"Fecha Inicial",type:"date"},null,8,["modelValue","onUpdate:modelValue"])]),(0,s._)("div",ho,[(0,s.Wm)(p,{outlined:"",modelValue:a.programa.fechafin,"onUpdate:modelValue":t[6]||(t[6]=e=>a.programa.fechafin=e),label:"Fecha Final",type:"date"},null,8,["modelValue"])]),(0,s._)("div",go,[(0,s.Wm)(p,{outlined:"",modelValue:a.programa.hora,"onUpdate:modelValue":t[7]||(t[7]=e=>a.programa.hora=e),required:"",label:"Hora",type:"time"},null,8,["modelValue"])]),(0,s._)("div",bo,[(0,s.Wm)(h,{modelValue:a.programa.subtitulada,"onUpdate:modelValue":t[8]||(t[8]=e=>a.programa.subtitulada=e),label:"SUBTITULADA",size:"xl","true-value":"SI","false-value":"NO"},null,8,["modelValue"])])])])),_:1}),(0,s.Wm)(g,{align:"right",class:"text-primary"},{default:(0,s.w5)((()=>[(0,s.wy)((0,s.Wm)(n,{color:"red ",icon:"o_delete",label:"CANCELAR"},null,512),[[_]]),(0,s.Wm)(n,{color:"green",icon:"o_check_circle",loading:a.loading,label:"REGISTRAR",onClick:i.registrarFuncion},null,8,["loading","onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,s.Wm)(f,{modelValue:a.programaUpdateDialog,"onUpdate:modelValue":t[17]||(t[17]=e=>a.programaUpdateDialog=e),"full-width":""},{default:(0,s.w5)((()=>[(0,s.Wm)(b,null,{default:(0,s.w5)((()=>[(0,s.Wm)(r,null,{default:(0,s.w5)((()=>[fo])),_:1}),(0,s.Wm)(r,{class:"q-pt-none"},{default:(0,s.w5)((()=>[(0,s._)("div",vo,[(0,s._)("div",wo,[(0,s.Wm)(m,{outlined:"",modelValue:a.sala,"onUpdate:modelValue":t[10]||(t[10]=e=>a.sala=e),label:"SALAS",options:a.store.salas2,"use-input":"","input-debounce":"0",onFilter:i.filterSala},{"no-option":(0,s.w5)((()=>[(0,s.Wm)(u,null,{default:(0,s.w5)((()=>[(0,s.Wm)(c,{class:"text-grey"},{default:(0,s.w5)((()=>[_o])),_:1})])),_:1})])),_:1},8,["modelValue","options","onFilter"])]),(0,s._)("div",yo,[(0,s.Wm)(m,{outlined:"",modelValue:a.pelicula,"onUpdate:modelValue":t[11]||(t[11]=e=>a.pelicula=e),label:"PELICULAS",options:a.store.movies2,"use-input":"","input-debounce":"0",onFilter:i.filterPelicula},{"no-option":(0,s.w5)((()=>[(0,s.Wm)(u,null,{default:(0,s.w5)((()=>[(0,s.Wm)(c,{class:"text-grey"},{default:(0,s.w5)((()=>[Co])),_:1})])),_:1})])),_:1},8,["modelValue","options","onFilter"])]),(0,s._)("div",Do,[(0,s.Wm)(m,{outlined:"",modelValue:a.tarifa,"onUpdate:modelValue":t[12]||(t[12]=e=>a.tarifa=e),label:"TARIFAS",options:a.store.prices2,"use-input":"","input-debounce":"0",onFilter:i.filterTarifa},{"no-option":(0,s.w5)((()=>[(0,s.Wm)(u,null,{default:(0,s.w5)((()=>[(0,s.Wm)(c,{class:"text-grey"},{default:(0,s.w5)((()=>[xo])),_:1})])),_:1})])),_:1},8,["modelValue","options","onFilter"])]),(0,s._)("div",Io,[(0,s.Wm)(p,{outlined:"",modelValue:a.programa2.fecha,"onUpdate:modelValue":t[13]||(t[13]=e=>a.programa2.fecha=e),label:"Fecha ",type:"date",readonly:""},null,8,["modelValue"])]),(0,s._)("div",Vo,[(0,s.Wm)(p,{outlined:"",modelValue:a.programa2.hora,"onUpdate:modelValue":t[14]||(t[14]=e=>a.programa2.hora=e),label:"Hora",type:"time"},null,8,["modelValue"])]),(0,s._)("div",Wo,[(0,s.Wm)(h,{modelValue:a.programa2.subtitulada,"onUpdate:modelValue":t[15]||(t[15]=e=>a.programa2.subtitulada=e),label:"SUBTITULADA",size:"xl","true-value":"SI","false-value":"NO"},null,8,["modelValue"])]),(0,s._)("div",To,[(0,s.Wm)(v,{modelValue:a.programa2.activo,"onUpdate:modelValue":t[16]||(t[16]=e=>a.programa2.activo=e),color:"purple",label:a.programa2.activo,size:"xl","false-value":"INACTVO","true-value":"ACTIVO"},null,8,["modelValue","label"])])])])),_:1}),(0,s.Wm)(g,{align:"right",class:"text-primary"},{default:(0,s.w5)((()=>[(0,s.wy)((0,s.Wm)(n,{color:"red-10",label:"Atras",loading:a.loading,icon:"arrow_back"},null,8,["loading"]),[[_]]),(0,s.Wm)(n,{color:"red",label:"Eliminar",loading:a.loading,onClick:i.eliminarFuncion,icon:"delete"},null,8,["loading","onClick"]),(0,s.Wm)(n,{label:"Modificar",loading:a.loading,onClick:i.modificarFuncion,icon:"edit",color:"yellow"},null,8,["loading","onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])])),_:1})}var Ao=l(5553),Eo=l(7238),So=l(886),qo=l(4005),jo=l(8658),Lo=l(3878),No=l.n(Lo);const ko={name:"Programa",components:{FullCalendar:Ao.ZPm},data(){return{loading:!1,events:[],sala:{label:"",value:{}},pelicula:{label:"",value:{}},tarifa:{label:"",value:{}},funcion:[],programa:{fechaini:de.ZP.formatDate(new Date,"YYYY-MM-DD"),fechafin:de.ZP.formatDate(new Date,"YYYY-MM-DD"),hora:"00:00",subtitulada:"NO"},programa2:{},listpelis:[],listsalas:[],filsala:[],filpelis:[],filtarifa:[],listtarifa:[],programaUpdateDialog:!1,color:["indigo","blue","green","cyan-4","orange","light-green","lime","amber","light-blue","purple","pink","teal","lime","deep-orange","#1b5e20","#ff5722","#795548","#e65100","#827717","#01579b","#006064","#1b5e20","#ff5722","#795548"],programaDialog:!1,store:(0,ne.c)(),calendarOptions:{selectable:!0,plugins:[Eo.ZP,qo.ZP,So.ZP],headerToolbar:{left:"prev,next",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay"},initialView:"timeGridWeek",locale:jo.Z,allDaySlot:!1,editable:!0,selectMirror:!0,dayMaxEvents:!0,firstDay:4,eventClick:this.eventTitleClick,dateClick:this.dateClick,events:[],height:"auto",weekends:!0}}},mounted(){this.cambioFecha(this.programa.fechaini),this.store.salaSingleTon||(this.$q.loading.show(),this.store.salaSingleTon=!0,this.$api.get("sala").then((e=>{e.data.forEach((e=>{e.label=e.nombre})),this.store.salas2=e.data,this.store.salas3=e.data,this.store.salas=e.data,this.$q.loading.hide()}))),this.store.priceSingleTon||(this.$q.loading.show(),this.store.priceSingleTon=!0,this.$api.get("price").then((e=>{e.data.forEach((e=>{e.label=e.serie+" "+e.precio+" Bs."})),this.store.prices2=e.data,this.store.prices3=e.data,this.store.prices=e.data,this.$q.loading.hide()}))),this.$q.loading.show(),this.store.movieSingleTon=!0,this.$api.get("movie").then((e=>{e.data.forEach((e=>{e.label=e.nombre+" "+e.formato})),this.store.movies2=e.data,this.store.movies3=e.data,this.store.movies=e.data,this.$q.loading.hide()})),this.listado(0)},methods:{cambioFecha(e){this.programa.fechafin=No()(e).add(7,"days").format("YYYY-MM-DD")},eventTitleClick:function(e){this.funcion.forEach((t=>{t.id==e.event.id&&(this.programa2=t)})),this.pelicula=this.programa2.movie,this.pelicula.label=this.pelicula.nombre,this.tarifa=this.programa2.price,this.tarifa.label=this.tarifa.serie+" "+this.tarifa.precio+" Bs",this.sala=this.programa2.sala,this.sala.label=this.sala.nombre,this.programa2.hora=de.ZP.formatDate(this.programa2.horaInicio,"HH:mm"),this.programaUpdateDialog=!0},registrarFuncion(){this.programa.movie=this.pelicula,this.programa.price=this.tarifa,this.programa.sala=this.sala,this.loading=!0,this.$api.post("programa",this.programa).then((e=>{console.log(e.data),this.listado(0),this.loading=!1,this.programa={fechaini:de.ZP.formatDate(new Date,"YYYY-MM-DD"),fechafin:de.ZP.formatDate(new Date,"YYYY-MM-DD"),hora:"00:00",subtitulada:"NO"},this.programaDialog=!1})).catch((e=>{console.error(e),this.$q.notify({color:"negative",textColor:"white",icon:"report_problem",message:e.response.data.message,position:"top"}),this.loading=!1}))},modificarFuncion(){this.programa2.movie=this.pelicula,this.programa2.price=this.tarifa,this.programa2.sala=this.sala,this.loading=!0,this.$api.put("programa/"+this.programa2.id,this.programa2).then((e=>{this.listado(0),this.loading=!1,this.programaUpdateDialog=!1}))},eliminarFuncion(){this.$q.dialog({title:"Eliminar",message:"¿Está seguro de eliminar la función?",cancel:!0,persistent:!0}).onOk((()=>{this.loading=!0,this.$api.delete("programa/"+this.programa2.id).then((e=>{this.listado(0),this.loading=!1,this.programaUpdateDialog=!1}))})).onCancel((()=>{console.log("Cancel")})).onDismiss((()=>{console.log("Dismissed")}))},cargar(){this.listtarifa=[],this.listsalas=[],this.listpelis=[],this.store.prices.forEach((e=>{e.label=e.serie+" "+e.precio+" Bs.",this.listtarifa.push(e)})),this.store.movies.forEach((e=>{e.label=e.nombre,this.listpelis.push(e)})),this.store.salas.forEach((e=>{e.label=e.nombre,this.listsalas.push(e)})),this.filsala=this.listsalas,this.filpelis=this.listpelis,this.filtarifa=this.listtarifa},filterSala(e,t){t(""!==e?()=>{const t=e.toLowerCase();this.store.salas2=this.store.salas3.filter((e=>e.label.toLowerCase().indexOf(t)>-1))}:()=>{this.store.salas2=this.store.salas3})},filterPelicula(e,t){t(""!==e?()=>{const t=e.toLowerCase();this.store.movies2=this.store.movies3.filter((e=>e.label.toLowerCase().indexOf(t)>-1))}:()=>{this.store.movies2=this.store.movies3})},filterTarifa(e,t){t(""!==e?()=>{const t=e.toLowerCase();this.store.prices2=this.store.prices3.filter((e=>e.label.toLowerCase().indexOf(t)>-1))}:()=>{this.store.prices2=this.store.prices3})},listado(e){this.events=[],this.funcion=[],this.$api.get("programa").then((t=>{let l=0;t.data.forEach((t=>{this.funcion.push(t),l=t.sala.nro,(0==e||e==t.sala.id)&&this.events.push({title:t.movie.nombre+" "+t.movie.formato,start:t.horaInicio,end:t.horaFin,color:this.color[l],id:t.id})})),console.log(this.events),this.calendarOptions.events=this.events}))}},computed:{listapelis(){return 0}}};var Oo=l(1221),Uo=l(1821);const Fo=(0,r.Z)(ko,[["render",Mo]]),Zo=Fo;D()(ko,"components",{QPage:y.Z,QBtn:ue.Z,QDialog:ye.Z,QCard:Ce.Z,QCardSection:De.Z,QSelect:Ve.Z,QItem:ve.Z,QItemSection:we.Z,QInput:me.Z,QCheckbox:Oo.Z,QCardActions:Uo.Z,QToggle:We.Z}),D()(ko,"directives",{ClosePopup:Me.Z});const zo=e=>((0,s.dD)("data-v-c6c6f722"),e=e(),(0,s.Cn)(),e),Qo={class:"row"},Ro={class:"col-2 flex flex-center"},Po=(0,s.Uk)(" PANEL DE VENTAS "),Yo={class:"col-2"},$o={class:"row"},Bo={class:"col-6"},Go={class:"text-h6"},Ho=(0,s.Uk)(" PELICULAS"),Ko={class:"col-6 text-right"},Jo={class:"text-subtitle2"},Xo={class:"row"},ea={class:"absolute-bottom text-subtitle2 text-center",style:{padding:"0px",margin:"0px",border:"0px"}},ta={class:"row"},la={class:"col-6 q-pa-none q-ma-none"},oa={class:"col-6 text-right flex flex-center"},aa={class:"row"},ia={class:"col-4"},sa={class:"text-bold text-center"},na=zo((()=>(0,s._)("div",{class:"col-4"},null,-1))),da={class:"col-4"},ra={class:"text-bold q-pa-xs bg-grey-8 text-white"},ca={class:"row"},ua=zo((()=>(0,s._)("div",{class:"col-4"},"Detalle venta",-1))),ma={class:"col-4"},pa={class:"col-4"},ha=zo((()=>(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("th",{colspan:"4"},"Detalle de venta")]),(0,s._)("tr",null,[(0,s._)("th",null,"Fecha"),(0,s._)("th",null,"Cantidad"),(0,s._)("th",null,"Pelicula"),(0,s._)("th",null,"Subtotal")])],-1))),ga={class:"tdx"},ba={class:"tdx"},fa={class:"tdx"},va={class:"tdx text-right"},wa=zo((()=>(0,s._)("td",{colspan:"3",class:"tdx text-right text-bold"},"TOTAL: ",-1))),_a={class:"text-right tdx"},ya={class:"row"},Ca={class:"col-12 row items-center q-pb-none"},Da={class:"col-4 text-bold"},xa={class:"q-pa-xs flex flex-center"},Ia={style:{"font-size":"12px","font-weight":"bold"}},Va=(0,s.Uk)(" Disponibles: "),Wa={style:{"font-size":"14px","font-weight":"bolder"}},Ta=(0,s.Uk)(" Vendidas: "),Ma={style:{"font-size":"14px","font-weight":"bolder"}},Aa=(0,s.Uk)(" Devueltas: "),Ea={style:{"font-size":"14px","font-weight":"bolder"}},Sa=(0,s.Uk)("Capacidad:"),qa={style:{"font-size":"14px","font-weight":"bolder"}},ja={class:"text-bold"},La=(0,s.Uk)("CANTIDAD: "),Na={class:"text-red text-bold text-h4"},ka=(0,s.Uk)(" SUBTOTAL: "),Oa={class:"text-red text-bold text-h4"},Ua={class:"col-12"},Fa=["colspan"],Za=zo((()=>(0,s._)("th",null,null,-1))),za={class:"col-12 text-center"},Qa=zo((()=>(0,s._)("div",{class:"text-h6"},"Realizar venta",-1))),Ra={class:"row"},Pa={class:"col-2"},Ya={class:"col-2"},$a={class:"col-3"},Ba={class:"col-3"},Ga={class:"col-2"},Ha={class:"row"},Ka={class:"col-3"},Ja={class:"col-3"},Xa={class:"col-2"},ei={class:"col-2 flex flex-center"},ti={class:"col-2 flex flex-center"},li={class:"col-2 flex flex-center"},oi={class:"coll-12"},ai={class:"row"},ii={class:"col-6"},si={class:"col-6"},ni={key:1,class:"row"},di={class:"col-12"},ri={class:"col-12"},ci={class:"text-bold text-center text-h5"},ui={key:0,class:"col-12 text-red text-bold"},mi={class:"row"},pi={class:"col-6"},hi={class:"col-6"},gi=zo((()=>(0,s._)("div",{id:"myelement",class:"hidden"},null,-1)));function bi(e,t,l,a,i,n){const d=(0,s.up)("q-icon"),r=(0,s.up)("q-input"),c=(0,s.up)("q-card-section"),u=(0,s.up)("q-separator"),m=(0,s.up)("q-img"),p=(0,s.up)("q-card"),h=(0,s.up)("q-badge"),g=(0,s.up)("q-btn"),b=(0,s.up)("q-space"),f=(0,s.up)("q-dialog"),v=(0,s.up)("q-select"),w=(0,s.up)("q-toggle"),_=(0,s.up)("q-checkbox"),y=(0,s.up)("q-banner"),C=(0,s.up)("q-form"),D=(0,s.up)("q-page");return(0,s.wg)(),(0,s.j4)(D,null,{default:(0,s.w5)((()=>[(0,s.Wm)(p,null,{default:(0,s.w5)((()=>[(0,s.Wm)(c,{class:"q-py-xs bg-green-7 text-white text-bold"},{default:(0,s.w5)((()=>[(0,s._)("div",Qo,[(0,s._)("div",Ro,[(0,s.Wm)(d,{name:"live_tv",left:""}),Po]),(0,s._)("div",Yo,[(0,s.Wm)(r,{label:"fecha","onUpdate:modelValue":[n.myMovies,t[0]||(t[0]=e=>i.fecha=e)],min:i.now,type:"date","label-color":"white",outlined:"",dense:"",modelValue:i.fecha},null,8,["onUpdate:modelValue","min","modelValue"])])])])),_:1}),(0,s.Wm)(c,{class:"q-py-none"},{default:(0,s.w5)((()=>[(0,s._)("div",$o,[(0,s._)("div",Bo,[(0,s._)("div",Go,[(0,s.Wm)(d,{name:"o_confirmation_number"}),Ho])]),(0,s._)("div",Ko,[(0,s._)("div",Jo,"Venta de boletos vendidos: "+(0,Lt.zw)(i.totalventa),1)])])])),_:1}),(0,s.Wm)(u),(0,s.Wm)(c,null,{default:(0,s.w5)((()=>[(0,s._)("div",Xo,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.movies,(e=>((0,s.wg)(),(0,s.iD)("div",{class:"col-2",key:e.id},[(0,s.Wm)(p,{onClick:t=>n.myHours(e),style:{height:"100px"},class:"q-ma-xs"},{default:(0,s.w5)((()=>[(0,s.Wm)(m,{src:i.url+"../imagen/"+e.imagen,height:"100px"},{default:(0,s.w5)((()=>[(0,s._)("div",ea,[(0,s._)("div",ta,[(0,s._)("div",la,(0,Lt.zw)(e.nombre)+" "+(0,Lt.zw)(e.formato),1),(0,s._)("div",oa,(0,Lt.zw)(e.cantidad),1)])])])),_:2},1032,["src"])])),_:2},1032,["onClick"])])))),128))])])),_:1}),(0,s.Wm)(u),(0,s.Wm)(c),(0,s.Wm)(u),(0,s.Wm)(c,null,{default:(0,s.w5)((()=>[(0,s._)("div",aa,[(0,s._)("div",ia,[(0,s._)("div",sa,(0,Lt.zw)(i.movie.nombre),1),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.hours,(e=>((0,s.wg)(),(0,s.j4)(g,{onClick:t=>n.clickSala(e),loading:i.loading,size:"12px",class:"q-ma-xs full-width flex flex-center",color:"primary",key:e.id},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{name:"schedule",left:""}),(0,s.Wm)(h,{color:"red"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,Lt.zw)(e.sala.nombre),1)])),_:2},1024),(0,s.Uk)(" "+(0,Lt.zw)(e.horaInicio.substring(10,16))+" - "+(0,Lt.zw)(e.price.precio+"Bs"),1)])),_:2},1032,["onClick","loading"])))),128))]),na,(0,s._)("div",da,[(0,s._)("div",ra,[(0,s._)("div",ca,[ua,(0,s._)("div",ma,[(0,s.Wm)(g,{color:"red",loading:i.loading,onClick:n.momentaneoDeleteAll,dense:"",label:"Cancelar Venta","no-caps":"",icon:"o_delete"},null,8,["loading","onClick"])]),(0,s._)("div",pa,[(0,s.Wm)(g,{color:"green",disable:0==n.detalleVenta.length,loading:i.loading,onClick:n.saleCreate,dense:"",label:"Terminar Venta","no-caps":"",icon:"check_circle"},null,8,["disable","loading","onClick"])])])]),(0,s._)("table",null,[ha,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.detalleVenta,((e,t)=>((0,s.wg)(),(0,s.iD)("tr",{key:t},[(0,s._)("td",ga,(0,Lt.zw)(e.fecha),1),(0,s._)("td",ba,(0,Lt.zw)(e.cantidad),1),(0,s._)("td",fa,(0,Lt.zw)(e.pelicula),1),(0,s._)("td",va,(0,Lt.zw)(e.subtotal)+" Bs",1)])))),128))]),(0,s._)("tfoot",null,[(0,s._)("tr",null,[wa,(0,s._)("td",_a,(0,Lt.zw)(n.total)+"Bs",1)])])])])])])),_:1})])),_:1}),(0,s.Wm)(f,{"full-width":"",modelValue:i.salaDialog,"onUpdate:modelValue":t[2]||(t[2]=e=>i.salaDialog=e),persistent:""},{default:(0,s.w5)((()=>[(0,s.Wm)(p,null,{default:(0,s.w5)((()=>[(0,s.Wm)(c,null,{default:(0,s.w5)((()=>[(0,s._)("div",ya,[(0,s._)("div",Ca,[(0,s._)("div",Da,[(0,s.Uk)((0,Lt.zw)(i.movie.nombre)+" "+(0,Lt.zw)(i.movie.formato),1),(0,s.Wm)(d,{name:"schedule",left:""}),(0,s.Wm)(h,{color:"red"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,Lt.zw)(i.hour.sala.nombre),1)])),_:1}),(0,s.Uk)(" "+(0,Lt.zw)(i.hour.horaInicio.substring(10,16))+" - "+(0,Lt.zw)(i.hour.price.precio+"Bs"),1)]),(0,s._)("div",xa,[(0,s._)("div",Ia,[(0,s.Wm)(d,{name:"event_seat"}),Va,(0,s._)("span",Wa,(0,Lt.zw)(i.disponible)+"|",1),(0,s.Wm)(d,{name:"credit_card"}),Ta,(0,s._)("span",Ma,(0,Lt.zw)(i.vendido)+"|",1),(0,s.Wm)(d,{name:"settings_backup_restore"}),Aa,(0,s._)("span",Ea,(0,Lt.zw)(i.devueltos)+"|",1),(0,s.Wm)(d,{name:"apartment"}),Sa,(0,s._)("span",qa,(0,Lt.zw)(i.capacidad),1)])]),(0,s.Wm)(b),(0,s._)("div",ja,[La,(0,s._)("span",Na,(0,Lt.zw)(n.seleccionados.length),1),ka,(0,s._)("span",Oa,(0,Lt.zw)(n.seleccionados.length*i.hour.price.precio)+"Bs. ",1)]),(0,s.Wm)(g,{icon:"highlight_off",color:"red",flat:"",round:"",dense:"",onClick:n.salaDialogClose},null,8,["onClick"])]),(0,s._)("div",Ua,[(0,s._)("table",null,[(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("th",{colspan:parseInt(i.hour.sala.columnas)+1,class:"bg-blue-10 text-bold text-white"},"PANTALLA",8,Fa)]),(0,s._)("tr",null,[Za,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(parseInt(i.hour.sala.columnas),((e,t)=>((0,s.wg)(),(0,s.iD)("th",{key:t},(0,Lt.zw)(i.hour.sala.columnas-e+1),1)))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(parseInt(i.hour.sala.filas),((e,t)=>((0,s.wg)(),(0,s.iD)("tr",{key:t},[(0,s._)("th",null,(0,Lt.zw)(i.letra[t+1]),1),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(parseInt(i.hour.sala.columnas),((l,o)=>((0,s.wg)(),(0,s.iD)("td",{click:"cambio(f,c)",key:o,class:"text-center tdx",style:{padding:"0px",margin:"0px",border:"0px"}},["LIBRE"==i.seats[i.hour.sala.columnas*(e-1)+(l-1)]["activo"]?((0,s.wg)(),(0,s.j4)(g,{key:0,color:"green-6",class:"full-width",label:i.letra[t+1]+"-"+(i.hour.sala.columnas-l+1).toString(),onClick:t=>n.seleccionar(i.hour,i.seats[i.hour.sala.columnas*(e-1)+(l-1)])},null,8,["label","onClick"])):"OCUPADO"==i.seats[i.hour.sala.columnas*(e-1)+(l-1)]["activo"]?((0,s.wg)(),(0,s.j4)(g,{key:1,color:"red-6",class:"full-width"})):"RESERVADO"==i.seats[i.hour.sala.columnas*(e-1)+(l-1)]["activo"]?((0,s.wg)(),(0,s.j4)(g,{key:2,color:"yellow-6",class:"full-width"})):"SELECCIONADO"==i.seats[i.hour.sala.columnas*(e-1)+(l-1)]["activo"]?((0,s.wg)(),(0,s.j4)(g,{key:3,color:"blue-6",class:"full-width",label:i.letra[t+1]+"-"+(i.hour.sala.columnas-l+1).toString(),onClick:t=>n.seleccionar(i.hour,i.seats[i.hour.sala.columnas*(e-1)+(l-1)])},null,8,["label","onClick"])):((0,s.wg)(),(0,s.j4)(g,{key:4,color:"grey-6",class:"full-width"}))])))),128))])))),128))])])]),(0,s._)("div",za,[(0,s.Wm)(g,{icon:"check_circle",class:"q-ml-lg",disable:0==n.seleccionados.length,color:"primary",loading:i.loading,label:"Agregar",onClick:t[1]||(t[1]=e=>{n.myMomentaneo(),i.salaDialog=!1})},null,8,["disable","loading"]),(0,s.Wm)(g,{icon:"highlight_off",class:"q-ml-lg",color:"red",label:"Cancelar",onClick:n.salaDialogClose},null,8,["onClick"])])])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,s.Wm)(f,{"full-width":"",modelValue:i.saleDialog,"onUpdate:modelValue":t[16]||(t[16]=e=>i.saleDialog=e),persistent:""},{default:(0,s.w5)((()=>[(0,s.Wm)(p,null,{default:(0,s.w5)((()=>[(0,s.Wm)(c,{class:"row items-center q-pb-none"},{default:(0,s.w5)((()=>[Qa,(0,s.Wm)(b)])),_:1}),(0,s.Wm)(C,{onSubmit:(0,o.iM)(n.saleInsert,["prevent"])},{default:(0,s.w5)((()=>[(0,s.Wm)(c,null,{default:(0,s.w5)((()=>[(0,s._)("div",Ra,[(0,s._)("div",Pa,[(0,s.Wm)(r,{outlined:"",label:"NIT/CARNET",onKeyup:n.searchClient,required:"",modelValue:i.client.numeroDocumento,"onUpdate:modelValue":t[3]||(t[3]=e=>i.client.numeroDocumento=e)},null,8,["onKeyup","modelValue"])]),(0,s._)("div",Ya,[(0,s.Wm)(r,{outlined:"",label:"Complemento",onKeyup:n.searchClient,modelValue:i.client.complemento,"onUpdate:modelValue":t[4]||(t[4]=e=>i.client.complemento=e),style:{"text-transform":"uppercase"}},null,8,["onKeyup","modelValue"])]),(0,s._)("div",$a,[(0,s.Wm)(r,{outlined:"",label:"nombreRazonSocial",required:"",modelValue:i.client.nombreRazonSocial,"onUpdate:modelValue":t[5]||(t[5]=e=>i.client.nombreRazonSocial=e),style:{"text-transform":"uppercase"}},null,8,["modelValue"])]),(0,s._)("div",Ba,[(0,s.Wm)(v,{modelValue:i.document,"onUpdate:modelValue":[t[6]||(t[6]=e=>i.document=e),n.validarnit],outlined:"",options:i.documents},null,8,["modelValue","options","onUpdate:modelValue"])]),(0,s._)("div",Ga,[(0,s.Wm)(r,{outlined:"",label:"Email",modelValue:i.client.email,"onUpdate:modelValue":t[7]||(t[7]=e=>i.client.email=e),type:"email",required:""},null,8,["modelValue"])])])])),_:1}),(0,s.Wm)(u),(0,s.Wm)(c,null,{default:(0,s.w5)((()=>[(0,s._)("div",Ha,[(0,s._)("div",Ka,[(0,s.Wm)(r,{outlined:"",label:"TOTAL A PAGAR:",disable:"",modelValue:n.total,"onUpdate:modelValue":t[8]||(t[8]=e=>n.total=e)},null,8,["modelValue"])]),(0,s._)("div",Ja,[(0,s.Wm)(r,{outlined:"",label:"EFECTIVO BS.",onKeyup:n.cambio,modelValue:i.efectivo,"onUpdate:modelValue":t[9]||(t[9]=e=>i.efectivo=e)},null,8,["onKeyup","modelValue"])]),(0,s._)("div",Xa,[(0,s.Wm)(r,{outlined:"",label:"CAMBIO:",disable:"",modelValue:n.cambio,"onUpdate:modelValue":t[10]||(t[10]=e=>n.cambio=e)},null,8,["modelValue"])]),(0,s._)("div",ei,[(0,s.Wm)(w,{outlined:"",label:`${i.credito} T CREDITO`,modelValue:i.credito,"onUpdate:modelValue":t[11]||(t[11]=e=>i.credito=e),color:"green","false-value":"NO","true-value":"SI"},null,8,["label","modelValue"])]),(0,s._)("div",ti,[(0,s.Wm)(_,{outlined:"",label:"N CORTESIA","onUpdate:modelValue":[n.habilitarCortesia,t[12]||(t[12]=e=>i.cortesia=e)],modelValue:i.cortesia,color:"primary"},null,8,["onUpdate:modelValue","modelValue"])]),(0,s._)("div",li,[(0,s.Wm)(w,{outlined:"",label:`${i.tarjeta} VIP`,modelValue:i.tarjeta,"onUpdate:modelValue":t[13]||(t[13]=e=>i.tarjeta=e),color:"green","false-value":"NO","true-value":"SI"},null,8,["label","modelValue"])])]),(0,s._)("div",oi,["SI"==i.tarjeta?((0,s.wg)(),(0,s.j4)(C,{key:0,onSubmit:(0,o.iM)(n.consultartarjeta,["prevent"])},{default:(0,s.w5)((()=>[(0,s._)("div",ai,[(0,s._)("div",ii,[(0,s.Wm)(r,{outlined:"",label:"Codigo",modelValue:i.codigo,"onUpdate:modelValue":t[14]||(t[14]=e=>i.codigo=e),onKeyup:n.consultartarjeta},null,8,["modelValue","onKeyup"])]),(0,s._)("div",si,[(0,s.Wm)(y,null,{default:(0,s.w5)((()=>[(0,s.Uk)("Saldo :"+(0,Lt.zw)(i.nombresaldo.saldo)+" -- "+(0,Lt.zw)(i.nombresaldo.nombre),1)])),_:1})])])])),_:1},8,["onSubmit"])):(0,s.kq)("",!0),i.cortesia?((0,s.wg)(),(0,s.iD)("div",ni,[(0,s._)("div",di,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.frees,(e=>((0,s.wg)(),(0,s.j4)(_,{onClick:n.verificarCortesia,key:e.id,modelValue:e.status,"onUpdate:modelValue":t=>e.status=t,label:e.id+"",color:"teal"},null,8,["onClick","modelValue","onUpdate:modelValue","label"])))),128))]),(0,s._)("div",ri,[(0,s._)("div",ci,(0,Lt.zw)(n.marcados)+" - "+(0,Lt.zw)(n.cantidades),1)])])):(0,s.kq)("",!0)]),""!=i.error?((0,s.wg)(),(0,s.iD)("div",ui,(0,Lt.zw)(i.error),1)):(0,s.kq)("",!0)])),_:1}),(0,s.Wm)(u),(0,s.Wm)(c,null,{default:(0,s.w5)((()=>[(0,s._)("div",mi,[(0,s._)("div",pi,[(0,s.Wm)(g,{type:"submit",class:"full-width",icon:"o_add_circle",label:"Realizar venta",loading:i.loading,"no-caps":"",color:"green",disable:i.btn},null,8,["loading","disable"])]),(0,s._)("div",hi,[(0,s.Wm)(g,{class:"full-width",icon:"undo",onClick:t[15]||(t[15]=e=>(i.saleDialog=!1,n.consultartarjeta)),label:"Atras","no-caps":"",color:"red"})])])])),_:1})])),_:1},8,["onSubmit"])])),_:1})])),_:1},8,["modelValue"]),gi])),_:1})}l(2809),l(4110);var fi=l(2995),vi=l(8746),wi=l.n(vi),_i=l(2316);const yi={name:"Sale",data(){return{store:(0,ne.c)(),saleDialog:!1,letra:["","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","AA","AB"],url:"http://10.200.100.20:81/api/",salaDialog:!1,now:de.ZP.formatDate(new Date,"YYYY-MM-DD"),fecha:de.ZP.formatDate(new Date,"YYYY-MM-DD"),movies:[],movie:{},hours:[],nombresaldo:{},efectivo:"",hour:{},momentaneos:[],momentaneo:{},seats:[],seat:{},client:{complemento:"",vip:"NO",credito:"NO"},temporal:[],numeroboleto:0,loading:!1,documents:[],document:{},credito:"NO",tarjeta:"NO",cortesia:!1,disponible:0,vendido:0,devueltos:0,capacidad:0,totalventa:0,cine:{},leyendas:[],totventa:[],error:"",btn:!1,tienerebaja:!1,booltarjeta:!1,codigo:"",frees:[],opts:{errorCorrectionLevel:"M",type:"png",quality:.95,width:100,margin:1,color:{dark:"#000000",light:"#FFF"}}}},created(){this.freeGet(),this.encabezado(),this.cargarLeyenda(),this.myMovies(this.fecha),this.tventa(),this.myMomentaneo(),this.eventSearch(),this.$api.get("document").then((e=>{e.data.forEach((e=>{e.label=e.descripcion})),this.documents=e.data,this.document=this.documents[0]}))},methods:{freeGet(){this.$api.get("free").then((e=>{this.frees=[],e.data.forEach((t=>{t.status=!1,this.frees=e.data}))}))},habilitarCortesia(){this.btn=!this.cortesia},verificarCortesia(){this.marcados==this.cantidades?this.btn=!1:this.btn=!0},consultartarjeta(){""==this.codigo&&void 0==this.codigo||(this.nombresaldo={},this.codigo=this.codigo.replaceAll(" ",""),this.tienerebaja&&(this.momentaneos.forEach((e=>{e.precio=(1.25*e.precio).toFixed(2),e.subtotal=(1.25*e.subtotal).toFixed(2)})),this.btn=!1,this.tienerebaja=!1),this.$api.get("validarTarjeta/"+this.codigo).then((e=>{console.log(e.data),this.$q.loading.hide(),"0"==e.data||""==e.data||(this.nombresaldo=e.data,this.tienerebaja||(this.momentaneos.forEach((e=>{e.precio=(.8*e.precio).toFixed(2),e.subtotal=(.8*e.subtotal).toFixed(2)})),this.tienerebaja=!0,parseFloat(this.total)<=parseFloat(this.nombresaldo.saldo)?this.btn=!1:this.btn=!0))})))},movieVenta(e){this.$api.post("movietotal",{fecha:e}).then((e=>{this.totventa=e.data,this.movies.forEach((e=>{}))}))},cargarLeyenda(){this.$api.post("listleyenda",{codigo:"590000"}).then((e=>{this.leyendas=e.data}))},encabezado(){this.$api.get("datocine").then((e=>{this.cine=e.data}))},tventa(){this.$api.post("totalventa",{fecha:this.fecha}).then((e=>{this.totalventa=e.data}))},eventSearch(){this.$api.post("eventSearch").then((e=>{this.store.eventNumber=e.data}))},saleInsert(){this.error="",this.loading=!0,this.client.codigoTipoDocumentoIdentidad=this.document.codigoClasificador,this.client.email=void 0==this.client.email?"":this.client.email,this.$api.post("sale",{client:this.client,montoTotal:this.total,detalleVenta:this.detalleVenta,vip:this.tarjeta,tarjeta:this.credito,codigoTarjeta:this.codigo,cortesia:this.cortesia?"SI":"NO",frees:this.frees}).then((e=>{this.freeGet(),this.tarjeta="NO",""!=e.data.error&&this.$q.notify({color:"negative",textColor:"white",message:e.data.error,position:"top",timeout:5e3}),1==e.data.sale.siatEnviado&&this.printFactura(e.data.sale);let t=0;if(e.data.tickets.forEach((e=>{e.promo&&t++,this.boletoprint(e)})),t>1){let l=Math.trunc(t/2);for(let t=0;t<l;t++)console.log(e.data.sale),this.printPromo(e.data.sale)}this.momentaneoDeleteAll(),this.tventa(),this.client={complemento:"",vip:"NO",credito:"NO"},this.saleDialog=!1,this.myMovies(this.fecha),this.loading=!1,this.eventSearch()})).finally((()=>{this.loading=!1})).catch((e=>{this.error=e.response.data.message,this.loading=!1,this.$q.notify({color:"negative",textColor:"white",message:e.response.data.message,position:"top",timeout:5e3})}))},printPromo(e){let t="<style>      .titulo{      font-size: 12px;      text-align: center;      font-weight: bold;      }      .titulo2{      font-size: 10px;      text-align: center;      }            .titulo3{      font-size: 10px;      text-align: center;      width:70%;      }            .contenido{      font-size: 10px;      text-align: left;      }      .conte2{      font-size: 10px;      text-align: right;      }      .campotd{      text-align: center;      }      .titder{      font-size: 12px;      text-align: right;      font-weight: bold;      }      hr{  border-top: 1px dashed   ;}  table{    width:100%  }  .textpeq{ font-size: small; text-align: left;}  h1 {    color: black;    font-family: sans-serif;  }hr{border: 1px dashed ;}</style>    <div id='myelement'>      <div class='titulo2'>"+this.cine.razon+"<br>        NIT"+this.cine.nit+"        Casa Matriz<br>        Oruro      </div>      <hr>      <div class='titulo'>COMBO DUO</div>      <hr>      <div class='titulo'>Reclame su Combo Duo <br> 1 PIPOCA + 2 REFRESCOS</div>       <hr>        <div class='textpeq'>FECHA DE EMISIÓN"+e.fechaEmision+"</div>      <div class='textpeq'>Usuario: "+e.usuario+"</div>      <div class='textpeq'>Venta: "+e.id+"</div>      ";document.getElementById("myelement").innerHTML=t;const l=new fi.gR;l.print(document.getElementById("myelement"))},boletoprint(e){let t="";t+="<style>        .titulo{        font-size: 14px;        text-align: center;        font-weight: bold;      }              .tifecha{        font-size: 14px;      }              .titnit{        font-size: 10px;        text-align: center;      }            hr{      border-top: 1px dashed   ;    }         .titpelicula{        font-size: 18px;        text-align: center;        font-weight: bold;      }        </style>",t+="<div style='padding-right: 0.5cm;padding-left: 0.5cm'>",t+="<div class='titulo'>"+this.cine.razon+"</div>",t+="<div class='titnit'>NIT:"+this.cine.nit+"</div>",t+="<hr>",t+="<div class='titpelicula'>"+e.titulo+"<br> "+e.nombreSala+"</div><br>",t+="<div class='tifecha'>Fecha:  <span style='font-size: 20px;'>"+e.fechaFuncion+"</span>  <span style='float:right'>Bs. "+e.costo+"</span></div>",t+="<div class='tifecha'>Butaca: <span style='font-size:22px;'>"+e.letra+" - "+e.columna+"</span><div style='float:right'> Hora: <span style='font-size:20px;'>"+e.horaFuncion.substring(11)+"</span></div></div>",t+="<hr>",t+="<div style='font-size: 12px' >Cod: "+e.numboc+"<br>",t+="Trans: "+e.sale_id+"</div>",t+="</div >",document.getElementById("myelement").innerHTML=t;const l=new fi.gR;l.print(document.getElementById("myelement"))},async printFactura(e){this.leyendas.length;this.facturadetalle=e;let t=wi().conversorNumerosALetras,l=new t,o=l.convertToText(parseInt(e.montoTotal));this.qrImage=await _i.toDataURL(this.cine.url2+"consulta/QR?nit="+this.cine.nit+"&cuf="+e.cuf+"&numero="+e.numeroFactura+"&t=2",this.opts);let a="<style>      .titulo{      font-size: 12px;      text-align: center;      font-weight: bold;      }      .titulo2{      font-size: 10px;      text-align: center;      }            .titulo3{      font-size: 10px;      text-align: center;      width:70%;      }            .contenido{      font-size: 10px;      text-align: left;      }      .conte2{      font-size: 10px;      text-align: right;      }      .titder{      font-size: 12px;      text-align: right;      font-weight: bold;      }      hr{  border-top: 1px dashed   ;}  table{    width:100%  }  h1 {    color: black;    font-family: sans-serif;  }</style>    <div id='myelement' style='padding-left: 0.5cm;padding-right: 0.5cm'>      <div class='titulo'>FACTURA <br>CON DERECHO A CREDITO FISCAL</div>      <div class='titulo2'>"+this.cine.razon+"<br>        Casa Matriz<br>        No. Punto de Venta "+e.codigoPuntoVenta+"<br>        "+this.cine.direccion.substring(0,38)+"<br>"+this.cine.direccion.substring(38)+"<br>        Tel. "+this.cine.telefono+"<br>        Oruro      </div>      <hr>      <div class='titulo'>NIT</div>      <div class='titulo2'>"+this.cine.nit+"</div>      <div class='titulo'>FACTURA N°</div>      <div class='titulo2'>"+e.numeroFactura+"</div>      <div class='titulo'>CÓD. AUTORIZACIÓN</div>      <div class='titulo2 ' >"+e.cuf.substring(0,41)+"<br>"+e.cuf.substring(41)+"</div>      <hr>      <table>        <tr><td class='titder'>NOMBRE/RAZÓN SOCIAL:</td><td class='contenido'>"+e.client.nombreRazonSocial+"</td></tr>        <tr><td class='titder'>NIT/CI/CEX:</td><td class='contenido'>"+e.client.numeroDocumento+"</td></tr>        <tr><td class='titder'>COD. CLIENTE:</td ><td class='contenido'>"+e.client.id+"</td></tr>        <tr><td class='titder'>FECHA DE EMISIÓN:</td><td class='contenido'>"+e.fechaEmision+"</td></tr>      </table>      <hr>      <div class='titulo'>DETALLE</div>";e.details.forEach((e=>{a+="<div style='font-size: 12px'><b>"+e.programa_id+" - "+e.descripcion+"</b></div>",a+="<div>"+e.cantidad+"  "+parseFloat(e.precioUnitario).toFixed(2)+" 0.00<span style='float:right'>"+parseFloat(e.subTotal).toFixed(2)+"</span></div>"})),a+="<hr>      <table style='font-size: 8px;'>      <tr><td class='titder' style='width: 60%'>SUBTOTAL Bs</td><td class='conte2'>"+parseFloat(e.montoTotal).toFixed(2)+"</td></tr>      <tr><td class='titder'>DESCUENTO Bs</td><td class='conte2'>0.00</td></tr>      <tr><td class='titder'>TOTAL Bs</td><td class='conte2'>"+parseFloat(e.montoTotal).toFixed(2)+"</td></tr>      <tr><td class='titder'>MONTO GIFT CARD Bs</td ><td class='conte2'>0.00</td></tr>      <tr><td class='titder'>MONTO A PAGAR Bs</td><td class='conte2'>"+parseFloat(e.montoTotal).toFixed(2)+"</td></tr>      <tr><td class='titder' style='font-size: 8px'>IMPORTE BASE CRÉDITO FISCAL Bs</td><td class='conte2'>"+parseFloat(e.montoTotal).toFixed(2)+"</td></tr>      </table><br>      <div>Son "+o+" "+100*(parseFloat(e.montoTotal).toFixed(2)-Math.floor(parseFloat(e.montoTotal).toFixed(2)))+"/100 Bolivianos</div>      <hr>      <div class='titulo2' style='font-size: 9px'>ESTA FACTURA CONTRIBUYE AL DESARROLLO DEL PAÍS,<br>EL USO ILÍCITO SERÁ SANCIONADO PENALMENTE DE<br>ACUERDO A LEY<br><br>"+e.leyenda+" <br><br>“Este documento es la Representación Gráfica de un<br>Documento Fiscal Digital emitido en una modalidad de<br>facturación en línea”</div><br><div style='display: flex;justify-content: center;'>  <img src="+this.qrImage+" >      </div>              </div>",document.getElementById("myelement").innerHTML=a;const i=new fi.gR;i.print(document.getElementById("myelement"))},validarnit(){this.document==this.documents[4]&&this.$api.get("validanit/"+this.client.numeroDocumento).then((e=>{console.log(e.data),this.$q.notify({message:e.data.RespuestaVerificarNit.mensajesList.descripcion,color:"teal",icon:"info"})}))},searchClient(){this.document=this.documents[0],this.client.nombreRazonSocial="",this.client.email="",this.client.id=void 0,this.$api.post("searchClient",this.client).then((e=>{if(void 0!=e.data.nombreRazonSocial){this.client.nombreRazonSocial=e.data.nombreRazonSocial,this.client.email=e.data.email,this.client.id=e.data.id;let t=this.documents.find((t=>t.codigoClasificador==e.data.codigoTipoDocumentoIdentidad));t.label=t.descripcion,this.document=t}5==this.document.codigoClasificador&&this.validarnit()}))},saleCreate(){this.tienerebaja=!1,this.codigo="",this.nombresaldo={},this.saleDialog=!0,this.client={complemento:"",vip:"NO",credito:"NO"}},momentaneoDeleteAll(){this.loading=!0,this.$api.post("momentaneoDeleteall").then((e=>{this.loading=!1,this.myMomentaneo()}))},myMomentaneo(){this.$api.get("momentaneo").then((e=>{this.momentaneos=e.data}))},salaDialogClose(){this.$api.post("momentaneoDeleteUser",{programa_id:this.hour.id}).then((e=>{this.myMomentaneo()})),this.salaDialog=!1},clickSala(e){this.hour=e,this.loading=!0,this.$api.post("mySeats",{id:e.id}).then((t=>{this.seats=t.data,this.$api.post("disponibleSeats",{id:e.id}).then((e=>{let t=e.data[0];this.disponible=parseInt(t.salatotal)-parseInt(t.venta)-parseInt(t.temp),this.vendido=parseInt(t.venta),this.devueltos=parseInt(t.dev),this.capacidad=parseInt(t.salatotal),this.salaDialog=!0,this.loading=!1}))}))},myMovies(e){this.movie={},this.hours=[],this.$api.post("movies",{fecha:e}).then((t=>{console.log(t.data),this.movies=t.data,this.tventa(),this.movieVenta(e)}))},myHours(e){this.movie=e,this.loading=!0,this.$api.post("hours",{fecha:this.fecha,id:e.id}).then((e=>{this.loading=!1,this.hours=e.data,this.hour=this.hours[0]}))},seleccionar(e,t){this.loading=!0,"SELECCIONADO"==t.activo?(t.activo="LIBRE",this.$api.post("momentaneoDelete",{user_id:1,programa_id:e.id,fila:t.fila,columna:t.columna,letra:t.letra}).then((e=>{this.loading=!1,this.myMomentaneo()}))):(t.activo="SELECCIONADO",this.$api.post("momentaneo",{user_id:this.store.user.id,programa_id:e.id,fila:t.fila,columna:t.columna,letra:t.letra,fecha:e.horaInicio,pelicula:e.movie.nombre+" "+e.movie.formato,pelicula_id:e.movie.id,precio:e.price.precio,promo:"SI"==e.price.promo}).then((t=>{this.loading=!1,this.myMomentaneo(),1==t.data&&this.clickSala(e)})))}},computed:{btnCortesia(){return!!this.cortesia},marcados(){let e=0;return this.frees.forEach((t=>{t.status&&e++})),e},cantidades(){let e=0;return this.detalleVenta.forEach((t=>{e+=t.cantidad})),e},total(){let e=0;return this.detalleVenta.forEach((t=>{e+=parseFloat(t.subtotal)})),e.toFixed(2)},cambio(){let e=parseFloat(""==this.efectivo?0:this.efectivo)-parseFloat(this.total);return Math.round(100*e)/100},seleccionados(){let e=[];return this.seats.forEach((t=>{"SELECCIONADO"==t.activo&&e.push(t)})),e},detalleVenta(){let e,t=[];return this.momentaneos.forEach((l=>{e=t.find((e=>e.programa_id===l.programa_id)),void 0==e?t.push({promo:l.promo,fecha:l.fecha,precio:l.precio,cantidad:1,pelicula:l.pelicula,subtotal:l.precio,programa_id:l.programa_id,pelicula_id:l.pelicula_id}):(e.cantidad=e.cantidad+1,e.subtotal=e.cantidad*l.precio)})),t}}};var Ci=l(926),Di=l(7128);const xi=(0,r.Z)(yi,[["render",bi],["__scopeId","data-v-c6c6f722"]]),Ii=xi;D()(yi,"components",{QPage:y.Z,QCard:Ce.Z,QCardSection:De.Z,QIcon:pe.Z,QInput:me.Z,QSeparator:Ci.Z,QImg:ge.Z,QBtn:ue.Z,QBadge:cl.Z,QDialog:ye.Z,QSpace:xe.Z,QForm:Ie.Z,QSelect:Ve.Z,QToggle:We.Z,QCheckbox:Oo.Z,QBanner:Di.Z});const Vi={class:"row"},Wi={class:"col-12"},Ti=(0,s.Uk)("Actualizar"),Mi=(0,s.Uk)("Cambiar Imagen"),Ai=(0,s.Uk)("Eliminar"),Ei=(0,s._)("div",{class:"text-h6"},"Registrar Rubro",-1),Si={class:"row"},qi={class:"col-3"},ji={class:"col-3"},Li={class:"col-3"},Ni={class:"col-12 text-center flex flex-center"},ki={class:"col-12"},Oi=(0,s._)("div",{class:"text-h6"},"Modificar Rubro",-1),Ui={class:"row"},Fi={class:"col-3"},Zi={class:"col-3"},zi={class:"col-3"},Qi={class:"col-3"},Ri={class:"col-12"},Pi=(0,s._)("div",{class:"text-h6"},"Modificar imagen",-1),Yi={class:"col-12 text-center flex flex-center"};function $i(e,t,l,a,i,n){const d=(0,s.up)("q-btn"),r=(0,s.up)("q-icon"),c=(0,s.up)("q-input"),u=(0,s.up)("q-img"),m=(0,s.up)("q-td"),p=(0,s.up)("q-item-label"),h=(0,s.up)("q-item-section"),g=(0,s.up)("q-item"),b=(0,s.up)("q-list"),f=(0,s.up)("q-btn-dropdown"),v=(0,s.up)("q-table"),w=(0,s.up)("q-space"),_=(0,s.up)("q-card-section"),y=(0,s.up)("q-color"),C=(0,s.up)("q-popup-proxy"),D=(0,s.up)("q-uploader"),x=(0,s.up)("q-form"),I=(0,s.up)("q-card"),V=(0,s.up)("q-dialog"),W=(0,s.up)("q-toggle"),T=(0,s.up)("q-page"),M=(0,s.Q2)("close-popup");return(0,s.wg)(),(0,s.j4)(T,null,{default:(0,s.w5)((()=>[(0,s._)("div",Vi,[(0,s._)("div",Wi,[(0,s.Wm)(v,{dense:"",title:"Gestionar Rubro","rows-per-page-options":[20,50,100,0],rows:i.store.rubros,columns:i.rubroColumns,filter:i.rubroFilter},{"top-right":(0,s.w5)((()=>[(0,s.Wm)(d,{color:"green",icon:"add_circle",label:"Agregar",onClick:t[0]||(t[0]=e=>i.rubroDialog=!0)}),(0,s.Wm)(c,{outlined:"",dense:"",debounce:"300",modelValue:i.rubroFilter,"onUpdate:modelValue":t[1]||(t[1]=e=>i.rubroFilter=e),placeholder:"Buscar"},{append:(0,s.w5)((()=>[(0,s.Wm)(r,{name:"search"})])),_:1},8,["modelValue"])])),"body-cell-imagen":(0,s.w5)((e=>[(0,s.Wm)(m,{"auto-width":"",props:e},{default:(0,s.w5)((()=>[(0,s._)("div",{style:(0,Lt.j5)("background: "+e.row.color),class:"flex flex-center"},[(0,s.Wm)(u,{src:i.url+"../imagen/"+e.row.imagen,class:"q-pa-lg",style:{border:"0px solid black",height:"50px","max-width":"50px"}},null,8,["src"])],4)])),_:2},1032,["props"])])),"body-cell-opciones":(0,s.w5)((e=>[(0,s.Wm)(m,{"auto-width":"",props:e},{default:(0,s.w5)((()=>[(0,s.Wm)(f,{color:"primary",label:"Opciones","dropdown-icon":"more_vert"},{default:(0,s.w5)((()=>[(0,s.Wm)(b,null,{default:(0,s.w5)((()=>[(0,s.wy)(((0,s.wg)(),(0,s.j4)(g,{clickable:"",onClick:t=>{i.rubroUpdateDialog=!0,i.rubro2=e.row,this.store.rubro=e.row.rubro}},{default:(0,s.w5)((()=>[(0,s.Wm)(h,null,{default:(0,s.w5)((()=>[(0,s.Wm)(p,null,{default:(0,s.w5)((()=>[Ti])),_:1})])),_:1})])),_:2},1032,["onClick"])),[[M]]),(0,s.wy)(((0,s.wg)(),(0,s.j4)(g,{clickable:"",onClick:t=>{i.rubro2=e.row,i.dialog_img=!0}},{default:(0,s.w5)((()=>[(0,s.Wm)(h,null,{default:(0,s.w5)((()=>[(0,s.Wm)(p,null,{default:(0,s.w5)((()=>[Mi])),_:1})])),_:1})])),_:2},1032,["onClick"])),[[M]]),(0,s.wy)(((0,s.wg)(),(0,s.j4)(g,{clickable:"",onClick:t=>n.rubroDelete(e.row.id,e.pageIndex)},{default:(0,s.w5)((()=>[(0,s.Wm)(h,null,{default:(0,s.w5)((()=>[(0,s.Wm)(p,null,{default:(0,s.w5)((()=>[Ai])),_:1})])),_:1})])),_:2},1032,["onClick"])),[[M]])])),_:2},1024)])),_:2},1024)])),_:2},1032,["props"])])),_:1},8,["rows","columns","filter"])])]),(0,s.Wm)(V,{modelValue:i.rubroDialog,"onUpdate:modelValue":t[6]||(t[6]=e=>i.rubroDialog=e),"full-width":""},{default:(0,s.w5)((()=>[(0,s.Wm)(I,null,{default:(0,s.w5)((()=>[(0,s.Wm)(_,{class:"row items-center q-pb-none"},{default:(0,s.w5)((()=>[Ei,(0,s.Wm)(w),(0,s.wy)((0,s.Wm)(d,{icon:"close",flat:"",round:"",dense:""},null,512),[[M]])])),_:1}),(0,s.Wm)(_,null,{default:(0,s.w5)((()=>[(0,s.Wm)(x,{onSubmit:(0,o.iM)(n.rubroCreate,["prevent"])},{default:(0,s.w5)((()=>[(0,s._)("div",Si,[(0,s._)("div",qi,[(0,s.Wm)(c,{dense:"",outlined:"",label:"Nombre",modelValue:i.rubro.nombre,"onUpdate:modelValue":t[2]||(t[2]=e=>i.rubro.nombre=e),rules:[e=>e.length>0||"Ingresar Nombre"]},null,8,["modelValue","rules"])]),(0,s._)("div",ji,[(0,s.Wm)(c,{dense:"",outlined:"",label:"Descripcion",modelValue:i.rubro.descripcion,"onUpdate:modelValue":t[3]||(t[3]=e=>i.rubro.descripcion=e)},null,8,["modelValue"])]),(0,s._)("div",Li,[(0,s.Wm)(c,{label:"Color Fondo",outlined:"",dense:"","no-header":"",modelValue:i.rubro.color,"onUpdate:modelValue":t[5]||(t[5]=e=>i.rubro.color=e),class:"Color Fondo",rules:[e=>e.length>0||"Seleccionar color"]},{append:(0,s.w5)((()=>[(0,s.Wm)(r,{name:"colorize",class:"cursor-pointer"},{default:(0,s.w5)((()=>[(0,s.Wm)(C,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:(0,s.w5)((()=>[(0,s.Wm)(y,{modelValue:i.rubro.color,"onUpdate:modelValue":t[4]||(t[4]=e=>i.rubro.color=e)},null,8,["modelValue"])])),_:1})])),_:1})])),_:1},8,["modelValue","rules"])]),(0,s._)("div",Ni,[(0,s.Wm)(D,{accept:".jpg, .png",onAdded:n.uploadFile,"auto-upload":"","max-files":"1",label:"Ingresar Imagen",flat:"","max-file-size":"2000000",onRejected:n.onRejected,bordered:""},null,8,["onAdded","onRejected"])]),(0,s._)("div",ki,[(0,s.Wm)(d,{loading:i.loading,color:"green",icon:"add_circle",class:"full-width",type:"submit",label:"Guardar"},null,8,["loading"])])])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,s.Wm)(V,{modelValue:i.rubroUpdateDialog,"onUpdate:modelValue":t[12]||(t[12]=e=>i.rubroUpdateDialog=e),"full-width":""},{default:(0,s.w5)((()=>[(0,s.Wm)(I,null,{default:(0,s.w5)((()=>[(0,s.Wm)(_,{class:"row items-center q-pb-none"},{default:(0,s.w5)((()=>[Oi,(0,s.Wm)(w),(0,s.wy)((0,s.Wm)(d,{icon:"close",flat:"",round:"",dense:""},null,512),[[M]])])),_:1}),(0,s.Wm)(_,null,{default:(0,s.w5)((()=>[(0,s.Wm)(x,{onSubmit:(0,o.iM)(n.rubroUpdate,["prevent"])},{default:(0,s.w5)((()=>[(0,s._)("div",Ui,[(0,s._)("div",Fi,[(0,s.Wm)(c,{dense:"",outlined:"",label:"Nombre",modelValue:i.rubro2.nombre,"onUpdate:modelValue":t[7]||(t[7]=e=>i.rubro2.nombre=e),rules:[e=>e.length>0||"Ingresar Nombre"]},null,8,["modelValue","rules"])]),(0,s._)("div",Zi,[(0,s.Wm)(c,{dense:"",outlined:"",label:"Descripcion",modelValue:i.rubro2.descripcion,"onUpdate:modelValue":t[8]||(t[8]=e=>i.rubro2.descripcion=e)},null,8,["modelValue"])]),(0,s._)("div",zi,[(0,s.Wm)(c,{label:"Color Fondo",outlined:"",dense:"",modelValue:i.rubro2.color,"onUpdate:modelValue":t[10]||(t[10]=e=>i.rubro2.color=e),class:"Color Fondo",rules:[e=>e.length>0||"Seleccionar color"]},{append:(0,s.w5)((()=>[(0,s.Wm)(r,{name:"colorize",class:"cursor-pointer"},{default:(0,s.w5)((()=>[(0,s.Wm)(C,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:(0,s.w5)((()=>[(0,s.Wm)(y,{modelValue:i.rubro2.color,"onUpdate:modelValue":t[9]||(t[9]=e=>i.rubro2.color=e)},null,8,["modelValue"])])),_:1})])),_:1})])),_:1},8,["modelValue","rules"])]),(0,s._)("div",Qi,[(0,s.Wm)(W,{modelValue:i.rubro2.activo,"onUpdate:modelValue":t[11]||(t[11]=e=>i.rubro2.activo=e),color:"green",label:i.rubro2.activo,size:"xl","false-value":"INACTVO","true-value":"ACTIVO"},null,8,["modelValue","label"])]),(0,s._)("div",Ri,[(0,s.Wm)(d,{color:"yellow-8",icon:"edit",class:"full-width",type:"submit",label:"Modificar"})])])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,s.Wm)(V,{modelValue:i.dialog_img,"onUpdate:modelValue":t[13]||(t[13]=e=>i.dialog_img=e)},{default:(0,s.w5)((()=>[(0,s.Wm)(I,null,{default:(0,s.w5)((()=>[(0,s.Wm)(_,{class:"bg-amber-14 text-white"},{default:(0,s.w5)((()=>[Pi])),_:1}),(0,s.Wm)(_,{class:"q-pt-xs"},{default:(0,s.w5)((()=>[(0,s.Wm)(x,{onSubmit:n.onModImagen,class:"q-gutter-md"},{default:(0,s.w5)((()=>[(0,s._)("div",Yi,[(0,s.Wm)(D,{accept:".jpg, .png",onAdded:n.uploadFile,"auto-upload":"","max-files":"1",label:"Ingresar Imagen",flat:"","max-file-size":"2000000",onRejected:n.onRejected,bordered:""},null,8,["onAdded","onRejected"])]),(0,s._)("div",null,[(0,s.Wm)(d,{label:"Modificar",type:"submit",color:"positive",icon:"add_circle"}),(0,s.wy)((0,s.Wm)(d,{label:"Cancelar",icon:"delete",color:"negative"},null,512),[[M]])])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}const Bi={name:"Distribuidores",data(){return{loading:!1,rubroFilter:"",rubro:{},url:"http://10.200.100.20:81/api/",rubro2:{},rubroDialog:!1,rubroUpdateDialog:!1,dialog_img:!1,store:(0,ne.c)(),foto:"",rubroColumns:[{label:"OPCIONES",field:"opciones",name:"opciones"},{label:"NOMBRE",field:"nombre",name:"nombre",sortable:!0},{label:"DESCRIPCION",field:"descripcion",name:"descripcion",sortable:!0},{label:"IMAGEN",field:"imagen",name:"imagen",sortable:!0},{label:"ACTIVO",field:"activo",name:"activo"}]}},created(){this.store.rubroSingleTon||(this.$q.loading.show(),this.store.rubroSingleTon=!0,this.$api.get("rubro").then((e=>{this.store.rubros=e.data,this.$q.loading.hide()})))},methods:{onModImagen(){this.rubro2.imagen=this.foto,this.$q.loading.show(),this.$api.post("upimagenrubro",this.rubro2).then((e=>{this.$q.loading.hide(),console.log(e.data),this.rubro2={};let t=this.store.rubros.findIndex((t=>t.id==e.data.id));this.store.rubros[t]=e.data,this.dialog_img=!1}))},uploadFile(e){let t=this.$q.dialog({message:"Subiendo... 0%"}),l=0;const o=new FormData;return o.append("file",e[0]),new Promise(((a,i)=>{this.$api.post("upload",o,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:e=>{l=Math.round(e.loaded/e.total*100),t.update({message:`Subiendo... ${l}%`}),l>=100&&t.hide()}}).then((t=>{this.foto=t.data,a(e)})).catch((e=>i(e)))}))},onRejected(e){this.$q.notify({type:"negative",message:`${e.length} el archivo paso las restricciones de validación`})},rubroCreate(){this.rubro.imagen=this.foto,this.loading=!0,this.$api.post("rubro",this.rubro).then((e=>{this.loading=!1,this.store.rubros.push(e.data),this.rubroDialog=!1,this.rubro={}}))},rubroUpdate(){this.$q.loading.show(),this.$api.put("rubro/"+this.rubro2.id,this.rubro2).then((e=>{this.$q.loading.hide(),console.log(e.data),this.rubro2={};let t=this.store.rubros.findIndex((t=>t.id==e.data.id));this.store.rubros[t]=e.data,this.rubroUpdateDialog=!1,this.rubro2={}}))},rubroDelete(e,t){this.$q.dialog({title:"Eliminar Distribuidor",message:"¿Esta seguro de eliminar la distribuidor?",ok:{push:!0},cancel:{push:!0,color:"negative"}}).onOk((()=>{this.$q.loading.show(),this.$api.delete("rubro/"+e).then((e=>{this.store.rubros.splice(t,1),this.$q.loading.hide(),this.$q.notify({message:"Distribuidor eliminada",color:"positive",icon:"done"})}))}))}}};var Gi=l(2765),Hi=l(3385);const Ki=(0,r.Z)(Bi,[["render",$i]]),Ji=Ki;D()(Bi,"components",{QPage:y.Z,QTable:ce.Z,QBtn:ue.Z,QInput:me.Z,QIcon:pe.Z,QTd:he.Z,QImg:ge.Z,QBtnDropdown:be.Z,QList:fe.Z,QItem:ve.Z,QItemSection:we.Z,QItemLabel:_e.Z,QDialog:ye.Z,QCard:Ce.Z,QCardSection:De.Z,QSpace:xe.Z,QForm:Ie.Z,QPopupProxy:Gi.Z,QColor:Hi.Z,QUploader:Te.Z,QToggle:We.Z}),D()(Bi,"directives",{ClosePopup:Me.Z});const Xi={class:"row"},es={class:"col-12"},ts=(0,s.Uk)("Actualizar"),ls=(0,s.Uk)("Actualizar Imagen"),os=(0,s.Uk)("Eliminar"),as=(0,s._)("div",{class:"text-h6"},"Registrar Pelicula",-1),is={class:"row"},ss={class:"col-3"},ns={class:"col-3"},ds={class:"col-3"},rs={class:"col-3"},cs={class:"col-3"},us={class:"col-12 text-center flex flex-center"},ms={class:"col-12"},ps=(0,s._)("div",{class:"text-h6"},"Modificar Pelicula",-1),hs={class:"row"},gs={class:"col-3"},bs={class:"col-3"},fs={class:"col-3"},vs={class:"col-3"},ws={class:"col-3"},_s={class:"col-3"},ys={class:"col-12"},Cs=(0,s._)("div",{class:"text-h6"},"Modificar imagen",-1),Ds={class:"col-12 text-center flex flex-center"};function xs(e,t,l,a,i,n){const d=(0,s.up)("q-btn"),r=(0,s.up)("q-icon"),c=(0,s.up)("q-input"),u=(0,s.up)("q-img"),m=(0,s.up)("q-td"),p=(0,s.up)("q-item-label"),h=(0,s.up)("q-item-section"),g=(0,s.up)("q-item"),b=(0,s.up)("q-list"),f=(0,s.up)("q-btn-dropdown"),v=(0,s.up)("q-table"),w=(0,s.up)("q-space"),_=(0,s.up)("q-card-section"),y=(0,s.up)("q-select"),C=(0,s.up)("q-color"),D=(0,s.up)("q-popup-proxy"),x=(0,s.up)("q-uploader"),I=(0,s.up)("q-form"),V=(0,s.up)("q-card"),W=(0,s.up)("q-dialog"),T=(0,s.up)("q-toggle"),M=(0,s.up)("q-page"),A=(0,s.Q2)("close-popup");return(0,s.wg)(),(0,s.j4)(M,null,{default:(0,s.w5)((()=>[(0,s._)("div",Xi,[(0,s._)("div",es,[(0,s.Wm)(v,{dense:"",title:"Gestionar Productos","rows-per-page-options":[20,50,100,0],rows:i.store.productos,columns:i.productoColumns,filter:i.productoFilter},{"top-right":(0,s.w5)((()=>[(0,s.Wm)(d,{color:"green",icon:"add_circle",label:"Agregar",onClick:t[0]||(t[0]=e=>i.productoDialog=!0)}),(0,s.Wm)(c,{outlined:"",dense:"",debounce:"300",modelValue:i.productoFilter,"onUpdate:modelValue":t[1]||(t[1]=e=>i.productoFilter=e),placeholder:"Buscar"},{append:(0,s.w5)((()=>[(0,s.Wm)(r,{name:"search"})])),_:1},8,["modelValue"])])),"body-cell-imagen":(0,s.w5)((e=>[(0,s.Wm)(m,{"auto-width":"",props:e},{default:(0,s.w5)((()=>[(0,s._)("div",{style:(0,Lt.j5)("background: "+e.row.color),class:"flex flex-center"},[(0,s.Wm)(u,{src:i.url+"../imagen/"+e.row.imagen,class:"q-pa-lg",style:{border:"0px solid black",height:"50px","max-width":"50px"}},null,8,["src"])],4)])),_:2},1032,["props"])])),"body-cell-opciones":(0,s.w5)((e=>[(0,s.Wm)(m,{"auto-width":"",props:e},{default:(0,s.w5)((()=>[(0,s.Wm)(f,{color:"primary",label:"Opciones","dropdown-icon":"more_vert"},{default:(0,s.w5)((()=>[(0,s.Wm)(b,null,{default:(0,s.w5)((()=>[(0,s.wy)(((0,s.wg)(),(0,s.j4)(g,{clickable:"",onClick:t=>{i.productoUpdateDialog=!0,i.producto2=e.row,this.store.rubro=e.row.rubro}},{default:(0,s.w5)((()=>[(0,s.Wm)(h,null,{default:(0,s.w5)((()=>[(0,s.Wm)(p,null,{default:(0,s.w5)((()=>[ts])),_:1})])),_:1})])),_:2},1032,["onClick"])),[[A]]),(0,s.wy)(((0,s.wg)(),(0,s.j4)(g,{clickable:"",onClick:t=>{i.dialog_img=!0,i.producto2=e.row}},{default:(0,s.w5)((()=>[(0,s.Wm)(h,null,{default:(0,s.w5)((()=>[(0,s.Wm)(p,null,{default:(0,s.w5)((()=>[ls])),_:1})])),_:1})])),_:2},1032,["onClick"])),[[A]]),(0,s.wy)(((0,s.wg)(),(0,s.j4)(g,{clickable:"",onClick:t=>n.productoDelete(e.row.id,e.pageIndex)},{default:(0,s.w5)((()=>[(0,s.Wm)(h,null,{default:(0,s.w5)((()=>[(0,s.Wm)(p,null,{default:(0,s.w5)((()=>[os])),_:1})])),_:1})])),_:2},1032,["onClick"])),[[A]])])),_:2},1024)])),_:2},1024)])),_:2},1032,["props"])])),_:1},8,["rows","columns","filter"])])]),(0,s.Wm)(W,{modelValue:i.productoDialog,"onUpdate:modelValue":t[8]||(t[8]=e=>i.productoDialog=e),"full-width":""},{default:(0,s.w5)((()=>[(0,s.Wm)(V,null,{default:(0,s.w5)((()=>[(0,s.Wm)(_,{class:"row items-center q-pb-none"},{default:(0,s.w5)((()=>[as,(0,s.Wm)(w),(0,s.wy)((0,s.Wm)(d,{icon:"close",flat:"",round:"",dense:""},null,512),[[A]])])),_:1}),(0,s.Wm)(_,null,{default:(0,s.w5)((()=>[(0,s.Wm)(I,{onSubmit:(0,o.iM)(n.productoCreate,["prevent"])},{default:(0,s.w5)((()=>[(0,s._)("div",is,[(0,s._)("div",ss,[(0,s.Wm)(c,{dense:"",outlined:"",label:"Nombre",modelValue:i.producto.nombre,"onUpdate:modelValue":t[2]||(t[2]=e=>i.producto.nombre=e)},null,8,["modelValue"])]),(0,s._)("div",ns,[(0,s.Wm)(c,{dense:"",outlined:"",label:"Descripcion",modelValue:i.producto.descripcion,"onUpdate:modelValue":t[3]||(t[3]=e=>i.producto.descripcion=e)},null,8,["modelValue"])]),(0,s._)("div",ds,[(0,s.Wm)(c,{dense:"",outlined:"",label:"precio",modelValue:i.producto.precio,"onUpdate:modelValue":t[4]||(t[4]=e=>i.producto.precio=e),type:"number",step:"0.01"},null,8,["modelValue"])]),(0,s._)("div",rs,[(0,s.Wm)(y,{dense:"",outlined:"",label:"rubro_id",modelValue:i.store.rubro,"onUpdate:modelValue":t[5]||(t[5]=e=>i.store.rubro=e),options:i.store.rubros,"option-label":"nombre"},null,8,["modelValue","options"])]),(0,s._)("div",cs,[(0,s.Wm)(c,{label:"Color Fondo",outlined:"",dense:"",modelValue:i.producto.color,"onUpdate:modelValue":t[7]||(t[7]=e=>i.producto.color=e),class:"Color Fondo",rules:[e=>e.length>0||"Seleccionar color"]},{append:(0,s.w5)((()=>[(0,s.Wm)(r,{name:"colorize",class:"cursor-pointer"},{default:(0,s.w5)((()=>[(0,s.Wm)(D,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:(0,s.w5)((()=>[(0,s.Wm)(C,{modelValue:i.producto.color,"onUpdate:modelValue":t[6]||(t[6]=e=>i.producto.color=e)},null,8,["modelValue"])])),_:1})])),_:1})])),_:1},8,["modelValue","rules"])]),(0,s._)("div",us,[(0,s.Wm)(x,{accept:".jpg, .png",onAdded:n.uploadFile,"auto-upload":"","max-files":"1",label:"Ingresar Imagen",flat:"","max-file-size":"2000000",onRejected:n.onRejected,bordered:""},null,8,["onAdded","onRejected"])]),(0,s._)("div",ms,[(0,s.Wm)(d,{loading:i.loading,color:"green",icon:"add_circle",class:"full-width",type:"submit",label:"Guardar"},null,8,["loading"])])])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,s.Wm)(W,{modelValue:i.productoUpdateDialog,"onUpdate:modelValue":t[16]||(t[16]=e=>i.productoUpdateDialog=e),"full-width":""},{default:(0,s.w5)((()=>[(0,s.Wm)(V,null,{default:(0,s.w5)((()=>[(0,s.Wm)(_,{class:"row items-center q-pb-none"},{default:(0,s.w5)((()=>[ps,(0,s.Wm)(w),(0,s.wy)((0,s.Wm)(d,{icon:"close",flat:"",round:"",dense:""},null,512),[[A]])])),_:1}),(0,s.Wm)(_,null,{default:(0,s.w5)((()=>[(0,s.Wm)(I,{onSubmit:(0,o.iM)(n.productoUpdate,["prevent"])},{default:(0,s.w5)((()=>[(0,s._)("div",hs,[(0,s._)("div",gs,[(0,s.Wm)(c,{dense:"",outlined:"",label:"Nombre",modelValue:i.producto2.nombre,"onUpdate:modelValue":t[9]||(t[9]=e=>i.producto2.nombre=e)},null,8,["modelValue"])]),(0,s._)("div",bs,[(0,s.Wm)(c,{dense:"",outlined:"",label:"Descripcion",modelValue:i.producto2.descripcion,"onUpdate:modelValue":t[10]||(t[10]=e=>i.producto2.descripcion=e)},null,8,["modelValue"])]),(0,s._)("div",fs,[(0,s.Wm)(c,{dense:"",outlined:"",label:"Precio",modelValue:i.producto2.precio,"onUpdate:modelValue":t[11]||(t[11]=e=>i.producto2.precio=e),type:"number",step:"0.01"},null,8,["modelValue"])]),(0,s._)("div",vs,[(0,s.Wm)(y,{dense:"",outlined:"",label:"rubro_id",modelValue:i.store.rubro,"onUpdate:modelValue":t[12]||(t[12]=e=>i.store.rubro=e),options:i.store.rubros,"option-label":"nombre"},null,8,["modelValue","options"])]),(0,s._)("div",ws,[(0,s.Wm)(T,{modelValue:i.producto2.activo,"onUpdate:modelValue":t[13]||(t[13]=e=>i.producto2.activo=e),color:"green",label:i.producto2.activo,size:"xl","false-value":"INACTVO","true-value":"ACTIVO"},null,8,["modelValue","label"])]),(0,s._)("div",_s,[(0,s.Wm)(c,{label:"Color Fondo",outlined:"",dense:"",modelValue:i.producto2.color,"onUpdate:modelValue":t[15]||(t[15]=e=>i.producto2.color=e),class:"Color Fondo",rules:[e=>e.length>0||"Seleccionar color"]},{append:(0,s.w5)((()=>[(0,s.Wm)(r,{name:"colorize",class:"cursor-pointer"},{default:(0,s.w5)((()=>[(0,s.Wm)(D,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:(0,s.w5)((()=>[(0,s.Wm)(C,{modelValue:i.producto2.color,"onUpdate:modelValue":t[14]||(t[14]=e=>i.producto2.color=e)},null,8,["modelValue"])])),_:1})])),_:1})])),_:1},8,["modelValue","rules"])]),(0,s._)("div",ys,[(0,s.Wm)(d,{color:"yellow-8",icon:"edit",class:"full-width",type:"submit",label:"Modificar"})])])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,s.Wm)(W,{modelValue:i.dialog_img,"onUpdate:modelValue":t[17]||(t[17]=e=>i.dialog_img=e)},{default:(0,s.w5)((()=>[(0,s.Wm)(V,null,{default:(0,s.w5)((()=>[(0,s.Wm)(_,{class:"bg-amber-14 text-white"},{default:(0,s.w5)((()=>[Cs])),_:1}),(0,s.Wm)(_,{class:"q-pt-xs"},{default:(0,s.w5)((()=>[(0,s.Wm)(I,{onSubmit:n.onModImagen,class:"q-gutter-md"},{default:(0,s.w5)((()=>[(0,s._)("div",Ds,[(0,s.Wm)(x,{accept:".jpg, .png",onAdded:n.uploadFile,"auto-upload":"","max-files":"1",label:"Ingresar Imagen",flat:"","max-file-size":"2000000",onRejected:n.onRejected,bordered:""},null,8,["onAdded","onRejected"])]),(0,s._)("div",null,[(0,s.Wm)(d,{label:"Modificar",type:"submit",color:"positive",icon:"add_circle"}),(0,s.wy)((0,s.Wm)(d,{label:"Cancelar",icon:"delete",color:"negative"},null,512),[[A]])])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}const Is={name:"Peliculas",data(){return{loading:!1,productoFilter:"",url:"http://10.200.100.20:81/api/",dialog_img:!1,producto:{},producto2:{},productoDialog:!1,productoUpdateDialog:!1,store:(0,ne.c)(),foto:"",productoColumns:[{label:"OPCIONES",field:"opciones",name:"opciones"},{label:"NOMBRE",field:"nombre",name:"nombre",sortable:!0},{label:"DESCRIPCION",field:"descripcion",name:"descripcion",sortable:!0},{label:"PRECIO",field:"precio",name:"precio",sortable:!0},{label:"IMAGEN",field:"imagen",name:"imagen",sortable:!0},{label:"RUBRO",field:e=>e.rubro.nombre,name:"rubro",sortable:!0},{label:"ACTIVO",field:"activo",name:"activo",sortable:!0}]}},created(){this.store.productoSingleTon||(this.$q.loading.show(),this.store.productoSingleTon=!0,this.$api.get("producto").then((e=>{this.store.productos=e.data,this.$q.loading.hide()}))),this.store.rubroSingleTon||(this.$q.loading.show(),this.store.rubroSingleTon=!0,this.$api.get("rubro").then((e=>{this.store.rubros=e.data,this.store.rubro=e.data[0],this.$q.loading.hide()})))},methods:{onModImagen(){this.producto2.imagen=this.foto,this.$q.loading.show(),this.$api.post("upimagenproducto",this.producto2).then((e=>{this.$q.loading.hide(),console.log(e.data),this.producto2={},this.foto="";let t=this.store.productos.findIndex((t=>t.id==e.data.id));this.store.productos[t]=e.data,this.dialog_img=!1}))},uploadFile(e){let t=this.$q.dialog({message:"Subiendo... 0%"}),l=0;const o=new FormData;return o.append("file",e[0]),new Promise(((a,i)=>{this.$api.post("upload",o,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:e=>{l=Math.round(e.loaded/e.total*100),t.update({message:`Subiendo... ${l}%`}),l>=100&&t.hide()}}).then((t=>{this.foto=t.data,a(e)})).catch((e=>i(e)))}))},onRejected(e){this.$q.notify({type:"negative",message:`${e.length} el archivo paso las restricciones de validación`})},productoCreate(){this.producto.imagen=this.foto,this.loading=!0,this.producto.rubro_id=this.store.rubro.id,this.$api.post("producto",this.producto).then((e=>{this.loading=!1,this.store.productos.push(e.data),this.foto="",this.productoDialog=!1,this.producto={}}))},productoUpdate(){this.$q.loading.show(),this.$api.put("producto/"+this.producto2.id,this.producto2).then((e=>{this.$q.loading.hide(),console.log(e.data),this.producto2={};let t=this.store.productos.findIndex((t=>t.id==e.data.id));this.store.productos[t]=e.data,this.productoUpdateDialog=!1,this.producto2={}}))},productoDelete(e,t){this.$q.dialog({title:"Eliminar Pelicula",message:"¿Esta seguro de eliminar la pelicula?",ok:{push:!0},cancel:{push:!0,color:"negative"}}).onOk((()=>{this.$q.loading.show(),this.$api.delete("producto/"+e).then((e=>{this.store.productos.splice(t,1),this.$q.loading.hide(),this.$q.notify({message:"Pelicula eliminada",color:"positive",icon:"done"})}))}))}}},Vs=(0,r.Z)(Is,[["render",xs]]),Ws=Vs;D()(Is,"components",{QPage:y.Z,QTable:ce.Z,QBtn:ue.Z,QInput:me.Z,QIcon:pe.Z,QTd:he.Z,QImg:ge.Z,QBtnDropdown:be.Z,QList:fe.Z,QItem:ve.Z,QItemSection:we.Z,QItemLabel:_e.Z,QDialog:ye.Z,QCard:Ce.Z,QCardSection:De.Z,QSpace:xe.Z,QForm:Ie.Z,QSelect:Ve.Z,QPopupProxy:Gi.Z,QColor:Hi.Z,QUploader:Te.Z,QToggle:We.Z}),D()(Is,"directives",{ClosePopup:Me.Z});const Ts=e=>((0,s.dD)("data-v-68423909"),e=e(),(0,s.Cn)(),e),Ms={class:"row"},As={class:"col-12 flex flex-center text-h5"},Es=(0,s.Uk)(" CANDY BAR "),Ss={class:"row"},qs={class:"col-6"},js={class:"text-h6"},Ls=(0,s.Uk)(" RUBROS"),Ns={class:"row"},ks={class:"col-12 col-md-8"},Os={class:"row"},Us={class:"absolute-bottom text-subtitle2 text-center"},Fs={class:"row"},Zs={class:"col-6"},zs={class:"text-h6"},Qs=(0,s.Uk)(" PRODUCTOS"),Rs={class:"row"},Ps={class:"absolute-bottom text-subtitle2 text-center"},Ys={class:"row"},$s={class:"col-6"},Bs={class:"col-6"},Gs={class:"col-12 col-md-4"},Hs={class:"row"},Ks={class:"col-4 flex flex-center"},Js=(0,s.Uk)(" VENTA "),Xs={class:"col-4 text-center"},en={class:"col-4 text-center"},tn=Ts((()=>(0,s._)("thead",null,[(0,s._)("tr",{class:"bg-accent text-white"},[(0,s._)("th",null,"#"),(0,s._)("th",null,"Nombre producto"),(0,s._)("th",null,"Cant."),(0,s._)("th",null,"Subt."),(0,s._)("th",null,"Opc")])],-1))),ln={class:"text-center"},on={class:"text-right"},an=Ts((()=>(0,s._)("th",null,null,-1))),sn=Ts((()=>(0,s._)("th",null,null,-1))),nn=Ts((()=>(0,s._)("th",null,"TOTAL",-1))),dn={class:"text-right"},rn={class:"text-h6"},cn=(0,s.Uk)(" Realizar venta"),un={class:"row"},mn={class:"col-12"},pn={class:"row"},hn={class:"col-2"},gn={class:"col-2"},bn={class:"col-3"},fn={class:"col-3"},vn={class:"col-2"},wn={class:"col-3 q-pa-xs"},_n={class:"col-3 q-pa-xs"},yn={class:"col-3 q-pa-xs"},Cn={class:"row col-3"},Dn={class:"col-12"},xn={class:"row"},In={class:"col-6"},Vn={class:"col-6"},Wn=Ts((()=>(0,s._)("div",{id:"myelement",class:"hidden"},null,-1)));function Tn(e,t,l,a,i,n){const d=(0,s.up)("q-icon"),r=(0,s.up)("q-card-section"),c=(0,s.up)("q-separator"),u=(0,s.up)("q-img"),m=(0,s.up)("q-card"),p=(0,s.up)("q-btn"),h=(0,s.up)("q-space"),g=(0,s.up)("q-input"),b=(0,s.up)("q-select"),f=(0,s.up)("q-checkbox"),v=(0,s.up)("q-banner"),w=(0,s.up)("q-form"),_=(0,s.up)("q-dialog"),y=(0,s.up)("q-page"),C=(0,s.Q2)("close-popup");return(0,s.wg)(),(0,s.j4)(y,null,{default:(0,s.w5)((()=>[(0,s.Wm)(m,null,{default:(0,s.w5)((()=>[(0,s.Wm)(r,{class:"q-py-xs bg-purple-7 text-white text-bold"},{default:(0,s.w5)((()=>[(0,s._)("div",Ms,[(0,s._)("div",As,[(0,s.Wm)(d,{name:"storefront",left:""}),Es])])])),_:1}),(0,s.Wm)(r,{class:"q-py-none"},{default:(0,s.w5)((()=>[(0,s._)("div",Ss,[(0,s._)("div",qs,[(0,s._)("div",js,[(0,s.Wm)(d,{name:"store"}),Ls])])])])),_:1}),(0,s.Wm)(c),(0,s._)("div",Ns,[(0,s._)("div",ks,[(0,s.Wm)(r,null,{default:(0,s.w5)((()=>[(0,s._)("div",Os,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.rubros,(e=>((0,s.wg)(),(0,s.iD)("div",{key:e.id,class:"col-2 col-md-2"},[(0,s.Wm)(m,{onClick:t=>i.productos=e.productos,class:"q-pa-xs"},{default:(0,s.w5)((()=>[(0,s.Wm)(u,{style:(0,Lt.j5)(["background: "+e.color,{height:"140px"}]),src:null!=e.imagen?i.url+"../imagen/"+e.imagen:"",alt:e.nombre,basic:""},{default:(0,s.w5)((()=>[(0,s._)("div",Us,(0,Lt.zw)(e.nombre),1)])),_:2},1032,["style","src","alt"])])),_:2},1032,["onClick"])])))),128))])])),_:1}),(0,s.Wm)(c),(0,s.Wm)(r,null,{default:(0,s.w5)((()=>[(0,s._)("div",Fs,[(0,s._)("div",Zs,[(0,s._)("div",zs,[(0,s.Wm)(d,{name:"shopping_cart"}),Qs])])]),(0,s._)("div",Rs,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.productos,(e=>((0,s.wg)(),(0,s.iD)("div",{class:"col-2 col-md-2",key:e.id},[(0,s.Wm)(m,{onClick:t=>n.miventa(e),class:"q-ma-xs",style:(0,Lt.j5)("background: "+e.color)},{default:(0,s.w5)((()=>[(0,s.Wm)(u,{style:(0,Lt.j5)(["background: "+e.color,{height:"140px"}]),src:null!=e.imagen?i.url+"../imagen/"+e.imagen:"",alt:e.nombre,basic:""},{default:(0,s.w5)((()=>[(0,s._)("div",Ps,[(0,s._)("div",Ys,[(0,s._)("div",$s,(0,Lt.zw)(e.nombre),1),(0,s._)("div",Bs,(0,Lt.zw)(e.precio)+"Bs",1)])])])),_:2},1032,["style","src","alt"])])),_:2},1032,["onClick","style"])])))),128))])])),_:1}),(0,s.Wm)(c)]),(0,s._)("div",Gs,[(0,s.Wm)(m,null,{default:(0,s.w5)((()=>[(0,s.Wm)(r,{class:"bg-accent text-white q-pa-xs"},{default:(0,s.w5)((()=>[(0,s._)("div",Hs,[(0,s._)("div",Ks,[(0,s.Wm)(d,{name:"point_of_sale"}),Js]),(0,s._)("div",Xs,[(0,s.Wm)(p,{onClick:n.reset,color:"negative",size:"14px",icon:"restart_alt",label:"cancelar"},null,8,["onClick"])]),(0,s._)("div",en,[(0,s.Wm)(p,{onClick:t[0]||(t[0]=e=>{i.icon=!0,i.tienerebaja=!1,i.booltarjeta=!1,i.tarjeta=!1}),color:"positive",label:"Venta",size:"14px",icon:"add_circle"})])])])),_:1}),(0,s.Wm)(r,{class:"q-pa-xs"},{default:(0,s.w5)((()=>[(0,s._)("table",null,[tn,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.store.detallecandy,((e,t)=>((0,s.wg)(),(0,s.iD)("tr",{key:t},[(0,s._)("td",null,(0,Lt.zw)(t+1),1),(0,s._)("td",null,(0,Lt.zw)(e.nombre),1),(0,s._)("td",ln,(0,Lt.zw)(e.cantidad),1),(0,s._)("td",on,(0,Lt.zw)(e.subtotal)+"Bs",1),(0,s._)("td",null,[(0,s.Wm)(p,{onClick:e=>n.agregar(t),size:"12px",icon:"add_circle_outline",color:"green"},null,8,["onClick"]),(0,s.Wm)(p,{onClick:e=>n.disminuir(t),size:"12px",icon:"remove_circle_outline",color:"warning"},null,8,["onClick"]),(0,s.Wm)(p,{onClick:e=>n.quitar(t),size:"12px",icon:"o_delete",color:"negative"},null,8,["onClick"])])])))),128))]),(0,s._)("tfoot",null,[(0,s._)("tr",null,[an,sn,nn,(0,s._)("th",dn,(0,Lt.zw)(n.total)+"Bs",1)])])])])),_:1})])),_:1})])])])),_:1}),(0,s.Wm)(_,{modelValue:i.icon,"onUpdate:modelValue":t[12]||(t[12]=e=>i.icon=e),"full-width":"",persistent:""},{default:(0,s.w5)((()=>[(0,s.Wm)(m,{style:{width:"700px","max-width":"80vw"}},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{class:"row items-center q-pa-xs bg-green-14 text-white"},{default:(0,s.w5)((()=>[(0,s._)("div",rn,[(0,s.Wm)(d,{name:"send"}),cn]),(0,s.Wm)(h),(0,s.wy)((0,s.Wm)(p,{icon:"close",flat:"",round:"",dense:""},null,512),[[C]])])),_:1}),(0,s.Wm)(r,null,{default:(0,s.w5)((()=>[(0,s._)("div",un,[(0,s._)("div",mn,[(0,s.Wm)(w,{onSubmit:(0,o.iM)(n.saleInsert,["prevent"]),class:"q-gutter-md"},{default:(0,s.w5)((()=>[(0,s._)("div",pn,[(0,s._)("div",hn,[(0,s.Wm)(g,{required:"",onKeyup:n.searchClient,outlined:"",modelValue:i.client.numeroDocumento,"onUpdate:modelValue":t[1]||(t[1]=e=>i.client.numeroDocumento=e),label:"CI / NIT *",hint:"Carnet o nit","lazy-rules":"",rules:[e=>e&&e.length>0||"Dato obligatorio"]},null,8,["onKeyup","modelValue","rules"])]),(0,s._)("div",gn,[(0,s.Wm)(g,{onKeyup:n.searchClient,outlined:"",modelValue:i.client.complemento,"onUpdate:modelValue":t[2]||(t[2]=e=>i.client.complemento=e),label:"COMPLEMENTO"},null,8,["onKeyup","modelValue"])]),(0,s._)("div",bn,[(0,s.Wm)(g,{required:"",outlined:"",modelValue:i.client.nombreRazonSocial,"onUpdate:modelValue":t[3]||(t[3]=e=>i.client.nombreRazonSocial=e),label:"Nombre y razon *",hint:"Razon social",style:{"text-transform":"uppercase"},"lazy-rules":"",rules:[e=>e&&e.length>0||"Dato obligatorio"]},null,8,["modelValue","rules"])]),(0,s._)("div",fn,[(0,s.Wm)(b,{modelValue:i.document,"onUpdate:modelValue":[t[4]||(t[4]=e=>i.document=e),n.validarnit],outlined:"",options:i.documents},null,8,["modelValue","options","onUpdate:modelValue"])]),(0,s._)("div",vn,[(0,s.Wm)(g,{outlined:"",modelValue:i.client.email,"onUpdate:modelValue":t[5]||(t[5]=e=>i.client.email=e),label:"Email",type:"email"},null,8,["modelValue"])]),(0,s._)("div",wn,[(0,s.Wm)(g,{required:"",outlined:"",disable:"",modelValue:n.total,"onUpdate:modelValue":t[6]||(t[6]=e=>n.total=e),label:"Total*","lazy-rules":""},null,8,["modelValue"])]),(0,s._)("div",_n,[(0,s.Wm)(g,{modelValue:i.efectivo,"onUpdate:modelValue":t[7]||(t[7]=e=>i.efectivo=e),outlined:"",label:"Monto recibido"},null,8,["modelValue"])]),(0,s._)("div",yn,[(0,s.Wm)(g,{outlined:"",disable:"",label:"Cambio",modelValue:n.cambio,"onUpdate:modelValue":t[8]||(t[8]=e=>n.cambio=e)},null,8,["modelValue"])]),(0,s._)("div",Cn,[(0,s.Wm)(f,{modelValue:i.credito,"onUpdate:modelValue":t[9]||(t[9]=e=>i.credito=e),label:"T Credito",dense:""},null,8,["modelValue"]),(0,s.Wm)(f,{modelValue:i.booltarjeta,"onUpdate:modelValue":t[10]||(t[10]=e=>i.booltarjeta=e),label:"T VIP",dense:"",onClick:n.verificar},null,8,["modelValue","onClick"])]),(0,s._)("div",Dn,[i.booltarjeta?((0,s.wg)(),(0,s.j4)(w,{key:0,onSubmit:(0,o.iM)(n.consultartarjeta,["prevent"])},{default:(0,s.w5)((()=>[(0,s._)("div",xn,[(0,s._)("div",In,[(0,s.Wm)(g,{outlined:"",label:"Codigo",modelValue:i.codigo,"onUpdate:modelValue":t[11]||(t[11]=e=>i.codigo=e),onKeyup:n.consultartarjeta},null,8,["modelValue","onKeyup"])]),(0,s._)("div",Vn,[(0,s.Wm)(v,null,{default:(0,s.w5)((()=>[(0,s.Uk)("Saldo :"+(0,Lt.zw)(i.nombresaldo.saldo)+" -- "+(0,Lt.zw)(i.nombresaldo.nombre),1)])),_:1})])])])),_:1},8,["onSubmit"])):(0,s.kq)("",!0)])]),(0,s._)("div",null,[(0,s.Wm)(p,{label:"venta",loading:i.loading,icon:"send",type:"submit",color:"positive",disable:i.btn},null,8,["loading","disable"]),(0,s.Wm)(p,{label:"Cerrar",loading:i.loading,type:"button",size:"md",icon:"delete",color:"negative",class:"q-ml-sm",onClick:n.cancelarVenta},null,8,["loading","onClick"])])])),_:1},8,["onSubmit"])])])])),_:1})])),_:1})])),_:1},8,["modelValue"]),Wn])),_:1})}const Mn={name:"Sale",data(){return{saleDialog:!1,url:"http://10.200.100.20:81/api/",now:de.ZP.formatDate(new Date,"YYYY-MM-DD"),efectivo:"",btn:!1,rubros:[],codigo:"",productos:[],client:{complemento:""},temporal:[],loading:!1,documents:[],document:{},credito:!1,store:(0,ne.c)(),icon:!1,tarjeta:!1,cine:{},leyendas:[],nombresaldo:{},tienerebaja:!1,booltarjeta:!1,opts:{errorCorrectionLevel:"M",type:"png",quality:.95,width:100,margin:1,color:{dark:"#000000",light:"#FFF"}}}},created(){this.listado(),this.encabezado(),this.cargarLeyenda(),this.$api.get("document").then((e=>{e.data.forEach((e=>{e.label=e.descripcion})),this.documents=e.data,this.document=this.documents[0]})),this.$api.get("document").then((e=>{e.data.forEach((e=>{e.label=e.descripcion})),this.documents=e.data,this.document=this.documents[0]}))},methods:{cancelarVenta(){this.codigo="",this.booltarjeta=!1,this.nombresaldo={},this.icon=!1,this.verificar()},validarnit(){this.document==this.documents[4]&&this.$api.get("validanit/"+this.client.numeroDocumento).then((e=>{console.log(e.data),this.$q.notify({message:e.data.RespuestaVerificarNit.mensajesList.descripcion,color:"teal",icon:"info"})}))},consultartarjeta(){""==this.codigo&&void 0==this.codigo||(this.nombresaldo="",this.codigo=this.codigo.replaceAll(" ",""),this.tienerebaja&&(this.store.detallecandy.forEach((e=>{e.precio=(1.25*e.precio).toFixed(2),e.subtotal=(1.25*e.subtotal).toFixed(2)})),this.btn=!1,this.tienerebaja=!1),this.$api.get("validarTarjeta/"+this.codigo).then((e=>{console.log(e.data),this.$q.loading.hide(),"0"==e.data||""==e.data||(this.nombresaldo=e.data,this.tienerebaja||(this.store.detallecandy.forEach((e=>{e.precio=(.8*e.precio).toFixed(2),e.subtotal=(.8*e.subtotal).toFixed(2)})),this.tienerebaja=!0,parseFloat(this.total)<=parseFloat(this.nombresaldo.saldo)?this.btn=!1:this.btn=!0))})))},verificar(){this.codigo="",this.nombresaldo="",this.booltarjeta||this.tienerebaja&&(this.store.detallecandy.forEach((e=>{e.precio=(1.25*e.precio).toFixed(2),e.subtotal=(1.25*e.subtotal).toFixed(2)})),this.btn=!1,this.tienerebaja=!1)},reset(){this.client={complemento:""},this.store.detallecandy=[]},quitar(e){this.store.detallecandy.splice(e,1)},agregar(e){let t=this.store.detallecandy[e];this.store.detallecandy[e].cantidad++,this.store.detallecandy[e].subtotal=(parseFloat(t.precio)*parseFloat(this.store.detallecandy[e].cantidad)).toFixed(2)},disminuir(e){let t=this.store.detallecandy[e];this.store.detallecandy[e].cantidad--,this.store.detallecandy[e].subtotal=(parseFloat(t.precio)*parseFloat(this.store.detallecandy[e].cantidad)).toFixed(2),0==this.store.detallecandy[e].cantidad&&this.store.detallecandy.splice(e,1)},miventa(e){let t=this.store.detallecandy.findIndex((t=>t.product_id===e.id));-1==t?this.store.detallecandy.push({product_id:e.id,nombre:e.nombre,precio:e.precio,cantidad:1,subtotal:e.precio}):(this.store.detallecandy[t].cantidad++,this.store.detallecandy[t].subtotal=(parseFloat(e.precio)*parseFloat(this.store.detallecandy[t].cantidad)).toFixed(2))},listado(){this.$api.post("listadoprod").then((e=>{console.log(e.data),this.rubros=e.data}))},saleInsert(){if(0==this.client.numeroDocumento)return this.$q.notify({color:"red",textColor:"white",message:"Debe ingresar un numero de documento"}),!1;this.error="",this.loading=!0,this.client.codigoTipoDocumentoIdentidad=this.document.codigoClasificador,this.client.email=void 0==this.client.email?"":this.client.email,this.$api.post("salecandy",{client:this.client,montoTotal:this.total,detalleVenta:this.store.detallecandy,tarjeta:this.credito?"SI":"NO",codigoTarjeta:this.codigo,vip:this.booltarjeta?"SI":"NO"}).then((e=>{this.reset(),1==e.data.sale.siatEnviado&&this.printFactura(e.data.sale),this.printComanda(e.data.sale),this.icon=!1,this.loading=!1})).catch((e=>{console.log(e),this.loading=!1,this.$q.notify({color:"negative",textColor:"white",message:e.response.data.message,position:"top",timeout:5e3})}))},searchClient(){this.document=this.documents[0],this.client.nombreRazonSocial="",this.client.email="",this.client.id=void 0,this.$api.post("searchClient",this.client).then((e=>{if(void 0!=e.data.nombreRazonSocial){this.client.nombreRazonSocial=e.data.nombreRazonSocial,this.client.email=e.data.email,this.client.id=e.data.id;let t=this.documents.find((t=>t.codigoClasificador==e.data.codigoTipoDocumentoIdentidad));t.label=t.descripcion,this.document=t}5==this.document.codigoClasificador&&this.validarnit()}))},async printFactura(e){this.leyendas.length;this.facturadetalle=e;let t=wi().conversorNumerosALetras,l=new t,o=l.convertToText(parseInt(e.montoTotal));this.qrImage=await _i.toDataURL(this.cine.url2+"consulta/QR?nit="+this.cine.nit+"&cuf="+e.cuf+"&numero="+e.numeroFactura+"&t=2",this.opts);let a="<style>      .titulo{      font-size: 12px;      text-align: center;      font-weight: bold;      }      .titulo2{      font-size: 10px;      text-align: center;      }            .titulo3{      font-size: 10px;      text-align: center;      width:70%;      }            .contenido{      font-size: 10px;      text-align: left;      }      .conte2{      font-size: 10px;      text-align: right;      }      .titder{      font-size: 12px;      text-align: right;      font-weight: bold;      }      hr{  border-top: 1px dashed   ;}  table{    width:100%  }  h1 {    color: black;    font-family: sans-serif;  }</style>    <div id='myelement' style='padding-left: 0.5cm;padding-right: 0.5cm'>      <div class='titulo'>FACTURA <br>CON DERECHO A CREDITO FISCAL</div>      <div class='titulo2'>"+this.cine.razon+"<br>        Casa Matriz<br>        No. Punto de Venta "+e.codigoPuntoVenta+"<br>        "+this.cine.direccion.substring(0,38)+"<br>"+this.cine.direccion.substring(38)+"<br>        Tel. "+this.cine.telefono+"<br>        Oruro      </div>      <hr>      <div class='titulo'>NIT</div>      <div class='titulo2'>"+this.cine.nit+"</div>      <div class='titulo'>FACTURA N°</div>      <div class='titulo2'>"+e.numeroFactura+"</div>      <div class='titulo'>CÓD. AUTORIZACIÓN</div>      <div class='titulo2 ' >"+e.cuf.substring(0,41)+"<br>"+e.cuf.substring(41)+"</div>      <hr>      <table>        <tr><td class='titder'>NOMBRE/RAZÓN SOCIAL:</td><td class='contenido'>"+e.client.nombreRazonSocial+"</td></tr>        <tr><td class='titder'>NIT/CI/CEX:</td><td class='contenido'>"+e.client.numeroDocumento+"-"+e.client.complemento+"</td></tr>        <tr><td class='titder'>COD. CLIENTE:</td ><td class='contenido'>"+e.client.id+"</td></tr>        <tr><td class='titder'>FECHA DE EMISIÓN:</td><td class='contenido'>"+e.fechaEmision+"</td></tr>      </table>      <hr>      <div class='titulo'>DETALLE</div>";e.details.forEach((e=>{a+="<div style='font-size: 12px'><b>"+e.product_id+" - "+e.descripcion+"</b></div>",a+="<div>"+e.cantidad+"  "+parseFloat(e.precioUnitario).toFixed(2)+" 0.00<span style='float:right'>"+parseFloat(e.subTotal).toFixed(2)+"</span></div>"})),a+="<hr>      <table style='font-size: 8px;'>      <tr><td class='titder' style='width: 60%'>SUBTOTAL Bs</td><td class='conte2'>"+parseFloat(e.montoTotal).toFixed(2)+"</td></tr>      <tr><td class='titder'>DESCUENTO Bs</td><td class='conte2'>0.00</td></tr>      <tr><td class='titder'>TOTAL Bs</td><td class='conte2'>"+parseFloat(e.montoTotal).toFixed(2)+"</td></tr>      <tr><td class='titder'>MONTO GIFT CARD Bs</td ><td class='conte2'>0.00</td></tr>      <tr><td class='titder'>MONTO A PAGAR Bs</td><td class='conte2'>"+parseFloat(e.montoTotal).toFixed(2)+"</td></tr>      <tr><td class='titder' style='font-size: 8px'>IMPORTE BASE CRÉDITO FISCAL Bs</td><td class='conte2'>"+parseFloat(e.montoTotal).toFixed(2)+"</td></tr>      </table><br>      <div>Son "+o+" "+100*(parseFloat(e.montoTotal).toFixed(2)-Math.floor(parseFloat(e.montoTotal).toFixed(2)))+"/100 Bolivianos</div>      <hr>      <div class='titulo2' style='font-size: 9px'>ESTA FACTURA CONTRIBUYE AL DESARROLLO DEL PAÍS,<br>EL USO ILÍCITO SERÁ SANCIONADO PENALMENTE DE<br>ACUERDO A LEY<br><br>"+e.leyenda+" <br><br>“Este documento es la Representación Gráfica de un<br>Documento Fiscal Digital emitido en una modalidad de<br>facturación en línea”</div><br><div style='display: flex;justify-content: center;'>  <img src="+this.qrImage+" >      </div>              </div>",document.getElementById("myelement").innerHTML=a;const i=new fi.gR;i.print(document.getElementById("myelement"))},async printComanda(e){this.facturadetalle=e;let t=wi().conversorNumerosALetras,l=new t,o=l.convertToText(parseInt(e.montoTotal)),a="<style>      .titulo{      font-size: 12px;      text-align: center;      font-weight: bold;      }      .titulo2{      font-size: 10px;      text-align: center;      }            .titulo3{      font-size: 10px;      text-align: center;      width:70%;      }            .contenido{      font-size: 10px;      text-align: left;      }      .conte2{      font-size: 10px;      text-align: right;      }      .campotd{      text-align: center;      }      .titder{      font-size: 12px;      text-align: right;      font-weight: bold;      }      hr{  border-top: 1px dashed   ;}  table{    width:100%  }  h1 {    color: black;    font-family: sans-serif;  }</style>    <div id='myelement'>      <div class='titulo2'>"+this.cine.razon+"<br>        Casa Matriz<br>        No. Punto de Venta "+e.codigoPuntoVenta+"<br>        Oruro      </div>      <hr>      <table>        <tr><td class='titder'>FECHA DE EMISIÓN:</td><td class='contenido'>"+e.fechaEmision+"</td></tr>      </table>      <hr>      <div class='titulo'>DETALLE</div>      <table style='font-size: 10px;'><thead>      <tr><th>CANT</th><th>PROD</th><th>P.U.</th><th>SubT</th></tr>      </thead><tbody>";e.details.forEach((e=>{a+="<tr><td class='campotd'>"+e.cantidad+"</td><td class='campotd'>  "+e.descripcion+"</td><td class='campotd'>"+parseFloat(e.precioUnitario).toFixed(2)+" </td><td class='campotd'>"+parseFloat(e.subTotal).toFixed(2)+"</td></tr>"})),a+="</tbody></table><hr>      <table style='font-size: 8px;'>      <tr><td class='titder'>TOTAL Bs</td><td class='conte2'>"+parseFloat(e.montoTotal).toFixed(2)+"</td></tr>      </table><br>      <div>Son "+o+" "+100*(parseFloat(e.montoTotal).toFixed(2)-Math.floor(parseFloat(e.montoTotal).toFixed(2)))+"/100 Bolivianos</div>      <div>Usuario: "+e.usuario+"</div>      <div>Venta: "+e.id+"</div>      ",document.getElementById("myelement").innerHTML=a;const i=new fi.gR;i.print(document.getElementById("myelement"))},cargarLeyenda(){this.$api.post("listleyenda",{codigo:"590000"}).then((e=>{this.leyendas=e.data}))},encabezado(){this.$api.get("datocine").then((e=>{this.cine=e.data}))}},computed:{cambio(){let e=parseFloat(""==this.efectivo?0:this.efectivo)-parseFloat(this.total);return Math.round(100*e)/100},total:function(){let e=0;return this.store.detallecandy.forEach((t=>{e+=parseFloat(t.precio)*parseFloat(t.cantidad)})),e.toFixed(2)}}},An=(0,r.Z)(Mn,[["render",Tn],["__scopeId","data-v-68423909"]]),En=An;D()(Mn,"components",{QPage:y.Z,QCard:Ce.Z,QCardSection:De.Z,QIcon:pe.Z,QSeparator:Ci.Z,QImg:ge.Z,QBtn:ue.Z,QDialog:ye.Z,QSpace:xe.Z,QForm:Ie.Z,QInput:me.Z,QSelect:Ve.Z,QCheckbox:Oo.Z,QBanner:Di.Z}),D()(Mn,"directives",{ClosePopup:Me.Z});const Sn={class:"row"},qn={class:"col-12"},jn={class:"row"},Ln={class:"col-4 q-pa-xs"},Nn={class:"col-4 q-pa-xs"},kn={class:"col-4 q-pa-xs flex flex-center"},On={class:"col-12"},Un=(0,s.Uk)("VIP"),Fn=(0,s._)("div",{class:"text-h6"},"Boletos",-1),Zn=["src"],zn={id:"myelement",class:"hidden"},Qn=(0,s._)("div",{class:"text-h6"},"ANULAR FACTURA",-1);function Rn(e,t,l,a,i,n){const d=(0,s.up)("q-input"),r=(0,s.up)("q-btn"),c=(0,s.up)("q-form"),u=(0,s.up)("q-badge"),m=(0,s.up)("q-td"),p=(0,s.up)("q-item-section"),h=(0,s.up)("q-item"),g=(0,s.up)("q-list"),b=(0,s.up)("q-btn-dropdown"),f=(0,s.up)("q-table"),v=(0,s.up)("q-card-section"),w=(0,s.up)("q-card-actions"),_=(0,s.up)("q-card"),y=(0,s.up)("q-dialog"),C=(0,s.up)("q-select"),D=(0,s.up)("q-page"),x=(0,s.Q2)("close-popup");return(0,s.wg)(),(0,s.j4)(D,null,{default:(0,s.w5)((()=>[(0,s._)("div",Sn,[(0,s._)("div",qn,[(0,s.Wm)(c,{onSubmit:(0,o.iM)(n.listaVentaBoleteriaGet,["prevent"])},{default:(0,s.w5)((()=>[(0,s._)("div",jn,[(0,s._)("div",Ln,[(0,s.Wm)(d,{outlined:"",label:"FechaIni",type:"date",modelValue:i.fechaIni,"onUpdate:modelValue":t[0]||(t[0]=e=>i.fechaIni=e)},null,8,["modelValue"])]),(0,s._)("div",Nn,[(0,s.Wm)(d,{outlined:"",label:"FechaFin",type:"date",modelValue:i.fechaFin,"onUpdate:modelValue":t[1]||(t[1]=e=>i.fechaFin=e)},null,8,["modelValue"])]),(0,s._)("div",kn,[(0,s.Wm)(r,{label:"Buscar",icon:"search",color:"primary",type:"submit",class:"",loading:i.loading},null,8,["loading"])])])])),_:1},8,["onSubmit"])]),(0,s._)("div",On,[(0,s.Wm)(f,{rows:i.listaVentaBoleteria,columns:i.listaColums},{"body-cell-siatAnulado":(0,s.w5)((e=>[(0,s.Wm)(m,{props:e,"auto-width":""},{default:(0,s.w5)((()=>[(0,s.Wm)(u,{color:e.row.siatAnulado?"red":"green",label:e.row.siatAnulado?"A":"V"},null,8,["color","label"])])),_:2},1032,["props"])])),"body-cell-Opciones":(0,s.w5)((e=>[(0,s.Wm)(m,{props:e,"auto-width":""},{default:(0,s.w5)((()=>[(0,s.Wm)(b,{color:"primary",label:"Opciones"},{default:(0,s.w5)((()=>[(0,s.Wm)(g,null,{default:(0,s.w5)((()=>[0==e.row.siatAnulado&&"NO"==e.row.cortesia?(0,s.wy)(((0,s.wg)(),(0,s.j4)(h,{key:0,clickable:""},{default:(0,s.w5)((()=>[(0,s.Wm)(p,null,{default:(0,s.w5)((()=>[0==e.row.siatAnulado?((0,s.wg)(),(0,s.j4)(r,{key:0,icon:"print",color:"primary",class:"full-width",label:"Imprimir","no-caps":"",onClick:t=>n.printFactura(e.row)},null,8,["onClick"])):(0,s.kq)("",!0)])),_:2},1024)])),_:2},1024)),[[x]]):(0,s.kq)("",!0),0==e.row.siatAnulado?(0,s.wy)(((0,s.wg)(),(0,s.j4)(h,{key:1,clickable:""},{default:(0,s.w5)((()=>[(0,s.Wm)(p,null,{default:(0,s.w5)((()=>[0==e.row.siatAnulado?((0,s.wg)(),(0,s.j4)(r,{key:0,icon:"list",color:"green",class:"full-width",label:"Imp Boletos","no-caps":"",onClick:t=>n.detalleimp(e.row)},null,8,["onClick"])):(0,s.kq)("",!0)])),_:2},1024)])),_:2},1024)),[[x]]):(0,s.kq)("",!0),0==e.row.siatAnulado?(0,s.wy)(((0,s.wg)(),(0,s.j4)(h,{key:2,clickable:""},{default:(0,s.w5)((()=>[(0,s.Wm)(p,null,{default:(0,s.w5)((()=>[0==e.row.siatAnulado?((0,s.wg)(),(0,s.j4)(r,{key:0,icon:"cancel_presentation",color:"red",class:"full-width",label:"Anular","no-caps":"",onClick:t=>n.anularSale(e.row)},null,8,["onClick"])):(0,s.kq)("",!0)])),_:2},1024)])),_:2},1024)),[[x]]):(0,s.kq)("",!0),"NO"==e.row.cortesia?(0,s.wy)(((0,s.wg)(),(0,s.j4)(h,{key:3,clickable:""},{default:(0,s.w5)((()=>[(0,s.Wm)(p,null,{default:(0,s.w5)((()=>[(0,s.Wm)(r,{type:"a",label:"Imp Impuestos ",class:"full-width",color:"info",target:"_blank",href:`${i.cine.url2}consulta/QR?nit=${i.cine.nit}&cuf=${e.row.cuf}&numero=${e.row.numeroFactura}&t=2`},null,8,["href"])])),_:2},1024)])),_:2},1024)),[[x]]):(0,s.kq)("",!0),0==e.row.siatAnulado&&"NO"==e.row.cortesia?(0,s.wy)(((0,s.wg)(),(0,s.j4)(h,{key:4,clickable:""},{default:(0,s.w5)((()=>[(0,s.Wm)(p,null,{default:(0,s.w5)((()=>[(0,s.Wm)(r,{label:"Enviar Correo ",class:"full-width",color:"teal",onClick:t=>n.correo(e.row)},null,8,["onClick"])])),_:2},1024)])),_:2},1024)),[[x]]):(0,s.kq)("",!0)])),_:2},1024)])),_:2},1024)])),_:2},1032,["props"])])),"body-cell-siatEnviado":(0,s.w5)((e=>[(0,s.Wm)(m,{props:e,"auto-width":""},{default:(0,s.w5)((()=>["NO"==e.row.vip?((0,s.wg)(),(0,s.j4)(u,{key:0,color:e.row.siatEnviado?"green":"red",label:e.row.siatEnviado?"V":"E"},null,8,["color","label"])):((0,s.wg)(),(0,s.j4)(u,{key:1,color:"orange"},{default:(0,s.w5)((()=>[Un])),_:1}))])),_:2},1032,["props"])])),_:1},8,["rows","columns"])])]),(0,s.Wm)(y,{modelValue:i.ticketsDialog,"onUpdate:modelValue":t[2]||(t[2]=e=>i.ticketsDialog=e),"full-width":""},{default:(0,s.w5)((()=>[(0,s.Wm)(_,null,{default:(0,s.w5)((()=>[(0,s.Wm)(v,null,{default:(0,s.w5)((()=>[Fn])),_:1}),(0,s.Wm)(v,{class:"q-pt-none"},{default:(0,s.w5)((()=>[(0,s.Wm)(f,{label:"Boletos",columns:i.boletoColums,rows:i.tickets},{"body-cell-opcion":(0,s.w5)((e=>[(0,s.Wm)(m,{props:e},{default:(0,s.w5)((()=>[0==e.row.devuelto?((0,s.wg)(),(0,s.j4)(r,{key:0,color:"info",icon:"print",onClick:t=>n.boletoprint(e.row)},null,8,["onClick"])):(0,s.kq)("",!0)])),_:2},1032,["props"])])),_:1},8,["columns","rows"])])),_:1}),(0,s.Wm)(w,{align:"right",class:"text-primary"},{default:(0,s.w5)((()=>[(0,s.wy)((0,s.Wm)(r,{flat:"",label:"Cancel"},null,512),[[x]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,s._)("div",null,[(0,s._)("img",{src:i.qrImage,style:{visibility:"hidden"}},null,8,Zn)]),(0,s._)("div",zn,(0,Lt.zw)(i.lorem),1),(0,s.Wm)(y,{modelValue:i.dialogAnular,"onUpdate:modelValue":t[4]||(t[4]=e=>i.dialogAnular=e)},{default:(0,s.w5)((()=>[(0,s.Wm)(_,{style:{"min-width":"350px"}},{default:(0,s.w5)((()=>[(0,s.Wm)(v,null,{default:(0,s.w5)((()=>[Qn])),_:1}),(0,s.Wm)(v,{class:"q-pt-none"},{default:(0,s.w5)((()=>[(0,s.Wm)(C,{label:"motivo",options:i.motivos,modelValue:i.motivo,"onUpdate:modelValue":t[3]||(t[3]=e=>i.motivo=e)},null,8,["options","modelValue"])])),_:1}),(0,s.Wm)(w,{align:"right",class:"text-primary"},{default:(0,s.w5)((()=>[(0,s.wy)((0,s.Wm)(r,{flat:"",label:"Cancel"},null,512),[[x]]),(0,s.Wm)(r,{flat:"",label:"ANULAR",onClick:n.enviarAnular},null,8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}const Pn=l(8746),Yn=l(2316),$n={name:"LisaVenta",data(){return{lorem:"lorem impus",ticketsDialog:!1,loading:!1,fechaIni:de.ZP.formatDate(new Date,"YYYY-MM-DD"),fechaFin:de.ZP.formatDate(new Date,"YYYY-MM-DD"),listaVentaBoleteria:[],facturadetalle:{},factura:{},cine:{},dialogAnular:!1,listaColums:[{name:"Opciones",label:"Opciones",field:"Opciones"},{name:"numeroFactura",label:"numeroFactura",field:"numeroFactura",sortable:!0},{name:"siatEnviado",label:"siatEnviado",field:"siatEnviado",sortable:!0},{name:"fechaEmision",label:"fechaEmision",field:"fechaEmision",sortable:!0},{name:"client_id",label:"client_id",field:e=>e.client.nombreRazonSocial,sortable:!0},{name:"user_id",label:"user_id",field:e=>e.user.name,sortable:!0},{name:"montoTotal",label:"montoTotal",field:"montoTotal",sortable:!0},{name:"siatAnulado",label:"siatAnulado",field:"siatAnulado",sortable:!0},{name:"id",label:"id",field:"id",sortable:!0}],boletoColums:[{name:"opcion",label:"Opcion",field:"opcion"},{name:"titulo",label:"titulo",field:"titulo",sortable:!0},{name:"nombreSala",label:"nombreSala",field:"nombreSala",sortable:!0},{name:"horaFuncion",label:"horaFuncion",field:"horaFuncion",sortable:!0},{name:"letra",label:"letra",field:"letra",sortable:!0},{name:"columna",label:"columna",field:"columna",sortable:!0},{name:"costo",label:"costo",field:"costo",sortable:!0}],tickets:[],leyendas:[],qrImage:"",motivos:[],motivo:{},opts:{errorCorrectionLevel:"M",type:"png",quality:.95,width:100,margin:1,color:{dark:"#000000",light:"#FFF"}}}},mounted(){this.listaVentaBoleteriaGet(),this.encabezado(),this.cargarLeyenda(),this.cargarMotivo()},methods:{correo(e){console.log(e),this.$api.post("enviarCorreo",{client:e.client,sale:e}).then((e=>{e.data&&this.$q.notify({color:"green",textColor:"white",message:"enviado al correo"})}))},enviarAnular(){this.$q.loading.show(),this.$api.post("anularSale",{sale:this.factura,motivo:this.motivo}).then((e=>{this.dialogAnular=!1,this.listaVentaBoleteriaGet(),this.$q.loading.hide()}))},cargarMotivo(){this.$api.get("motivoanular").then((e=>{e.data.forEach((e=>{e.label=e.descripcion})),this.motivos=e.data,this.motivo=this.motivos[0]}))},cargarLeyenda(){this.$api.post("listleyenda",{codigo:"590000"}).then((e=>{this.leyendas=e.data}))},encabezado(){this.$api.get("datocine").then((e=>{this.cine=e.data}))},boletoprint(e){console.log(e);let t="";t+="<style>        .titulo{        font-size: 14px;        text-align: center;        font-weight: bold;      }              .tifecha{        font-size: 14px;      }              .titnit{        font-size: 10px;        text-align: center;      }            hr{      border-top: 1px dashed   ;    }         .titpelicula{        font-size: 18px;        text-align: center;        font-weight: bold;      }        </style>",t+="<div style='padding-right: 0.5cm;padding-left: 0.5cm'>",t+="<div class='titulo'>"+this.cine.razon+"</div>",t+="<div class='titnit'>NIT:"+this.cine.nit+"</div>",t+="<hr>",t+="<div class='titpelicula'>"+e.titulo+"<br> "+e.nombreSala+"</div><br>",t+="<div class='tifecha'>Fecha:  <span style='font-size: 20px;'>"+e.fechaFuncion+"</span>  <span style='float:right'>Bs. "+e.costo+"</span></div>",t+="<div class='tifecha'>Butaca: <span style='font-size:22px;'>"+e.letra+" - "+e.columna+"</span><div style='float:right'> Hora: <span style='font-size:20px;'>"+e.horaFuncion.substring(11)+"</span></div></div>",t+="<hr>",t+="<div style='font-size: 12px' >Cod: "+e.numboc+"<br>",t+="Trans: "+e.id+"</div>",t+="</div >",document.getElementById("myelement").innerHTML=t;const l=new fi.gR;l.print(document.getElementById("myelement"))},anularSale(e){this.factura=e,this.dialogAnular=!0},detalleimp(e){console.log(e.tickets),this.tickets=e.tickets,this.ticketsDialog=!0},async printFactura(e){console.log(e);this.leyendas.length;this.facturadetalle=e;let t=Pn.conversorNumerosALetras,l=new t,o=l.convertToText(parseInt(e.montoTotal));this.qrImage=await Yn.toDataURL(this.cine.url2+"consulta/QR?nit="+this.cine.nit+"&cuf="+e.cuf+"&numero="+e.numeroFactura+"&t=2",this.opts);let a="<style>      .titulo{      font-size: 12px;      text-align: center;      font-weight: bold;      }      .titulo2{      font-size: 10px;      text-align: center;      }            .titulo3{      font-size: 10px;      text-align: center;      width:70%;      }            .contenido{      font-size: 10px;      text-align: left;      }      .conte2{      font-size: 10px;      text-align: right;      }      .titder{      font-size: 12px;      text-align: right;      font-weight: bold;      }      hr{  border-top: 1px dashed   ;}  table{    width:100%  }  h1 {    color: black;    font-family: sans-serif;  }</style>    <div id='myelement' style='padding-left: 0.5cm;padding-right: 0.5cm'>      <div class='titulo'>FACTURA <br>CON DERECHO A CREDITO FISCAL</div>      <div class='titulo2'>"+this.cine.razon+"<br>        Casa Matriz<br>        No. Punto de Venta "+e.codigoPuntoVenta+"<br>        "+this.cine.direccion.substring(0,38)+"<br>"+this.cine.direccion.substring(38)+"<br>        Tel. "+this.cine.telefono+"<br>        Oruro      </div>      <hr>      <div class='titulo'>NIT</div>      <div class='titulo2'>"+this.cine.nit+"</div>      <div class='titulo'>FACTURA N°</div>      <div class='titulo2'>"+e.numeroFactura+"</div>      <div class='titulo'>CÓD. AUTORIZACIÓN</div>      <div class='titulo2 ' >"+e.cuf.substring(0,41)+"<br>"+e.cuf.substring(41)+"</div>      <hr>      <table>        <tr><td class='titder'>NOMBRE/RAZÓN SOCIAL:</td><td class='contenido'>"+e.client.nombreRazonSocial+"</td></tr>        <tr><td class='titder'>NIT/CI/CEX:</td><td class='contenido'>"+e.client.numeroDocumento+"</td></tr>        <tr><td class='titder'>COD. CLIENTE:</td ><td class='contenido'>"+e.client.id+"</td></tr>        <tr><td class='titder'>FECHA DE EMISIÓN:</td><td class='contenido'>"+e.fechaEmision+"</td></tr>      </table>      <hr>      <div class='titulo'>DETALLE</div>";e.details.forEach((e=>{a+="<div style='font-size: 12px'><b>"+e.programa_id+" - "+e.descripcion+"</b></div>",a+="<div>"+e.cantidad+"  "+parseFloat(e.precioUnitario).toFixed(2)+" 0.00<span style='float:right'>"+parseFloat(e.subTotal).toFixed(2)+"</span></div>"})),a+="<hr>      <table style='font-size: 8px;'>      <tr><td class='titder' style='width: 60%'>SUBTOTAL Bs</td><td class='conte2'>"+parseFloat(e.montoTotal).toFixed(2)+"</td></tr>      <tr><td class='titder'>DESCUENTO Bs</td><td class='conte2'>0.00</td></tr>      <tr><td class='titder'>TOTAL Bs</td><td class='conte2'>"+parseFloat(e.montoTotal).toFixed(2)+"</td></tr>      <tr><td class='titder'>MONTO GIFT CARD Bs</td ><td class='conte2'>0.00</td></tr>      <tr><td class='titder'>MONTO A PAGAR Bs</td><td class='conte2'>"+parseFloat(e.montoTotal).toFixed(2)+"</td></tr>      <tr><td class='titder' style='font-size: 8px'>IMPORTE BASE CRÉDITO FISCAL Bs</td><td class='conte2'>"+parseFloat(e.montoTotal).toFixed(2)+"</td></tr>      </table><br>      <div>Son "+o+" "+100*(parseFloat(e.montoTotal).toFixed(2)-Math.floor(parseFloat(e.montoTotal).toFixed(2)))+"/100 Bolivianos</div>      <hr>      <div class='titulo2' style='font-size: 9px'>ESTA FACTURA CONTRIBUYE AL DESARROLLO DEL PAÍS,<br>EL USO ILÍCITO SERÁ SANCIONADO PENALMENTE DE<br>ACUERDO A LEY<br><br>"+e.leyenda+" <br><br>“Este documento es la Representación Gráfica de un<br>Documento Fiscal Digital emitido en una modalidad de<br>facturación en línea”</div><br><div style='display: flex;justify-content: center;'>  <img src="+this.qrImage+" >      </div>              </div>",document.getElementById("myelement").innerHTML=a;const i=new fi.gR;i.print(document.getElementById("myelement"))},listaVentaBoleteriaGet(){this.loading=!0,this.$api.post("listaVentaBoleteria",{fechaIni:this.fechaIni,fechaFin:this.fechaFin}).then((e=>{this.loading=!1,this.listaVentaBoleteria=e.data}))}}},Bn=(0,r.Z)($n,[["render",Rn]]),Gn=Bn;D()($n,"components",{QPage:y.Z,QForm:Ie.Z,QInput:me.Z,QBtn:ue.Z,QTable:ce.Z,QTd:he.Z,QBadge:cl.Z,QBtnDropdown:be.Z,QList:fe.Z,QItem:ve.Z,QItemSection:we.Z,QDialog:ye.Z,QCard:Ce.Z,QCardSection:De.Z,QCardActions:Uo.Z,QSelect:Ve.Z}),D()($n,"directives",{ClosePopup:Me.Z});const Hn={class:"row"},Kn={class:"col-12"},Jn={class:"row"},Xn={class:"col-4 q-pa-xs"},ed={class:"col-4 q-pa-xs"},td={class:"col-4 q-pa-xs flex flex-center"},ld={class:"col-12"},od=(0,s._)("div",{class:"text-h6"},"Boletos",-1),ad=["src"],id={id:"myelement",class:"hidden"},sd=(0,s._)("div",{class:"text-h6"},"ANULAR FACTURA",-1);function nd(e,t,l,a,i,n){const d=(0,s.up)("q-input"),r=(0,s.up)("q-btn"),c=(0,s.up)("q-form"),u=(0,s.up)("q-badge"),m=(0,s.up)("q-td"),p=(0,s.up)("q-item-section"),h=(0,s.up)("q-item"),g=(0,s.up)("q-list"),b=(0,s.up)("q-btn-dropdown"),f=(0,s.up)("q-table"),v=(0,s.up)("q-card-section"),w=(0,s.up)("q-card-actions"),_=(0,s.up)("q-card"),y=(0,s.up)("q-dialog"),C=(0,s.up)("q-select"),D=(0,s.up)("q-page"),x=(0,s.Q2)("close-popup");return(0,s.wg)(),(0,s.j4)(D,null,{default:(0,s.w5)((()=>[(0,s._)("div",Hn,[(0,s._)("div",Kn,[(0,s.Wm)(c,{onSubmit:(0,o.iM)(n.listaVentaCandyGet,["prevent"])},{default:(0,s.w5)((()=>[(0,s._)("div",Jn,[(0,s._)("div",Xn,[(0,s.Wm)(d,{outlined:"",label:"FechaIni",type:"date",modelValue:i.fechaIni,"onUpdate:modelValue":t[0]||(t[0]=e=>i.fechaIni=e)},null,8,["modelValue"])]),(0,s._)("div",ed,[(0,s.Wm)(d,{outlined:"",label:"FechaFin",type:"date",modelValue:i.fechaFin,"onUpdate:modelValue":t[1]||(t[1]=e=>i.fechaFin=e)},null,8,["modelValue"])]),(0,s._)("div",td,[(0,s.Wm)(r,{label:"Buscar",icon:"search",color:"primary",type:"submit",class:"",loading:i.loading},null,8,["loading"])])])])),_:1},8,["onSubmit"])]),(0,s._)("div",ld,[(0,s.Wm)(f,{rows:i.listaVentaCandy,columns:i.listaColums},{"body-cell-siatAnulado":(0,s.w5)((e=>[(0,s.Wm)(m,{props:e,"auto-width":""},{default:(0,s.w5)((()=>[(0,s.Wm)(u,{color:e.row.siatAnulado?"red":"green",label:e.row.siatAnulado?"A":"V"},null,8,["color","label"])])),_:2},1032,["props"])])),"body-cell-Opciones":(0,s.w5)((e=>[(0,s.Wm)(m,{props:e,"auto-width":""},{default:(0,s.w5)((()=>[(0,s.Wm)(b,{color:"primary",label:"Opciones"},{default:(0,s.w5)((()=>[(0,s.Wm)(g,null,{default:(0,s.w5)((()=>[0==e.row.siatAnulado?(0,s.wy)(((0,s.wg)(),(0,s.j4)(h,{key:0,clickable:""},{default:(0,s.w5)((()=>[(0,s.Wm)(p,null,{default:(0,s.w5)((()=>[0==e.row.siatAnulado?((0,s.wg)(),(0,s.j4)(r,{key:0,icon:"print",color:"primary",class:"full-width",label:"Imprimir","no-caps":"",onClick:t=>n.printFactura(e.row)},null,8,["onClick"])):(0,s.kq)("",!0)])),_:2},1024)])),_:2},1024)),[[x]]):(0,s.kq)("",!0),0==e.row.siatAnulado?(0,s.wy)(((0,s.wg)(),(0,s.j4)(h,{key:1,clickable:""},{default:(0,s.w5)((()=>[(0,s.Wm)(p,null,{default:(0,s.w5)((()=>[0==e.row.siatAnulado?((0,s.wg)(),(0,s.j4)(r,{key:0,icon:"list",color:"green",class:"full-width",label:"Comanda","no-caps":"",onClick:t=>n.printComanda(e.row)},null,8,["onClick"])):(0,s.kq)("",!0)])),_:2},1024)])),_:2},1024)),[[x]]):(0,s.kq)("",!0),0==e.row.siatAnulado?(0,s.wy)(((0,s.wg)(),(0,s.j4)(h,{key:2,clickable:""},{default:(0,s.w5)((()=>[(0,s.Wm)(p,null,{default:(0,s.w5)((()=>[0==e.row.siatAnulado?((0,s.wg)(),(0,s.j4)(r,{key:0,icon:"cancel_presentation",color:"red",class:"full-width",label:"Anular","no-caps":"",onClick:t=>n.anularSale(e.row)},null,8,["onClick"])):(0,s.kq)("",!0)])),_:2},1024)])),_:2},1024)),[[x]]):(0,s.kq)("",!0),(0,s.wy)(((0,s.wg)(),(0,s.j4)(h,{clickable:""},{default:(0,s.w5)((()=>[(0,s.Wm)(p,null,{default:(0,s.w5)((()=>[(0,s.Wm)(r,{type:"a",label:"Imp Impuestos ",class:"full-width",color:"info",target:"_blank",href:`${i.cine.url2}consulta/QR?nit=${i.cine.nit}&cuf=${e.row.cuf}&numero=${e.row.numeroFactura}&t=2`},null,8,["href"])])),_:2},1024)])),_:2},1024)),[[x]]),0==e.row.siatAnulado?(0,s.wy)(((0,s.wg)(),(0,s.j4)(h,{key:3,clickable:""},{default:(0,s.w5)((()=>[(0,s.Wm)(p,null,{default:(0,s.w5)((()=>[(0,s.Wm)(r,{label:"Enviar Correo ",class:"full-width",color:"teal",onClick:t=>n.correo(e.row)},null,8,["onClick"])])),_:2},1024)])),_:2},1024)),[[x]]):(0,s.kq)("",!0)])),_:2},1024)])),_:2},1024)])),_:2},1032,["props"])])),"body-cell-siatEnviado":(0,s.w5)((e=>[(0,s.Wm)(m,{props:e,"auto-width":""},{default:(0,s.w5)((()=>[(0,s.Wm)(u,{color:e.row.siatEnviado?"green":"red",label:e.row.siatEnviado?"V":"E"},null,8,["color","label"])])),_:2},1032,["props"])])),_:1},8,["rows","columns"])])]),(0,s.Wm)(y,{modelValue:i.ticketsDialog,"onUpdate:modelValue":t[2]||(t[2]=e=>i.ticketsDialog=e),"full-width":""},{default:(0,s.w5)((()=>[(0,s.Wm)(_,null,{default:(0,s.w5)((()=>[(0,s.Wm)(v,null,{default:(0,s.w5)((()=>[od])),_:1}),(0,s.Wm)(v,{class:"q-pt-none"},{default:(0,s.w5)((()=>[(0,s.Wm)(f,{label:"Boletos",columns:i.boletoColums,rows:i.tickets},{"body-cell-opcion":(0,s.w5)((e=>[(0,s.Wm)(m,{props:e},{default:(0,s.w5)((()=>[0==e.row.devuelto?((0,s.wg)(),(0,s.j4)(r,{key:0,color:"info",icon:"print",onClick:t=>n.boletoprint(e.row)},null,8,["onClick"])):(0,s.kq)("",!0)])),_:2},1032,["props"])])),_:1},8,["columns","rows"])])),_:1}),(0,s.Wm)(w,{align:"right",class:"text-primary"},{default:(0,s.w5)((()=>[(0,s.wy)((0,s.Wm)(r,{flat:"",label:"Cancel"},null,512),[[x]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,s._)("div",null,[(0,s._)("img",{src:i.qrImage,style:{visibility:"hidden"}},null,8,ad)]),(0,s._)("div",id,(0,Lt.zw)(i.lorem),1),(0,s.Wm)(y,{modelValue:i.dialogAnular,"onUpdate:modelValue":t[4]||(t[4]=e=>i.dialogAnular=e)},{default:(0,s.w5)((()=>[(0,s.Wm)(_,{style:{"min-width":"350px"}},{default:(0,s.w5)((()=>[(0,s.Wm)(v,null,{default:(0,s.w5)((()=>[sd])),_:1}),(0,s.Wm)(v,{class:"q-pt-none"},{default:(0,s.w5)((()=>[(0,s.Wm)(C,{label:"motivo",options:i.motivos,modelValue:i.motivo,"onUpdate:modelValue":t[3]||(t[3]=e=>i.motivo=e)},null,8,["options","modelValue"])])),_:1}),(0,s.Wm)(w,{align:"right",class:"text-primary"},{default:(0,s.w5)((()=>[(0,s.wy)((0,s.Wm)(r,{flat:"",label:"Cancel"},null,512),[[x]]),(0,s.Wm)(r,{flat:"",label:"ANULAR",onClick:n.enviarAnular},null,8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}const dd=l(8746),rd=l(2316),cd={name:"LisaVenta",data(){return{lorem:"lorem impus",ticketsDialog:!1,loading:!1,fechaIni:de.ZP.formatDate(new Date,"YYYY-MM-DD"),fechaFin:de.ZP.formatDate(new Date,"YYYY-MM-DD"),listaVentaCandy:[],facturadetalle:{},factura:{},cine:{},dialogAnular:!1,listaColums:[{name:"Opciones",label:"Opciones",field:"Opciones"},{name:"numeroFactura",label:"numeroFactura",field:"numeroFactura",sortable:!0},{name:"siatEnviado",label:"siatEnviado",field:"siatEnviado",sortable:!0},{name:"fechaEmision",label:"fechaEmision",field:"fechaEmision",sortable:!0},{name:"client_id",label:"client_id",field:e=>e.client.nombreRazonSocial,sortable:!0},{name:"user_id",label:"user_id",field:e=>e.user.name,sortable:!0},{name:"montoTotal",label:"montoTotal",field:"montoTotal",sortable:!0},{name:"siatAnulado",label:"siatAnulado",field:"siatAnulado",sortable:!0},{name:"id",label:"id",field:"id",sortable:!0}],boletoColums:[{name:"opcion",label:"Opcion",field:"opcion"},{name:"titulo",label:"titulo",field:"titulo",sortable:!0},{name:"nombreSala",label:"nombreSala",field:"nombreSala",sortable:!0},{name:"horaFuncion",label:"horaFuncion",field:"horaFuncion",sortable:!0},{name:"letra",label:"letra",field:"letra",sortable:!0},{name:"columna",label:"columna",field:"columna",sortable:!0},{name:"costo",label:"costo",field:"costo",sortable:!0}],tickets:[],leyendas:[],qrImage:"",motivos:[],motivo:{},opts:{errorCorrectionLevel:"M",type:"png",quality:.95,width:100,margin:1,color:{dark:"#000000",light:"#FFF"}}}},mounted(){this.listaVentaCandyGet(),this.encabezado(),this.cargarLeyenda(),this.cargarMotivo()},methods:{correo(e){console.log(e),this.$api.post("enviarCorreo",{client:e.client,sale:e}).then((e=>{e.data&&this.$q.notify({color:"green",textColor:"white",message:"enviado al correo"})}))},async printComanda(e){this.facturadetalle=e;let t=dd.conversorNumerosALetras,l=new t,o=l.convertToText(parseInt(e.montoTotal)),a="<style>      .titulo{      font-size: 12px;      text-align: center;      font-weight: bold;      }      .titulo2{      font-size: 10px;      text-align: center;      }            .titulo3{      font-size: 10px;      text-align: center;      width:70%;      }            .contenido{      font-size: 10px;      text-align: left;      }      .conte2{      font-size: 10px;      text-align: right;      }      .campotd{      text-align: center;      }      .titder{      font-size: 12px;      text-align: right;      font-weight: bold;      }      hr{  border-top: 1px dashed   ;}  table{    width:100%  }  h1 {    color: black;    font-family: sans-serif;  }</style>    <div id='myelement'>      <div class='titulo2'>"+this.cine.razon+"<br>        Casa Matriz<br>        No. Punto de Venta "+e.codigoPuntoVenta+"<br>        Oruro      </div>      <hr>      <table>        <tr><td class='titder'>FECHA DE EMISIÓN:</td><td class='contenido'>"+e.fechaEmision+"</td></tr>      </table>      <hr>      <div class='titulo'>DETALLE</div>      <table style='font-size: 10px;'><thead>      <tr><th>CANT</th><th>PROD</th><th>P.U.</th><th>SubT</th></tr>      </thead><tbody>";e.details.forEach((e=>{a+="<tr><td class='campotd'>"+e.cantidad+"</td><td class='campotd'>  "+e.descripcion+"</td><td class='campotd'>"+parseFloat(e.precioUnitario).toFixed(2)+" </td><td class='campotd'>"+parseFloat(e.subTotal).toFixed(2)+"</td></tr>"})),a+="</tbody></table><hr>      <table style='font-size: 8px;'>      <tr><td class='titder'>TOTAL Bs</td><td class='conte2'>"+parseFloat(e.montoTotal).toFixed(2)+"</td></tr>      </table><br>      <div>Son "+o+" "+100*(parseFloat(e.montoTotal).toFixed(2)-Math.floor(parseFloat(e.montoTotal).toFixed(2)))+"/100 Bolivianos</div>      <div>Usuario: "+e.usuario+"</div>      <div>Venta: "+e.id+"</div>      ",document.getElementById("myelement").innerHTML=a;const i=new fi.gR;i.print(document.getElementById("myelement"))},enviarAnular(){this.$q.loading.show(),this.$api.post("anularSale",{sale:this.factura,motivo:this.motivo}).then((e=>{this.$q.loading.hide(),this.listaVentaCandyGet(),this.dialogAnular=!1}))},cargarMotivo(){this.$api.get("motivoanular").then((e=>{e.data.forEach((e=>{e.label=e.descripcion})),this.motivos=e.data,this.motivo=this.motivos[0]}))},cargarLeyenda(){this.$api.post("listleyenda",{codigo:"590000"}).then((e=>{this.leyendas=e.data}))},encabezado(){this.$api.get("datocine").then((e=>{this.cine=e.data}))},boletoprint(e){console.log(e);let t="";t+="<style>        .titulo{        font-size: 14px;        text-align: center;        font-weight: bold;      }              .tifecha{        font-size: 14px;      }              .titnit{        font-size: 10px;        text-align: center;      }            hr{      border-top: 1px dashed   ;    }         .titpelicula{        font-size: 18px;        text-align: center;        font-weight: bold;      }        </style>",t+="<div style='padding-right: 0.5cm;padding-left: 0.5cm'>",t+="<div class='titulo'>"+this.cine.razon+"</div>",t+="<div class='titnit'>NIT:"+this.cine.nit+"</div>",t+="<hr>",t+="<div class='titpelicula'>"+e.titulo+"<br> "+e.nombreSala+"</div><br>",t+="<div class='tifecha'>Fecha:  <span style='font-size: 20px;'>"+e.fechaFuncion+"</span>  <span style='float:right'>Bs. "+e.costo+"</span></div>",t+="<div class='tifecha'>Butaca: <span style='font-size:22px;'>"+e.letra+" - "+e.columna+"</span><div style='float:right'> Hora: <span style='font-size:20px;'>"+e.horaFuncion.substring(11)+"</span></div></div>",t+="<hr>",t+="<div style='font-size: 12px' >Cod: "+e.numboc+"<br>",t+="Trans: "+e.id+"</div>",t+="</div >",document.getElementById("myelement").innerHTML=t;const l=new fi.gR;l.print(document.getElementById("myelement"))},anularSale(e){this.factura=e,this.dialogAnular=!0},detalleimp(e){console.log(e.tickets),this.tickets=e.tickets,this.ticketsDialog=!0},async printFactura(e){console.log(e);this.leyendas.length;this.facturadetalle=e;let t=dd.conversorNumerosALetras,l=new t,o=l.convertToText(parseInt(e.montoTotal));this.qrImage=await rd.toDataURL(this.cine.url2+"consulta/QR?nit="+this.cine.nit+"&cuf="+e.cuf+"&numero="+e.numeroFactura+"&t=2",this.opts);let a="<style>      .titulo{      font-size: 12px;      text-align: center;      font-weight: bold;      }      .titulo2{      font-size: 10px;      text-align: center;      }            .titulo3{      font-size: 10px;      text-align: center;      width:70%;      }            .contenido{      font-size: 10px;      text-align: left;      }      .conte2{      font-size: 10px;      text-align: right;      }      .titder{      font-size: 12px;      text-align: right;      font-weight: bold;      }      hr{  border-top: 1px dashed   ;}  table{    width:100%  }  h1 {    color: black;    font-family: sans-serif;  }</style>    <div id='myelement' style='padding-left: 0.5cm;padding-right: 0.5cm'>      <div class='titulo'>FACTURA <br>CON DERECHO A CREDITO FISCAL</div>      <div class='titulo2'>"+this.cine.razon+"<br>        Casa Matriz<br>        No. Punto de Venta "+e.codigoPuntoVenta+"<br>        "+this.cine.direccion.substring(0,38)+"<br>"+this.cine.direccion.substring(38)+"<br>        Tel. "+this.cine.telefono+"<br>        Oruro      </div>      <hr>      <div class='titulo'>NIT</div>      <div class='titulo2'>"+this.cine.nit+"</div>      <div class='titulo'>FACTURA N°</div>      <div class='titulo2'>"+e.numeroFactura+"</div>      <div class='titulo'>CÓD. AUTORIZACIÓN</div>      <div class='titulo2 ' >"+e.cuf.substring(0,41)+"<br>"+e.cuf.substring(41)+"</div>      <hr>      <table>        <tr><td class='titder'>NOMBRE/RAZÓN SOCIAL:</td><td class='contenido'>"+e.client.nombreRazonSocial+"</td></tr>        <tr><td class='titder'>NIT/CI/CEX:</td><td class='contenido'>"+e.client.numeroDocumento+"</td></tr>        <tr><td class='titder'>COD. CLIENTE:</td ><td class='contenido'>"+e.client.id+"</td></tr>        <tr><td class='titder'>FECHA DE EMISIÓN:</td><td class='contenido'>"+e.fechaEmision+"</td></tr>      </table>      <hr>      <div class='titulo'>DETALLE</div>";e.details.forEach((e=>{a+="<div style='font-size: 12px'><b>"+e.product_id+" - "+e.descripcion+"</b></div>",a+="<div>"+e.cantidad+"  "+parseFloat(e.precioUnitario).toFixed(2)+" 0.00<span style='float:right'>"+parseFloat(e.subTotal).toFixed(2)+"</span></div>"})),a+="<hr>      <table style='font-size: 8px;'>      <tr><td class='titder' style='width: 60%'>SUBTOTAL Bs</td><td class='conte2'>"+parseFloat(e.montoTotal).toFixed(2)+"</td></tr>      <tr><td class='titder'>DESCUENTO Bs</td><td class='conte2'>0.00</td></tr>      <tr><td class='titder'>TOTAL Bs</td><td class='conte2'>"+parseFloat(e.montoTotal).toFixed(2)+"</td></tr>      <tr><td class='titder'>MONTO GIFT CARD Bs</td ><td class='conte2'>0.00</td></tr>      <tr><td class='titder'>MONTO A PAGAR Bs</td><td class='conte2'>"+parseFloat(e.montoTotal).toFixed(2)+"</td></tr>      <tr><td class='titder' style='font-size: 8px'>IMPORTE BASE CRÉDITO FISCAL Bs</td><td class='conte2'>"+parseFloat(e.montoTotal).toFixed(2)+"</td></tr>      </table><br>      <div>Son "+o+" "+100*(parseFloat(e.montoTotal).toFixed(2)-Math.floor(parseFloat(e.montoTotal).toFixed(2)))+"/100 Bolivianos</div>      <hr>      <div class='titulo2' style='font-size: 9px'>ESTA FACTURA CONTRIBUYE AL DESARROLLO DEL PAÍS,<br>EL USO ILÍCITO SERÁ SANCIONADO PENALMENTE DE<br>ACUERDO A LEY<br><br>"+e.leyenda+" <br><br>“Este documento es la Representación Gráfica de un<br>Documento Fiscal Digital emitido en una modalidad de<br>facturación en línea”</div><br><div style='display: flex;justify-content: center;'>  <img src="+this.qrImage+" >      </div>              </div>",document.getElementById("myelement").innerHTML=a;const i=new fi.gR;i.print(document.getElementById("myelement"))},listaVentaCandyGet(){this.loading=!0,this.$api.post("listaVentaCandy",{fechaIni:this.fechaIni,fechaFin:this.fechaFin}).then((e=>{this.loading=!1,this.listaVentaCandy=e.data}))}}},ud=(0,r.Z)(cd,[["render",nd]]),md=ud;D()(cd,"components",{QPage:y.Z,QForm:Ie.Z,QInput:me.Z,QBtn:ue.Z,QTable:ce.Z,QTd:he.Z,QBadge:cl.Z,QBtnDropdown:be.Z,QList:fe.Z,QItem:ve.Z,QItemSection:we.Z,QDialog:ye.Z,QCard:Ce.Z,QCardSection:De.Z,QCardActions:Uo.Z,QSelect:Ve.Z}),D()(cd,"directives",{ClosePopup:Me.Z});const pd={class:"row"},hd={class:"col-12"},gd=(0,s._)("div",{class:"text-h6"}," Datos que se enviaran a impuestos ",-1),bd={class:"row"},fd={class:"col-12"},vd={class:"col-12"},wd=(0,s._)("div",{class:"text-h6"}," RECEPCION DE PAQUETE ",-1);function _d(e,t,l,o,a,i){const n=(0,s.up)("q-btn"),d=(0,s.up)("q-td"),r=(0,s.up)("q-table"),c=(0,s.up)("q-space"),u=(0,s.up)("q-card-section"),m=(0,s.up)("q-card"),p=(0,s.up)("q-dialog"),h=(0,s.up)("q-page");return(0,s.wg)(),(0,s.j4)(h,null,{default:(0,s.w5)((()=>[(0,s._)("div",pd,[(0,s._)("div",hd,[(0,s.Wm)(r,{dense:"",title:"Control de eventos",rows:a.eventoSignificativos,columns:a.eventoSignificativoColumns},{"body-cell-Opciones":(0,s.w5)((e=>[(0,s.Wm)(d,{props:e,"auto-width":""},{default:(0,s.w5)((()=>[(0,s.Wm)(n,{onClick:t=>i.recepcionPaqueteFacturaClick(e.row),label:"Enviar a impuestos",color:"primary",icon:"send",size:"10px"},null,8,["onClick"]),null!=e.row.codigoRecepcion?((0,s.wg)(),(0,s.j4)(n,{key:0,class:"q-ml-lg",onClick:t=>i.validarPaquete(e.row),label:"Validar",color:"yellow-9",icon:"send",size:"10px"},null,8,["onClick"])):(0,s.kq)("",!0)])),_:2},1032,["props"])])),_:1},8,["rows","columns"])])]),(0,s.Wm)(p,{modelValue:a.eventoSignificativoDialog,"onUpdate:modelValue":t[1]||(t[1]=e=>a.eventoSignificativoDialog=e),"full-width":""},{default:(0,s.w5)((()=>[(0,s.Wm)(m,null,{default:(0,s.w5)((()=>[(0,s.Wm)(u,{class:"row items-center"},{default:(0,s.w5)((()=>[gd,(0,s.Wm)(c),(0,s.Wm)(n,{onClick:t[0]||(t[0]=e=>a.eventoSignificativoDialog=!1),label:"Cerrar",color:"primary",icon:"close"})])),_:1}),(0,s.Wm)(u,null,{default:(0,s.w5)((()=>[(0,s._)("div",bd,[(0,s._)("div",fd,[(0,s.Wm)(r,{rows:a.eventoSignificativosDatos,columns:a.eventoDetalle},null,8,["rows","columns"])])]),(0,s._)("div",vd,[(0,s.Wm)(n,{onClick:i.recepcionPaqueteFactura,disable:0==a.eventoSignificativosDatos.length,label:"Enviar",color:"primary",icon:"send",class:"full-width",loading:a.loading},null,8,["onClick","disable","loading"])])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,s.Wm)(p,{modelValue:a.recepcionPaqueteFacturaDialog,"onUpdate:modelValue":t[3]||(t[3]=e=>a.recepcionPaqueteFacturaDialog=e)},{default:(0,s.w5)((()=>[(0,s.Wm)(m,null,{default:(0,s.w5)((()=>[(0,s.Wm)(u,{class:"row text-center"},{default:(0,s.w5)((()=>[wd,(0,s.Wm)(c),(0,s.Wm)(n,{onClick:t[2]||(t[2]=e=>a.recepcionPaqueteFacturaDialog=!1),label:"Cerrar",color:"primary",icon:"close"})])),_:1}),(0,s.Wm)(u,null,{default:(0,s.w5)((()=>[(0,s._)("pre",null,(0,Lt.zw)(a.validarPaqueteRespuesta),1)])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}const yd={name:"EventoSignificativo",data(){return{store:(0,ne.c)(),loading:!1,eventoSignificativoDialog:!1,eventoSignificativos:[],eventoSignificativo:{},eventoSignificativosDatos:[],eventoSignificativoColumns:[{label:"Opciones",name:"Opciones",field:"Opciones"},{label:"codigoPuntoVenta",name:"codigoPuntoVenta",field:"codigoPuntoVenta"},{label:"codigoRecepcionEventoSignificativo",name:"codigoRecepcionEventoSignificativo",field:"codigoRecepcionEventoSignificativo"},{label:"codigoRecepcion",name:"codigoRecepcion",field:"codigoRecepcion"},{label:"codigoSucursal",name:"codigoSucursal",field:"codigoSucursal"},{label:"fechaHoraInicioEvento",name:"fechaHoraInicioEvento",field:"fechaHoraInicioEvento"},{label:"fechaHoraFinEvento",name:"fechaHoraFinEvento",field:"fechaHoraFinEvento"},{label:"codigoMotivoEvento",name:"codigoMotivoEvento",field:"codigoMotivoEvento"},{label:"descripcion",name:"descripcion",field:"descripcion"}],validarPaqueteRespuesta:"",recepcionPaqueteFacturaDialog:!1,eventoDetalle:[{label:"numeroFactura",name:"numeroFactura",field:"numeroFactura"},{label:"codigoSucursal",name:"codigoSucursal",field:"codigoSucursal"},{label:"codigoPuntoVenta",name:"codigoPuntoVenta",field:"codigoPuntoVenta"},{label:"fechaEmision",name:"fechaEmision",field:"fechaEmision"},{label:"montoTotal",name:"montoTotal",field:"montoTotal"},{label:"usuario",name:"usuario",field:"usuario"}]}},created(){this.eventoSignificativoGet()},methods:{validarPaquete(e){console.log(e),this.recepcionPaqueteFacturaDialog=!0,this.$api.post("validarPaquete",{codigoRecepcion:e.codigoRecepcion}).then((e=>{this.validarPaqueteRespuesta=e.data}))},eventSearch(){this.$api.post("eventSearch").then((e=>{this.store.eventNumber=e.data}))},recepcionPaqueteFactura(){this.eventoSignificativo.datos=this.eventoSignificativosDatos,this.loading=!0,this.$api.post("recepcionPaqueteFactura",this.eventoSignificativo).then((e=>{console.log(e.data),this.eventSearch(),this.eventoSignificativoDialog=!1,this.loading=!1})).catch((e=>{this.$q.notify({color:"red-6",textColor:"white",icon:"error",message:e.response.data.message}),this.loading=!1}))},recepcionPaqueteFacturaClick(e){this.eventoSignificativo=e,this.$api.post("cantidadFacturas",{fechaInicio:e.fechaHoraInicioEvento,fechaFin:e.fechaHoraFinEvento}).then((e=>{this.eventoSignificativosDatos=e.data,this.eventoSignificativoDialog=!0}))},eventoSignificativoGet(){this.loading=!0,this.$api.get("eventoSignificativo").then((e=>{this.loading=!1,this.eventoSignificativos=e.data})).catch((e=>{this.loading=!1,this.error=e}))}}},Cd=(0,r.Z)(yd,[["render",_d]]),Dd=Cd;D()(yd,"components",{QPage:y.Z,QTable:ce.Z,QTd:he.Z,QBtn:ue.Z,QDialog:ye.Z,QCard:Ce.Z,QCardSection:De.Z,QSpace:xe.Z});const xd={class:"row"},Id={class:"col-12"},Vd={class:"row"},Wd={class:"col-3"},Td={class:"col-3"},Md={class:"col-3 flex flex-center"},Ad={class:"col-3 flex flex-center"},Ed={class:"col-12"},Sd=(0,s._)("div",{class:"text-h6"},"Realizar venta",-1),qd={class:"row"},jd={class:"col-2"},Ld={class:"col-2"},Nd={class:"col-3"},kd={class:"col-3"},Od={class:"col-2"},Ud={class:"row"},Fd={class:"col-3"},Zd={class:"col-3"},zd={class:"col-3"},Qd={class:"col-3"},Rd={class:"row"},Pd={class:"col-6"},Yd={class:"col-6"},$d=(0,s._)("div",{class:"text-h6"},"ANULAR FACTURA",-1),Bd=(0,s._)("div",{id:"myelement",class:"hidden"},null,-1);function Gd(e,t,l,a,i,n){const d=(0,s.up)("q-input"),r=(0,s.up)("q-btn"),c=(0,s.up)("q-item-section"),u=(0,s.up)("q-item"),m=(0,s.up)("q-list"),p=(0,s.up)("q-btn-dropdown"),h=(0,s.up)("q-td"),g=(0,s.up)("q-table"),b=(0,s.up)("q-space"),f=(0,s.up)("q-card-section"),v=(0,s.up)("q-select"),w=(0,s.up)("q-separator"),_=(0,s.up)("q-form"),y=(0,s.up)("q-card"),C=(0,s.up)("q-dialog"),D=(0,s.up)("q-card-actions"),x=(0,s.up)("q-page"),I=(0,s.Q2)("close-popup");return(0,s.wg)(),(0,s.j4)(x,null,{default:(0,s.w5)((()=>[(0,s._)("div",xd,[(0,s._)("div",Id,[(0,s._)("div",Vd,[(0,s._)("div",Wd,[(0,s.Wm)(d,{dense:"",type:"date",outlined:"",label:"fechaInicio",modelValue:i.fechaInicio,"onUpdate:modelValue":t[0]||(t[0]=e=>i.fechaInicio=e)},null,8,["modelValue"])]),(0,s._)("div",Td,[(0,s.Wm)(d,{dense:"",type:"date",outlined:"",label:"fechaFin",modelValue:i.fechaFin,"onUpdate:modelValue":t[1]||(t[1]=e=>i.fechaFin=e)},null,8,["modelValue"])]),(0,s._)("div",Md,[(0,s.Wm)(r,{color:"primary",loading:i.loading,label:"Consultar",class:"full-width",icon:"search",onClick:n.rentalConsulta},null,8,["loading","onClick"])]),(0,s._)("div",Ad,[(0,s.Wm)(r,{color:"green",label:"AGREGAR ",class:"full-width",icon:"add_circle_outline",onClick:n.rentalClickCreate},null,8,["onClick"])])])]),(0,s._)("div",Ed,[(0,s.Wm)(g,{label:"FACTURA DE ALQUILER DE AMBIENTES",rows:i.rentals,columns:i.columns},{"body-cell-Opciones":(0,s.w5)((e=>[(0,s.Wm)(h,{props:e,"auto-width":""},{default:(0,s.w5)((()=>[(0,s.Wm)(p,{color:"primary",label:"Opciones"},{default:(0,s.w5)((()=>[(0,s.Wm)(m,null,{default:(0,s.w5)((()=>[0==e.row.siatAnulado?(0,s.wy)(((0,s.wg)(),(0,s.j4)(u,{key:0,clickable:""},{default:(0,s.w5)((()=>[(0,s.Wm)(c,null,{default:(0,s.w5)((()=>[0==e.row.siatAnulado?((0,s.wg)(),(0,s.j4)(r,{key:0,icon:"print",color:"primary",class:"full-width",label:"Imprimir","no-caps":"",onClick:t=>n.printFactura(e.row)},null,8,["onClick"])):(0,s.kq)("",!0)])),_:2},1024)])),_:2},1024)),[[I]]):(0,s.kq)("",!0),0==e.row.siatAnulado?(0,s.wy)(((0,s.wg)(),(0,s.j4)(u,{key:1,clickable:""},{default:(0,s.w5)((()=>[(0,s.Wm)(c,null,{default:(0,s.w5)((()=>[0==e.row.siatAnulado?((0,s.wg)(),(0,s.j4)(r,{key:0,icon:"cancel_presentation",color:"red",class:"full-width",label:"Anular","no-caps":"",onClick:t=>n.anularSale(e.row)},null,8,["onClick"])):(0,s.kq)("",!0)])),_:2},1024)])),_:2},1024)),[[I]]):(0,s.kq)("",!0),(0,s.wy)(((0,s.wg)(),(0,s.j4)(u,{clickable:""},{default:(0,s.w5)((()=>[(0,s.Wm)(c,null,{default:(0,s.w5)((()=>[(0,s.Wm)(r,{type:"a",label:"Imp Impuestos ",class:"full-width",color:"info",target:"_blank",href:`${i.cine.url2}consulta/QR?nit=${i.cine.nit}&cuf=${e.row.cuf}&numero=${e.row.numeroFactura}&t=2`},null,8,["href"])])),_:2},1024)])),_:2},1024)),[[I]])])),_:2},1024)])),_:2},1024)])),_:2},1032,["props"])])),_:1},8,["rows","columns"])]),(0,s.Wm)(C,{"full-width":"",modelValue:i.saleDialog,"onUpdate:modelValue":t[12]||(t[12]=e=>i.saleDialog=e)},{default:(0,s.w5)((()=>[(0,s.Wm)(y,null,{default:(0,s.w5)((()=>[(0,s.Wm)(f,{class:"row items-center q-pb-none"},{default:(0,s.w5)((()=>[Sd,(0,s.Wm)(b),(0,s.wy)((0,s.Wm)(r,{icon:"close",flat:"",round:"",dense:""},null,512),[[I]])])),_:1}),(0,s.Wm)(_,{onSubmit:(0,o.iM)(n.rentalInsert,["prevent"])},{default:(0,s.w5)((()=>[(0,s.Wm)(f,null,{default:(0,s.w5)((()=>[(0,s._)("div",qd,[(0,s._)("div",jd,[(0,s.Wm)(d,{outlined:"",label:"NIT/CARNET",onKeyup:n.searchClient,required:"",modelValue:i.client.numeroDocumento,"onUpdate:modelValue":t[2]||(t[2]=e=>i.client.numeroDocumento=e)},null,8,["onKeyup","modelValue"])]),(0,s._)("div",Ld,[(0,s.Wm)(d,{outlined:"",label:"Complemento",onKeyup:n.searchClient,modelValue:i.client.complemento,"onUpdate:modelValue":t[3]||(t[3]=e=>i.client.complemento=e)},null,8,["onKeyup","modelValue"])]),(0,s._)("div",Nd,[(0,s.Wm)(d,{outlined:"",label:"nombreRazonSocial",required:"",modelValue:i.client.nombreRazonSocial,"onUpdate:modelValue":t[4]||(t[4]=e=>i.client.nombreRazonSocial=e)},null,8,["modelValue"])]),(0,s._)("div",kd,[(0,s.Wm)(v,{modelValue:i.document,"onUpdate:modelValue":t[5]||(t[5]=e=>i.document=e),outlined:"",options:i.documents},null,8,["modelValue","options"])]),(0,s._)("div",Od,[(0,s.Wm)(d,{outlined:"",label:"Email",modelValue:i.client.email,"onUpdate:modelValue":t[6]||(t[6]=e=>i.client.email=e),type:"email"},null,8,["modelValue"])])])])),_:1}),(0,s.Wm)(w),(0,s.Wm)(f,null,{default:(0,s.w5)((()=>[(0,s._)("div",Ud,[(0,s._)("div",Fd,[(0,s.Wm)(d,{outlined:"",label:"TOTAL A PAGAR:",modelValue:i.rental.montoTotal,"onUpdate:modelValue":t[7]||(t[7]=e=>i.rental.montoTotal=e),step:"0.01",type:"number",required:""},null,8,["modelValue"])]),(0,s._)("div",Zd,[(0,s.Wm)(v,{outlined:"",label:"Mes:",modelValue:i.rental.mes,"onUpdate:modelValue":t[8]||(t[8]=e=>i.rental.mes=e),options:i.meses},null,8,["modelValue","options"])]),(0,s._)("div",zd,[(0,s.Wm)(v,{outlined:"",label:"Periodo:",modelValue:i.rental.gestion,"onUpdate:modelValue":t[9]||(t[9]=e=>i.rental.gestion=e),options:i.gestiones},null,8,["modelValue","options"])]),(0,s._)("div",Qd,[(0,s.Wm)(d,{outlined:"",label:"Descripcion:",modelValue:i.rental.descripcion,"onUpdate:modelValue":t[10]||(t[10]=e=>i.rental.descripcion=e),required:""},null,8,["modelValue"])])])])),_:1}),(0,s.Wm)(w),(0,s.Wm)(f,null,{default:(0,s.w5)((()=>[(0,s._)("div",Rd,[(0,s._)("div",Pd,[(0,s.Wm)(r,{type:"submit",class:"full-width",icon:"o_add_circle",label:"Realizar venta",loading:i.loading,"no-caps":"",color:"green"},null,8,["loading"])]),(0,s._)("div",Yd,[(0,s.Wm)(r,{class:"full-width",icon:"undo",onClick:t[11]||(t[11]=e=>i.saleDialog=!1),label:"Atras","no-caps":"",color:"red"})])])])),_:1})])),_:1},8,["onSubmit"])])),_:1})])),_:1},8,["modelValue"]),(0,s.Wm)(C,{modelValue:i.dialogAnular,"onUpdate:modelValue":t[14]||(t[14]=e=>i.dialogAnular=e)},{default:(0,s.w5)((()=>[(0,s.Wm)(y,{style:{"min-width":"350px"}},{default:(0,s.w5)((()=>[(0,s.Wm)(f,null,{default:(0,s.w5)((()=>[$d])),_:1}),(0,s.Wm)(f,{class:"q-pt-none"},{default:(0,s.w5)((()=>[(0,s.Wm)(v,{label:"motivo",options:i.motivos,modelValue:i.motivo,"onUpdate:modelValue":t[13]||(t[13]=e=>i.motivo=e)},null,8,["options","modelValue"])])),_:1}),(0,s.Wm)(D,{align:"right",class:"text-primary"},{default:(0,s.w5)((()=>[(0,s.wy)((0,s.Wm)(r,{flat:"",label:"Cancel"},null,512),[[I]]),(0,s.Wm)(r,{flat:"",label:"ANULAR",onClick:n.enviarAnular,loading:i.loading},null,8,["onClick","loading"])])),_:1})])),_:1})])),_:1},8,["modelValue"])]),Bd])),_:1})}const Hd={name:"Rental",data(){return{dialogAnular:!1,loading:!1,fechaInicio:de.ZP.formatDate(new Date,"YYYY-MM-DD"),fechaFin:de.ZP.formatDate(new Date,"YYYY-MM-DD"),rentals:[],meses:["ENERO","FEBRERO","MARZO","ABRIL","MAYO","JUNIO","JULIO","AGOSTO","SEPTIEMBRE","OCTUBRE","NOVIEMBRE","DICIEMBRE"],gestiones:[parseInt(de.ZP.formatDate(new Date,"YYYY"))-2,parseInt(de.ZP.formatDate(new Date,"YYYY"))-1,parseInt(de.ZP.formatDate(new Date,"YYYY")),parseInt(de.ZP.formatDate(new Date,"YYYY"))+1,parseInt(de.ZP.formatDate(new Date,"YYYY"))+2],rental:{montoTotal:0,periodoFacturado:"ENERO 2022",mes:"ENERO",descripcion:"",gestion:de.ZP.formatDate(new Date,"YYYY")},client:{},documents:[],document:"",saleDialog:!1,qrImage:"",cine:{},columns:[{label:"Opciones",name:"Opciones",field:"Opciones"},{label:"Factura",name:"numeroFactura",field:"numeroFactura",sortable:"true"},{label:"siatEnviado",name:"siatEnviado",field:"siatEnviado",sortable:!0},{label:"Fecha Emision",name:"fechaEmision",field:"fechaEmision",sortable:"true"},{label:"Periodo Facturado",name:"periodoFacturado",field:"periodoFacturado",sortable:"true"},{label:"Descripcion",name:"descripcion",field:"descripcion",sortable:"true"},{label:"Monto",name:"montoTotal",field:"montoTotal",sortable:"true"},{label:"Usuario",name:"usuario",field:"usuario",sortable:"true"},{label:"client_id",name:"client_id",field:e=>e.client.nombreRazonSocial,sortable:!0},{label:"siatAnulado",name:"siatAnulado",field:"siatAnulado",sortable:!0},{label:"id",name:"id",field:"id",sortable:!0}],motivos:[],motivo:{},opts:{errorCorrectionLevel:"M",type:"png",quality:.95,width:100,margin:1,color:{dark:"#000000",light:"#FFF"}}}},mounted(){this.encabezado(),this.rental.mes=this.meses[parseInt(de.ZP.formatDate(new Date,"M")-1)],this.$api.get("datocine").then((e=>{this.cine=e.data})),this.rentalConsulta(),this.$api.get("document").then((e=>{e.data.forEach((e=>{e.label=e.descripcion})),this.documents=e.data,this.document=this.documents[0]})),this.cargarMotivo()},methods:{anularSale(e){this.factura=e,this.dialogAnular=!0},enviarAnular(){this.loading=!0,this.$api.post("anularRental",{rental:this.factura,motivo:this.motivo}).then((e=>{console.log(e.data),this.rentalConsulta(),this.dialogAnular=!1,this.loading=!1}))},cargarMotivo(){this.$api.get("motivoanular").then((e=>{e.data.forEach((e=>{e.label=e.descripcion})),this.motivos=e.data,this.motivo=this.motivos[0]}))},encabezado(){this.$api.get("datocine").then((e=>{this.cine=e.data}))},rentalInsert(){this.loading=!0,this.client.codigoTipoDocumentoIdentidad=this.document.codigoClasificador,this.client.email=void 0==this.client.email?"":this.client.email,this.$api.post("rental",{client:this.client,montoTotal:this.rental.montoTotal,descripcion:this.rental.descripcion,periodoFacturado:this.rental.mes+" "+this.rental.gestion}).then((e=>{console.log(e.data),this.saleDialog=!1,1==e.data.rental.siatEnviado&&this.printFactura(e.data.rental),this.rentalConsulta(),this.loading=!1})).finally((()=>{this.loading=!1})).catch((e=>{console.log(e),this.loading=!1,this.$q.notify({color:"negative",textColor:"white",message:e.response.data.message,position:"top",timeout:5e3})}))},async printFactura(e){console.log(e),this.facturadetalle=e;let t=wi().conversorNumerosALetras,l=new t,o=l.convertToText(parseInt(e.montoTotal));this.qrImage=await _i.toDataURL(this.cine.url2+"consulta/QR?nit="+this.cine.nit+"&cuf="+e.cuf+"&numero="+e.numeroFactura+"&t=2",this.opts);let a="<style>      .titulo{      font-size: 8px;      text-align: center;      font-weight: bold;      }      .titulo2{      font-size: 8px;      text-align: center;      }            .titulo3{      font-size: 10px;      text-align: center;      width:70%;      }            .contenido{      font-size: 10px;      text-align: left;      }      .conte2{      font-size: 10px;      text-align: right;      }      .titder{      font-size: 12px;      text-align: right;      font-weight: bold;      }      .titizq{      font-size: 12px;      text-align: left;      font-weight: bold;      }      hr{  border-top: 1px dashed   ;}  table{    width:100%    border-collapse: collapse;  }  .tabenc>tr>td{  font-size: 12px;border: 1px solid;  font-weight: bold;  text-align: center;  border-collapse: collapse;  }    .tabcont>tr>td{  font-size: 10px;border: 1px solid;  text-align: center;  border-collapse: collapse;  }  h1 {    color: black;    font-family: sans-serif;  }</style>    <div id='myelement'>    <table>    <tr><td style='width: 50%'>          <div class='titulo2'>"+this.cine.razon+"<br>        Casa Matriz<br>        No. Punto de Venta "+e.codigoPuntoVenta+"<br>        "+this.cine.direccion.substring(0,33)+"<br>"+this.cine.direccion.substring(33)+"<br>        Tel. "+this.cine.telefono+"<br>        Oruro      </div>        </td><td style='vertical-align:top; text-align: right;width: 50%;'>        <div class='titulo' style='text-align: right'>NIT</div>        <div class='titulo' style='text-align: right'>FACTURA N°</div>        <div class='titulo' style='text-align: right'>CÓD. AUTORIZACIÓN</div>        </td><td style='vertical-align:top; '>        <div class='titulo2' style='text-align: left;'>"+this.cine.nit+"</div>        <div class='titulo2' style='text-align: left;'>"+e.numeroFactura+"</div>        <div class='titulo2' style='text-align: left;' >"+e.cuf.substring(0,17)+"<br>"+e.cuf.substring(17,34)+"<br>"+e.cuf.substring(34,51)+"<br>"+e.cuf.substring(51)+"</div>      <td></tr>    </table>      <div class='titulo'><span style='font-size: 12px'>FACTURA DE ALQUILER</span><br>(Con Derecho a Crédito Fiscal) </div>      <table >        <tr><td class='titizq'>FECHA DE EMISIÓN:</td><td class='contenido'>"+e.fechaEmision+"</td><td style='width: 20%'></td></tc><td class='titder'>NIT/CI/CEX:</td><td class='contenido'>"+e.client.numeroDocumento+"-"+e.client.complemento+"</td></tr>        <tr><td class='titizq'>NOMBRE/RAZÓN SOCIAL:</td><td class='contenido'>"+e.client.nombreRazonSocial+"</td><td style='width: 20%'></td><td class='titder'>Cod. Cliente:</td ><td class='contenido'>"+e.client.id+"</td></tr>        <tr><td class='titizq'></td><td class='contenido'></td><td style='width: 20%'></td><td class='titder'>Periodo Facturado:</td><td class='contenido'>"+e.periodoFacturado+"</td></tr>      </table><br>      <table style='width: 100%;border-collapse: collapse;'>      <thead class='tabenc'>      <tr><td>CÓDIGO SERVICIO</td><td>CANTIDAD</td><td>UNIDAD DE MEDIDA</td><td>DESCRIPCIÓN</td><td>PRECIO UNITARIO</td><td>DESCUENTO</td><td>SUBTOTAL</td></tr>      </thead>      <tbody class='tabcont'>      <tr><td>"+e.codigoProducto+"</td><td>"+e.cantidad+"</td><td>"+e.medida+"</td><td>"+e.descripcion+"</td><td>"+e.precioUnitario+"</td><td>"+e.montoDescuento+"</td><td>"+e.subTotal+"</td></tr>      <tr><td colspan='4' style='border: 0'></td><td class='titder' colspan='2'>SUBTOTAL Bs</td><td class='conte2'>"+parseFloat(e.montoTotal).toFixed(2)+"</td></tr>      <tr><td colspan='4' style='border: 0'></td><td class='titder' colspan='2'>DESCUENTO Bs</td><td class='conte2'>0.00</td></tr>      <tr><td colspan='4' style='border: 0'></td><td class='titder' colspan='2'>TOTAL Bs</td><td class='conte2'>"+parseFloat(e.montoTotal).toFixed(2)+"</td></tr>      <tr><td colspan='4' style='border: 0'></td><td class='titder' style='font-size: 8px' colspan='2'>IMPORTE BASE CRÉDITO FISCAL Bs</td><td class='conte2'>"+parseFloat(e.montoTotal).toFixed(2)+"</td></tr>      </tbody></table><br>      <div>Son "+o+" "+100*(parseFloat(e.montoTotal).toFixed(2)-Math.floor(parseFloat(e.montoTotal).toFixed(2)))+"/100 Bolivianos</div>      <table><tr><td>      <div class='titulo2 col-10' style='font-size: 9px'>ESTA FACTURA CONTRIBUYE AL DESARROLLO DEL PAÍS,EL USO ILÍCITO SERÁ SANCIONADO PENALMENTE DE ACUERDO A LEY<br><br>"+e.leyenda+" <br>“Este documento es la Representación Gráfica de un Documento Fiscal Digital emitido en una modalidad de facturación en línea”</div></td><td><div style='display: flex;justify-content: center;' class='col-2'>  <img src="+this.qrImage+" >      </div></td></tr>              </table>";document.getElementById("myelement").innerHTML=a;const i=new fi.gR;i.print(document.getElementById("myelement"))},searchClient(){this.document=this.documents[0],this.client.nombreRazonSocial="",this.client.email="",this.client.id=void 0,this.$api.post("searchClient",this.client).then((e=>{if(void 0!=e.data.nombreRazonSocial){this.client.nombreRazonSocial=e.data.nombreRazonSocial,this.client.email=e.data.email,this.client.id=e.data.id;let t=this.documents.find((t=>t.codigoClasificador==e.data.codigoTipoDocumentoIdentidad));t.label=t.descripcion,this.document=t}}))},rentalClickCreate(){this.rental.montoTotal="",this.rental.descripcion="",this.saleDialog=!0,this.client={complemento:""}},rentalConsulta(){this.loading=!0,this.$api.post("rentalConsulta",{fechaInicio:this.fechaInicio,fechaFin:this.fechaFin}).then((e=>{this.loading=!1,this.rentals=e.data}))}}},Kd=(0,r.Z)(Hd,[["render",Gd]]),Jd=Kd;D()(Hd,"components",{QPage:y.Z,QInput:me.Z,QBtn:ue.Z,QTable:ce.Z,QTd:he.Z,QBtnDropdown:be.Z,QList:fe.Z,QItem:ve.Z,QItemSection:we.Z,QDialog:ye.Z,QCard:Ce.Z,QCardSection:De.Z,QSpace:xe.Z,QForm:Ie.Z,QSelect:Ve.Z,QSeparator:Ci.Z,QCardActions:Uo.Z}),D()(Hd,"directives",{ClosePopup:Me.Z});const Xd={class:"row"},er={class:"col-12"},tr={class:"row"},lr={class:"col-3"},or={class:"col-3"},ar={class:"col-3 flex flex-center"},ir={class:"col-3 flex flex-center"},sr={class:"col-12"},nr=(0,s._)("div",{class:"text-h6"},"Realizar venta",-1),dr={class:"row"},rr={class:"col-3"},cr={class:"col-3"},ur={class:"row"},mr={class:"col-6"},pr={class:"col-6"},hr=(0,s._)("div",{id:"myelement",class:"hidden"},null,-1);function gr(e,t,l,a,i,n){const d=(0,s.up)("q-input"),r=(0,s.up)("q-btn"),c=(0,s.up)("q-item-section"),u=(0,s.up)("q-item"),m=(0,s.up)("q-list"),p=(0,s.up)("q-btn-dropdown"),h=(0,s.up)("q-td"),g=(0,s.up)("q-table"),b=(0,s.up)("q-space"),f=(0,s.up)("q-card-section"),v=(0,s.up)("q-select"),w=(0,s.up)("q-separator"),_=(0,s.up)("q-form"),y=(0,s.up)("q-card"),C=(0,s.up)("q-dialog"),D=(0,s.up)("q-page"),x=(0,s.Q2)("close-popup");return(0,s.wg)(),(0,s.j4)(D,null,{default:(0,s.w5)((()=>[(0,s._)("div",Xd,[(0,s._)("div",er,[(0,s._)("div",tr,[(0,s._)("div",lr,[(0,s.Wm)(d,{dense:"",type:"date",outlined:"",label:"fechaInicio",modelValue:i.fechaInicio,"onUpdate:modelValue":t[0]||(t[0]=e=>i.fechaInicio=e)},null,8,["modelValue"])]),(0,s._)("div",or,[(0,s.Wm)(d,{dense:"",type:"date",outlined:"",label:"fechaFin",modelValue:i.fechaFin,"onUpdate:modelValue":t[1]||(t[1]=e=>i.fechaFin=e)},null,8,["modelValue"])]),(0,s._)("div",ar,[(0,s.Wm)(r,{color:"primary",loading:i.loading,label:"Consultar",class:"full-width",icon:"search",onClick:n.prevaloradaConsulta},null,8,["loading","onClick"])]),(0,s._)("div",ir,[(0,s.Wm)(r,{color:"green",label:"AGREGAR ",class:"full-width",icon:"add_circle_outline",onClick:n.prevaloradaClickCreate},null,8,["onClick"])])])]),(0,s._)("div",sr,[(0,s.Wm)(g,{label:"FACTURA DE ALQUILER DE AMBIENTES",rows:i.prevaloradas,columns:i.columns},{"body-cell-Opciones":(0,s.w5)((t=>[(0,s.Wm)(h,{props:t,"auto-width":""},{default:(0,s.w5)((()=>[(0,s.Wm)(p,{color:"primary",label:"Opciones"},{default:(0,s.w5)((()=>[(0,s.Wm)(m,null,{default:(0,s.w5)((()=>[(0,s.wy)(((0,s.wg)(),(0,s.j4)(u,{clickable:""},{default:(0,s.w5)((()=>[(0,s.Wm)(c,null,{default:(0,s.w5)((()=>[0==t.row.siatAnulado?((0,s.wg)(),(0,s.j4)(r,{key:0,icon:"print",color:"primary",class:"full-width",label:"Imprimir","no-caps":"",onClick:e=>n.printFactura(t.row)},null,8,["onClick"])):(0,s.kq)("",!0)])),_:2},1024)])),_:2},1024)),[[x]]),(0,s.wy)(((0,s.wg)(),(0,s.j4)(u,{clickable:""},{default:(0,s.w5)((()=>[(0,s.Wm)(c,null,{default:(0,s.w5)((()=>[(0,s.Wm)(r,{icon:"print",color:"primary",class:"full-width",label:"blue","no-caps":"",onClick:n.printButton},null,8,["onClick"])])),_:1})])),_:1})),[[x]]),(0,s.wy)(((0,s.wg)(),(0,s.j4)(u,{clickable:""},{default:(0,s.w5)((()=>[(0,s.Wm)(c,null,{default:(0,s.w5)((()=>[0==t.row.siatAnulado?((0,s.wg)(),(0,s.j4)(r,{key:0,icon:"cancel_presentation",color:"red",class:"full-width",label:"Anular","no-caps":"",onClick:l=>e.anularSale(t.row)},null,8,["onClick"])):(0,s.kq)("",!0)])),_:2},1024)])),_:2},1024)),[[x]]),(0,s.wy)(((0,s.wg)(),(0,s.j4)(u,{clickable:""},{default:(0,s.w5)((()=>[(0,s.Wm)(c,null,{default:(0,s.w5)((()=>[(0,s.Wm)(r,{type:"a",label:"Imp Impuestos ",class:"full-width",color:"info",target:"_blank",href:`${i.cine.url2}consulta/QR?nit=${i.cine.nit}&cuf=${t.row.cuf}&numero=${t.row.numeroFactura}&t=2`},null,8,["href"])])),_:2},1024)])),_:2},1024)),[[x]])])),_:2},1024)])),_:2},1024)])),_:2},1032,["props"])])),_:1},8,["rows","columns"])]),(0,s.Wm)(C,{"full-width":"",modelValue:i.saleDialog,"onUpdate:modelValue":t[5]||(t[5]=e=>i.saleDialog=e)},{default:(0,s.w5)((()=>[(0,s.Wm)(y,null,{default:(0,s.w5)((()=>[(0,s.Wm)(f,{class:"row items-center q-pb-none"},{default:(0,s.w5)((()=>[nr,(0,s.Wm)(b),(0,s.wy)((0,s.Wm)(r,{icon:"close",flat:"",round:"",dense:""},null,512),[[x]])])),_:1}),(0,s.Wm)(_,{onSubmit:(0,o.iM)(n.prevaloradaInsert,["prevent"])},{default:(0,s.w5)((()=>[(0,s.Wm)(f,null,{default:(0,s.w5)((()=>[(0,s._)("div",dr,[(0,s._)("div",rr,[(0,s.Wm)(v,{outlined:"",modelValue:i.vehiculo,"onUpdate:modelValue":t[2]||(t[2]=e=>i.vehiculo=e),options:i.vehiculos,label:"Tipo"},null,8,["modelValue","options"])]),(0,s._)("div",cr,[(0,s.Wm)(d,{outlined:"",modelValue:i.cantidad,"onUpdate:modelValue":t[3]||(t[3]=e=>i.cantidad=e),label:"Cantidad",type:"number"},null,8,["modelValue"])])])])),_:1}),(0,s.Wm)(w),(0,s.Wm)(f,null,{default:(0,s.w5)((()=>[(0,s._)("div",ur,[(0,s._)("div",mr,[(0,s.Wm)(r,{type:"submit",class:"full-width",icon:"o_add_circle",label:"Realizar venta",loading:i.loading,"no-caps":"",color:"green"},null,8,["loading"])]),(0,s._)("div",pr,[(0,s.Wm)(r,{class:"full-width",icon:"undo",onClick:t[4]||(t[4]=e=>i.saleDialog=!1),label:"Atras","no-caps":"",color:"red"})])])])),_:1})])),_:1},8,["onSubmit"])])),_:1})])),_:1},8,["modelValue"]),hr])])),_:1})}const br={name:"Prevalorada",data(){return{loading:!1,fechaInicio:de.ZP.formatDate(new Date,"YYYY-MM-DD"),fechaFin:de.ZP.formatDate(new Date,"YYYY-MM-DD"),prevaloradas:[],cantidad:0,vehiculos:[],meses:["ENERO","FEBRERO","MARZO","ABRIL","MAYO","JUNIO","JULIO","AGOSTO","SEPTIEMBRE","OCTUBRE","NOVIEMBRE","DICIEMBRE"],gestiones:[parseInt(de.ZP.formatDate(new Date,"YYYY"))-2,parseInt(de.ZP.formatDate(new Date,"YYYY"))-1,parseInt(de.ZP.formatDate(new Date,"YYYY")),parseInt(de.ZP.formatDate(new Date,"YYYY"))+1,parseInt(de.ZP.formatDate(new Date,"YYYY"))+2],prevalorada:{montoTotal:0,periodoFacturado:"ENERO 2022",mes:"ENERO",descripcion:"",gestion:de.ZP.formatDate(new Date,"YYYY")},client:{},documents:[],document:"",saleDialog:!1,vehiculo:{},columns:[{label:"Opciones",name:"Opciones",field:"Opciones"},{label:"Factura",name:"numeroFactura",field:"numeroFactura",sortable:"true"},{label:"siatEnviado",name:"siatEnviado",field:"siatEnviado",sortable:!0},{label:"Fecha Emision",name:"fechaEmision",field:"fechaEmision",sortable:"true"},{label:"Descripcion",name:"descripcion",field:"descripcion",sortable:"true"},{label:"Monto",name:"montoTotal",field:"montoTotal",sortable:"true"},{label:"Usuario",name:"usuario",field:"usuario",sortable:"true"},{label:"siatAnulado",name:"siatAnulado",field:"siatAnulado",sortable:!0},{label:"id",name:"id",field:"id",sortable:!0}],cine:{},leyendas:[],opts:{errorCorrectionLevel:"M",type:"png",quality:.95,width:60,margin:1,color:{dark:"#000000",light:"#FFF"}}}},mounted(){this.$api.get("datocine").then((e=>{this.cine=e.data})),this.$api.get("vehiculo").then((e=>{e.data.forEach((e=>{e.label=e.descripcion})),this.vehiculos=e.data,this.vehiculo=this.vehiculos[0]})),this.prevaloradaConsulta(),this.$api.get("document").then((e=>{e.data.forEach((e=>{e.label=e.descripcion})),this.documents=e.data,this.document=this.documents[0]}))},methods:{prevaloradaInsert(){if(this.cantidad<=0||void 0==this.cantidad||""==this.cantidad)return!1;this.loading=!0,this.client.codigoTipoDocumentoIdentidad=this.document.codigoClasificador,this.$api.post("prevalorada",{client:this.client,vehiculo:this.vehiculo,cantidad:this.cantidad}).then((e=>{console.log(e.data),e.data.forEach((e=>{this.printFactura(e)})),this.prevaloradaConsulta(),this.cantidad=1,this.saleDialog=!1,this.loading=!1})).finally((()=>{this.loading=!1})).catch((e=>{console.log(e),this.loading=!1,this.$q.notify({color:"negative",textColor:"white",message:e.response.data.message,position:"top",timeout:5e3})}))},async printFactura(e){this.leyendas.length;this.facturadetalle=e;let t=wi().conversorNumerosALetras,l=new t,o=l.convertToText(parseInt(e.montoTotal));this.qrImage=await _i.toDataURL(this.cine.url2+"consulta/QR?nit="+this.cine.nit+"&cuf="+e.cuf+"&numero="+e.numeroFactura+"&t=2",this.opts);let a="<style>      .titulo{      font-size: 8px;      text-align: center;      font-weight: bold;      }      .titulo2{      font-size: 7px;      text-align: center;      }            .titulo3{      font-size: 10px;      text-align: center;      width:70%;      }            .contenido{      font-size: 10px;      text-align: left;      }      .conte2{      font-size: 6px;      text-align: right;      }      .titder{      font-size: 6px;      text-align: right;      font-weight: bold;      }      .titizq{      font-size: 14px;      text-align: left;      font-weight: bold;    }      hr{  border-top: 1px dashed   ;}  table{    width:100%  }  h1 {    color: black;    font-family: sans-serif;  }</style>    <div id='myelement'>    <table>    <tr>    <td style='width:50%'>          <div class='titulo2'>"+this.cine.razon+"<br>        Casa Matriz<br>        No. Punto de Venta "+e.codigoPuntoVenta+"<br>        "+this.cine.direccion.substring(0,38)+"<br>"+this.cine.direccion.substring(38)+"<br>        Tel. "+this.cine.telefono+"<br>        Oruro      </div></td>    <td style='width: 50%'>      <div class='titulo'>NIT</div>      <div class='titulo2'>"+this.cine.nit+"</div>      <div class='titulo'>FACTURA N°</div>      <div class='titulo2'>"+e.numeroFactura+"</div>      <div class='titulo'>CÓD. AUTORIZACIÓN</div>      <div class='titulo2' style='text-align: left;' >"+e.cuf.substring(0,17)+"<br>"+e.cuf.substring(17,34)+"<br>"+e.cuf.substring(34,51)+"<br>"+e.cuf.substring(51)+"</div> </td>    </tr>    </table>    <div class='titder'>OTRAS ACTIVIDADES DE TRANSPORTE COMPLEMENTARIA <br>(TERMINAL DE BUSES, PLAYAS DE ESTACIONAMIENTO, ETC)</div>";a+="<table>      <tr><td class='titizq'>FACTURA</td><td style='text-align: right'><span style='font-size: 12px'>Bs. "+parseFloat(e.montoTotal).toFixed(2)+"</span><br><span style='font-size: 6px'>Son "+o+" "+100*(parseFloat(e.montoTotal).toFixed(2)-Math.floor(parseFloat(e.montoTotal).toFixed(2)))+"/100 Bolivianos</span></td></tr>      </table>            <div style='font-size: 10px; text-align: center'>Oruro, "+e.fechaEmision.substring(0,10)+"</div><br>      <div style='font-size: 6px'>'ESTA FACTURA CONTRIBUYE AL DESARROLLO DEL PAÍS,EL USO ILÍCITO SERÁ SANCIONADO PENALMENTE DE ACUERDO A LEY'<br>      "+e.leyenda+"       </div><br>     </div>       <img src="+this.qrImage+" >      ",document.getElementById("myelement").innerHTML=a;const i=new fi.gR;i.print(document.getElementById("myelement"))},searchClient(){this.document=this.documents[0],this.client.nombreRazonSocial="",this.client.id=void 0,this.$api.post("searchClient",this.client).then((e=>{if(void 0!=e.data.nombreRazonSocial){this.client.nombreRazonSocial=e.data.nombreRazonSocial,this.client.id=e.data.id;let t=this.documents.find((t=>t.codigoClasificador==e.data.codigoTipoDocumentoIdentidad));t.label=t.descripcion,this.document=t}}))},prevaloradaClickCreate(){this.prevalorada.montoTotal="",this.prevalorada.descripcion="",this.cantidad=1,this.saleDialog=!0,this.client={complemento:""}},printButton(){navigator.bluetooth.requestDevice({filters:[{name:"BlueTooth Printer",services:["000018f0-0000-1000-8000-00805f9b34fb"]}]},{optionalServices:["00002af1-0000-1000-8000-00805f9b34fb"]}).then((e=>(console.log("device",e),e.gatt.connected&&e.gatt.disconnect(),console.log("connect"),this.connect(e)))).catch(this.handleError)},connect(e){const t=this;return e.addEventListener("gattserverdisconnected",this.onDisconnected),e.gatt.connect().then((e=>e.getPrimaryService("000018f0-0000-1000-8000-00805f9b34fb"))).then((e=>e.getCharacteristic("00002af1-0000-1000-8000-00805f9b34fb"))).then((l=>{console.log("characteristic",l),t.printCharacteristic=l,t.sendTextData(e)})).catch((t=>{this.handleError(t,e)}))},handleError(e,t){console.error("handleError => error",e),null!=t&&t.gatt.disconnect();let l=JSON.stringify({code:e.code,message:e.message,name:e.name});console.log("handleError => erro",e),8!==l.code&&this.$q.notify("Could not connect with the printer. Try it again")},getBytes(e){console.log("text",e);let t="\n\r";e=void 0===e?t:e;let l=this.$languages.replace(e);console.log("replaced",l);let o=new TextEncoder("utf-8").encode(l+t);return console.log("bytes",o),o},addText(e){let t="cadena de prueba";if(e.push(t),this.isMobile)while(t.length>=20){let l=t.substring(20);e.push(l),t=l}},sendTextData(e){let t=[];this.addText(t),console.log("sendTextData => arrayText",t),this.loop(0,t,e)},loop(e,t,l){let o=this.getBytes(t[e]);this.write(l,o,(()=>{if(e++,e<t.length)this.loop(e,t,l);else{let e=this.getBytes();this.write(l,e,(()=>{l.gatt.disconnect()}))}}))},write(e,t,l){this.printCharacteristic.writeValue(t).then((()=>{console.log("Printed Array: "+t.length),setTimeout((()=>{l&&l()}),250)})).catch((t=>{this.handleError(t,e)}))},prevaloradaConsulta(){this.loading=!0,this.$api.post("prevaloradaConsulta",{fechaInicio:this.fechaInicio,fechaFin:this.fechaFin}).then((e=>{this.loading=!1,this.prevaloradas=e.data}))}}},fr=(0,r.Z)(br,[["render",gr]]),vr=fr;D()(br,"components",{QPage:y.Z,QInput:me.Z,QBtn:ue.Z,QTable:ce.Z,QTd:he.Z,QBtnDropdown:be.Z,QList:fe.Z,QItem:ve.Z,QItemSection:we.Z,QDialog:ye.Z,QCard:Ce.Z,QCardSection:De.Z,QSpace:xe.Z,QForm:Ie.Z,QSelect:Ve.Z,QSeparator:Ci.Z}),D()(br,"directives",{ClosePopup:Me.Z});const wr={class:"row"},_r={class:"col-3"},yr={class:"col-3"},Cr={class:"col-3"},Dr={key:0,class:"col-6"},xr=(0,s._)("div",{class:"text-h5"},"DATOS DE CLIENTE",-1);function Ir(e,t,l,o,a,i){const n=(0,s.up)("q-input"),d=(0,s.up)("q-btn"),r=(0,s.up)("q-select"),c=(0,s.up)("q-page");return(0,s.wg)(),(0,s.j4)(c,null,{default:(0,s.w5)((()=>[(0,s._)("div",wr,[(0,s._)("div",_r,[(0,s.Wm)(n,{modelValue:a.client.numeroDocumento,"onUpdate:modelValue":t[0]||(t[0]=e=>a.client.numeroDocumento=e),label:"NIT/CI/CEX",outlined:""},null,8,["modelValue"])]),(0,s._)("div",yr,[(0,s.Wm)(n,{modelValue:a.client.complemento,"onUpdate:modelValue":t[1]||(t[1]=e=>a.client.complemento=e),label:"COMPLEMENTO",outlined:""},null,8,["modelValue"])]),(0,s._)("div",Cr,[(0,s.Wm)(d,{label:"Buscar Cliente",icon:"search",onClick:i.searchClient,color:"info"},null,8,["onClick"])]),void 0!=a.client.id?((0,s.wg)(),(0,s.iD)("div",Dr,[xr,(0,s.Wm)(r,{modelValue:a.document,"onUpdate:modelValue":t[2]||(t[2]=e=>a.document=e),outlined:"",options:a.documents},null,8,["modelValue","options"]),(0,s.Wm)(n,{modelValue:a.client.nombreRazonSocial,"onUpdate:modelValue":t[3]||(t[3]=e=>a.client.nombreRazonSocial=e),label:"Nombre RazonSocial",outlined:""},null,8,["modelValue"]),(0,s.Wm)(n,{modelValue:a.client.email,"onUpdate:modelValue":t[4]||(t[4]=e=>a.client.email=e),label:"Email",type:"email",outlined:""},null,8,["modelValue"]),(0,s.Wm)(d,{label:"Modificar",icon:"edit",onClick:i.updateClient,color:"yellow"},null,8,["onClick"])])):(0,s.kq)("",!0)])])),_:1})}const Vr={name:"Cliente",data(){return{client:{},document:{},documents:[]}},created(){this.$api.get("document").then((e=>{e.data.forEach((e=>{e.label=e.descripcion})),this.documents=e.data,this.document=this.documents[0]}))},methods:{searchClient(){if(void 0==this.client.numeroDocumento)return!1;this.document=this.documents[0],this.client.nombreRazonSocial="",this.client.email="",this.client.id=void 0,this.$api.post("searchClient",this.client).then((e=>{if(void 0!=e.data.nombreRazonSocial){this.client.nombreRazonSocial=e.data.nombreRazonSocial,this.client.email=e.data.email,this.client.id=e.data.id;let t=this.documents.find((t=>t.codigoClasificador==e.data.codigoTipoDocumentoIdentidad));t.label=t.descripcion,this.document=t}}))},updateClient(){if(void 0==this.client.id)return!1;this.client.codigoTipoDocumentoIdentidad=this.document.codigoClasificador,this.client.email=void 0==this.client.email?"":this.client.email,this.$api.put("client/"+this.client.id,this.client).then((e=>{}))}}},Wr=(0,r.Z)(Vr,[["render",Ir]]),Tr=Wr;D()(Vr,"components",{QPage:y.Z,QInput:me.Z,QBtn:ue.Z,QSelect:Ve.Z});const Mr={class:"row"},Ar={class:"col-3"},Er={class:"col-3"},Sr={class:"col-3"},qr={class:"col-3"},jr={class:"col-3"},Lr={class:"col-12"},Nr=(0,s.Uk)(" > "),kr=(0,s._)("div",{id:"myelement",class:"hidden"},null,-1);function Or(e,t,l,o,a,i){const n=(0,s.up)("q-select"),d=(0,s.up)("q-input"),r=(0,s.up)("q-btn"),c=(0,s.up)("q-icon"),u=(0,s.up)("q-table"),m=(0,s.up)("q-page");return(0,s.wg)(),(0,s.j4)(m,{padding:""},{default:(0,s.w5)((()=>[(0,s._)("div",Mr,[(0,s._)("div",Ar,[(0,s.Wm)(n,{square:"",outlined:"",modelValue:a.user,"onUpdate:modelValue":t[0]||(t[0]=e=>a.user=e),options:a.users,label:"Usuario"},null,8,["modelValue","options"])]),(0,s._)("div",Er,[(0,s.Wm)(d,{square:"",outlined:"",modelValue:a.ini,"onUpdate:modelValue":t[1]||(t[1]=e=>a.ini=e),label:"fecha ini",type:"date"},null,8,["modelValue"])]),(0,s._)("div",Sr,[(0,s.Wm)(d,{square:"",outlined:"",modelValue:a.fin,"onUpdate:modelValue":t[2]||(t[2]=e=>a.fin=e),label:"fecha fin",type:"date"},null,8,["modelValue"])]),(0,s._)("div",qr,[(0,s.Wm)(r,{color:"green",label:"Consultar",onClick:i.consultar},null,8,["onClick"])]),(0,s._)("div",jr,[(0,s.Wm)(r,{color:"info",label:"Imprimir",onClick:i.impresion},null,8,["onClick"])]),(0,s._)("div",Lr,[(0,s.Wm)(u,{dense:"",title:"Listado Venta Boleteria","rows-per-page-options":[20,50,100,0],rows:a.reporte,columns:a.columna,filter:a.productoFilter},{"top-right":(0,s.w5)((()=>[(0,s.Wm)(d,{outlined:"",dense:"",debounce:"300",modelValue:a.productoFilter,"onUpdate:modelValue":t[3]||(t[3]=e=>a.productoFilter=e),placeholder:"Buscar"},{append:(0,s.w5)((()=>[(0,s.Wm)(c,{name:"search"})])),_:1},8,["modelValue"])])),default:(0,s.w5)((()=>[Nr])),_:1},8,["rows","columns","filter"])])]),kr])),_:1})}const Ur={name:"CajaBoleteria",data(){return{ini:de.ZP.formatDate(new Date,"YYYY-MM-DD"),fin:de.ZP.formatDate(new Date,"YYYY-MM-DD"),loading:!1,productoFilter:"",url:"http://10.200.100.20:81/api/",dialog_img:!1,producto:{},producto2:{},productoDialog:!1,productoUpdateDialog:!1,reporte:[],user:{},users:[],store:(0,ne.c)(),foto:"",tvip:0,tcredito:0,tefectivo:0,total:0,columna:[{label:"NOMBRE",field:"descripcion",name:"descripcion",sortable:!0},{label:"cantidad",field:"cantidad",name:"cantidad",sortable:!0},{label:"SUBTOTAL",field:"total",name:"subtotal",sortable:!0}]}},created(){this.listuser()},methods:{listuser(){this.users=[{id:0,label:"TODOS"}],this.$api.get("user").then((e=>{console.log(e.data),e.data.forEach((e=>{e.label=e.name,this.users.push(e)})),this.user=this.users[0]}))},consultar(){this.loading=!0,this.$api.post("cajaBol",{ini:this.ini,fin:this.fin,id:this.user.id}).then((e=>{console.log(e.data),this.loading=!1,this.reporte=e.data,this.resumen()}))},resumen(){this.loading=!0,this.$api.post("resumenBol",{ini:this.ini,fin:this.fin,id:this.user.id}).then((e=>{console.log(e.data),this.tcredito=null==e.data[0].tarjeta?0:e.data[0].tarjeta,this.tvip=null==e.data[0].vip?0:e.data[0].vip,this.tefectivo=null==e.data[0].efectivo?0:e.data[0].efectivo,this.loading=!1}))},impresion(){if(0==this.reporte.length)return!1;let e="<style>        *{font-size:10px;}        .titulo{text-align:center;          font-weight:bold;}        .titulo2{font-weight:bold;}        .titulo3{font-weight:bold; text-align:right;}        table{width:100%; border:0.2px solid;}        </style>        <div class='titulo'>MULTISALAS S.R.L.</div>        <div class='titulo'>ORURO - BOLIVIA</div>        <div class='titulo'>VENTAS DE BOLETERIA</div>        <hr>        <div><span class='titulo2'>Fecha: </span> "+de.ZP.formatDate(new Date,"DD/MM/YYYY HH:mm:ss")+"</div>        <div><span class='titulo2'>Fecha Caja: </span> "+this.ini+" al "+this.fin+"</div>        <div><span  class='titulo2'>Usuario: </span> "+this.user.label+"</div>        <hr>        <table>        <thead><tr><th>DESCRIPCION</th><th>CANTIDAD</th><th>TOTAL</th></tr></thead>        <tbody>";this.reporte.forEach((t=>{e+="<tr><td>"+t.descripcion+"</td><td>"+t.cantidad+"</td><td>"+t.total+"</td></tr>"})),e+="</tbody>        </table>        <div style='text-align:right;'><span class='titulo3'>Total: </span> "+this.ventatotal+" Bs</div>        <div style='text-align:right;'><span class='titulo3'>Total VIP: </span> "+this.tvip+" Bs</div>        <div style='text-align:right;'><span class='titulo3'>Total Credito: </span> "+this.tcredito+" Bs</div>        <div style='text-align:right;'><span class='titulo3'>Total Efectivo: </span> "+this.tefectivo+" Bs</div>        ",document.getElementById("myelement").innerHTML=e;const t=new fi.gR;t.print(document.getElementById("myelement"))}},computed:{ventatotal(){let e=0;return this.reporte.forEach((t=>{e+=t.total})),e.toFixed(2)}}},Fr=(0,r.Z)(Ur,[["render",Or]]),Zr=Fr;D()(Ur,"components",{QPage:y.Z,QSelect:Ve.Z,QInput:me.Z,QBtn:ue.Z,QTable:ce.Z,QIcon:pe.Z});const zr={class:"row"},Qr={class:"col-3"},Rr={class:"col-3"},Pr={class:"col-3"},Yr={class:"col-3"},$r={class:"col-3"},Br={class:"col-12"},Gr=(0,s.Uk)(" > "),Hr=(0,s._)("div",{id:"myelement",class:"hidden"},null,-1);function Kr(e,t,l,o,a,i){const n=(0,s.up)("q-select"),d=(0,s.up)("q-input"),r=(0,s.up)("q-btn"),c=(0,s.up)("q-icon"),u=(0,s.up)("q-table"),m=(0,s.up)("q-page");return(0,s.wg)(),(0,s.j4)(m,{padding:""},{default:(0,s.w5)((()=>[(0,s._)("div",zr,[(0,s._)("div",Qr,[(0,s.Wm)(n,{square:"",outlined:"",modelValue:a.user,"onUpdate:modelValue":t[0]||(t[0]=e=>a.user=e),options:a.users,label:"Usuario"},null,8,["modelValue","options"])]),(0,s._)("div",Rr,[(0,s.Wm)(d,{square:"",outlined:"",modelValue:a.ini,"onUpdate:modelValue":t[1]||(t[1]=e=>a.ini=e),label:"fecha ini",type:"date"},null,8,["modelValue"])]),(0,s._)("div",Pr,[(0,s.Wm)(d,{square:"",outlined:"",modelValue:a.fin,"onUpdate:modelValue":t[2]||(t[2]=e=>a.fin=e),label:"fecha fin",type:"date"},null,8,["modelValue"])]),(0,s._)("div",Yr,[(0,s.Wm)(r,{color:"green",label:"Consultar",onClick:i.consultar},null,8,["onClick"])]),(0,s._)("div",$r,[(0,s.Wm)(r,{color:"info",label:"Imprimir",onClick:i.impresion},null,8,["onClick"])]),(0,s._)("div",Br,[(0,s.Wm)(u,{dense:"",title:"Listado Venta Candy","rows-per-page-options":[20,50,100,0],rows:a.reporte,columns:a.columna,filter:a.productoFilter},{"top-right":(0,s.w5)((()=>[(0,s.Wm)(d,{outlined:"",dense:"",debounce:"300",modelValue:a.productoFilter,"onUpdate:modelValue":t[3]||(t[3]=e=>a.productoFilter=e),placeholder:"Buscar"},{append:(0,s.w5)((()=>[(0,s.Wm)(c,{name:"search"})])),_:1},8,["modelValue"])])),default:(0,s.w5)((()=>[Gr])),_:1},8,["rows","columns","filter"])])]),Hr])),_:1})}const Jr={name:"CajaCandy",data(){return{ini:de.ZP.formatDate(new Date,"YYYY-MM-DD"),fin:de.ZP.formatDate(new Date,"YYYY-MM-DD"),loading:!1,productoFilter:"",url:"http://10.200.100.20:81/api/",dialog_img:!1,producto:{},producto2:{},productoDialog:!1,productoUpdateDialog:!1,reporte:[],user:{},users:[],store:(0,ne.c)(),foto:"",tvip:0,tcredito:0,tefectivo:0,total:0,columna:[{label:"NOMBRE",field:"descripcion",name:"descripcion",sortable:!0},{label:"cantidad",field:"cantidad",name:"cantidad",sortable:!0},{label:"SUBTOTAL",field:"total",name:"subtotal",sortable:!0}]}},created(){this.listuser()},methods:{listuser(){this.users=[{id:0,label:"TODOS"}],this.$api.get("user").then((e=>{console.log(e.data),e.data.forEach((e=>{e.label=e.name,this.users.push(e)})),this.user=this.users[0]}))},consultar(){this.loading=!0,this.$api.post("cajaCandy",{ini:this.ini,fin:this.fin,id:this.user.id}).then((e=>{console.log(e.data),this.loading=!1,this.reporte=e.data,this.resumen()}))},resumen(){this.loading=!0,this.$api.post("resumenCandy",{ini:this.ini,fin:this.fin,id:this.user.id}).then((e=>{console.log(e.data),this.tcredito=null==e.data[0].tarjeta?0:e.data[0].tarjeta,this.tvip=null==e.data[0].vip?0:e.data[0].vip,this.tefectivo=null==e.data[0].efectivo?0:e.data[0].efectivo,this.loading=!1}))},impresion(){if(0==this.reporte.length)return!1;let e="<style>        *{font-size:10px;}        .titulo{text-align:center;          font-weight:bold;}        .titulo2{font-weight:bold;}        .titulo3{font-weight:bold; text-align:right;}        table{width:100%; border:0.2px solid;}        </style>        <div class='titulo'>MULTISALAS S.R.L.</div>        <div class='titulo'>ORURO - BOLIVIA</div>        <div class='titulo'>VENTAS DE CANDY</div>        <hr>        <div><span class='titulo2'>Fecha: </span> "+de.ZP.formatDate(new Date,"DD/MM/YYYY HH:mm:ss")+"</div>        <div><span class='titulo2'>Fecha Caja: </span> "+this.ini+" al "+this.fin+"</div>        <div><span  class='titulo2'>Usuario: </span> "+this.user.label+"</div>        <hr>        <table>        <thead><tr><th>DESCRIPCION</th><th>CANTIDAD</th><th>TOTAL</th></tr></thead>        <tbody>";this.reporte.forEach((t=>{e+="<tr><td>"+t.descripcion+"</td><td>"+t.cantidad+"</td><td>"+t.total+"</td></tr>"})),e+="</tbody>        </table>        <div style='text-align:right;'><span class='titulo3'>Total: </span> "+this.ventatotal+" Bs</div>        <div style='text-align:right;'><span class='titulo3'>Total VIP: </span> "+this.tvip+" Bs</div>        <div style='text-align:right;'><span class='titulo3'>Total Credito: </span> "+this.tcredito+" Bs</div>        <div style='text-align:right;'><span class='titulo3'>Total Efectivo: </span> "+this.tefectivo+" Bs</div>        ",document.getElementById("myelement").innerHTML=e;const t=new fi.gR;t.print(document.getElementById("myelement"))}},computed:{ventatotal(){let e=0;return this.reporte.forEach((t=>{e+=t.total})),e.toFixed(2)}}},Xr=(0,r.Z)(Jr,[["render",Kr]]),ec=Xr;D()(Jr,"components",{QPage:y.Z,QSelect:Ve.Z,QInput:me.Z,QBtn:ue.Z,QTable:ce.Z,QIcon:pe.Z});const tc=e=>((0,s.dD)("data-v-b123d202"),e=e(),(0,s.Cn)(),e),lc={class:"row"},oc=tc((()=>(0,s._)("div",{class:"col-1 col-sm-4"},null,-1))),ac={class:"col-10 col-sm-4"},ic=tc((()=>(0,s._)("div",{class:"text-subtitle1 text-center q-pt-xs text-grey"},"CUENTA",-1))),sc=tc((()=>(0,s._)("div",{class:"text-h2 text-center q-pa-xs text-black text-bold"},"Tu Cuenta",-1))),nc={class:"row"},dc={class:"col-12"},rc={class:"col-12 q-pt-lg"},cc={class:"col-12 q-py-xs"},uc={class:"col-12 q-pt-xs"},mc=tc((()=>(0,s._)("div",{class:"col-12 q-pt-xs"},null,-1))),pc=tc((()=>(0,s._)("div",{class:"col-12 text-center q-py-none"},[(0,s._)("a",{href:"",class:"text-blue-8"},"¿Olvidaste tu contraseña?")],-1))),hc=tc((()=>(0,s._)("div",{class:"text-subtitle1 text-center text-caption q-pt-lg text-grey"},[(0,s.Uk)("AL INICIAR SESIÓN, USTED ACEPTA LOS "),(0,s._)("a",{href:"",class:"text-blue-8"},"TÉRMINOS DEL SERVICIO"),(0,s.Uk)(" Y "),(0,s._)("a",{href:"",class:"text-blue-8"},"LA POLÍTICA DE PRIVACIDAD")],-1))),gc=tc((()=>(0,s._)("div",{class:"col-1 col-sm-4"},null,-1)));function bc(e,t,l,a,i,n){const d=(0,s.up)("q-input"),r=(0,s.up)("q-icon"),c=(0,s.up)("q-checkbox"),u=(0,s.up)("q-btn"),m=(0,s.up)("q-form"),p=(0,s.up)("q-card-section"),h=(0,s.up)("q-card"),g=(0,s.up)("q-page"),b=(0,s.up)("q-page-container"),f=(0,s.up)("q-layout");return(0,s.wg)(),(0,s.j4)(f,{view:"lHh Lpr lFf",class:"bg-grey-2"},{default:(0,s.w5)((()=>[(0,s.Wm)(b,null,{default:(0,s.w5)((()=>[(0,s.Wm)(g,null,{default:(0,s.w5)((()=>[(0,s._)("div",lc,[oc,(0,s._)("div",ac,[ic,sc,(0,s.Wm)(h,{flat:"",bordered:""},{default:(0,s.w5)((()=>[(0,s.Wm)(p,null,{default:(0,s.w5)((()=>[(0,s.Wm)(m,{class:"q-pa-lg",onSubmit:(0,o.iM)(n.login,["prevent"])},{default:(0,s.w5)((()=>[(0,s._)("div",nc,[(0,s._)("div",dc,[(0,s.Wm)(d,{outlined:"",modelValue:i.email,"onUpdate:modelValue":t[0]||(t[0]=e=>i.email=e),label:"Email",type:"email",required:""},null,8,["modelValue"])]),(0,s._)("div",rc,[(0,s.Wm)(d,{outlined:"",modelValue:i.password,"onUpdate:modelValue":t[2]||(t[2]=e=>i.password=e),label:"Contraseña",type:i.typePassword?"password":"text",required:""},{append:(0,s.w5)((()=>[(0,s.Wm)(r,{onClick:t[1]||(t[1]=e=>i.typePassword=!i.typePassword),name:i.typePassword?"visibility":"visibility_off"},null,8,["name"])])),_:1},8,["modelValue","type"])]),(0,s._)("div",cc,[(0,s.Wm)(c,{modelValue:i.remember,"onUpdate:modelValue":t[3]||(t[3]=e=>i.remember=e),class:"grey",label:"Recuérdame",size:"30px"},null,8,["modelValue"])]),(0,s._)("div",uc,[(0,s.Wm)(u,{size:"22px",loading:i.loading,class:"full-width bold",color:"primary",label:"Iniciar Sesión",type:"submit","no-caps":""},null,8,["loading"])]),mc,pc])])),_:1},8,["onSubmit"])])),_:1})])),_:1}),hc]),gc])])),_:1})])),_:1})])),_:1})}const fc={name:"Login",data(){return{email:"",password:"",remember:!1,typePassword:!0,loading:!1,store:(0,ne.c)()}},mounted(){this.store.isLoggedIn&&this.$router.push("/")},methods:{login(){this.loading=!0,this.$api.post("login",{email:this.email,password:this.password}).then((e=>{this.$q.notify({message:"Bienvenido",color:"positive",icon:"check_circle",position:"top"}),console.log(e.data),this.$router.push("/"),this.store.user=e.data.user,this.store.isLoggedIn=!0,e.data.user.permisos.forEach((e=>{1==e.id&&(this.store.booluser=!0),2==e.id&&(this.store.boolcuis=!0),3==e.id&&(this.store.boolsincr=!0),4==e.id&&(this.store.boolcufd=!0),5==e.id&&(this.store.boolevento=!0),6==e.id&&(this.store.boolmovie=!0),7==e.id&&(this.store.booldistrib=!0),8==e.id&&(this.store.boolsala=!0),9==e.id&&(this.store.booltarifa=!0),10==e.id&&(this.store.boolrubro=!0),11==e.id&&(this.store.boolproducto=!0),12==e.id&&(this.store.boolprogram=!0),13==e.id&&(this.store.boolboleteria=!0),14==e.id&&(this.store.boollistbol=!0),15==e.id&&(this.store.boolcandy=!0),16==e.id&&(this.store.boollistcandy=!0),17==e.id&&(this.store.boolcajabol=!0),18==e.id&&(this.store.boolcajacandy=!0),19==e.id&&(this.store.boolalquiler=!0),20==e.id&&(this.store.boolcliente=!0),21==e.id&&(this.store.boolcortesia=!0)})),this.$api.defaults.headers.common["Authorization"]="Bearer "+e.data.token,localStorage.setItem("tokenMulti",e.data.token)})).catch((e=>{console.log(e),this.$q.notify({message:e.response.data.message,color:"negative",position:"top",timeout:2e3})})).finally((()=>{this.loading=!1}))}}};var vc=l(7605),wc=l(2133);const _c=(0,r.Z)(fc,[["render",bc],["__scopeId","data-v-b123d202"]]),yc=_c;D()(fc,"components",{QLayout:vc.Z,QPageContainer:wc.Z,QPage:y.Z,QCard:Ce.Z,QCardSection:De.Z,QForm:Ie.Z,QInput:me.Z,QIcon:pe.Z,QCheckbox:Oo.Z,QBtn:ue.Z});const Cc={class:"row"},Dc={class:"col-12"},xc={key:0},Ic=(0,s.Uk)("Actualizar"),Vc=(0,s.Uk)("Eliminar"),Wc=(0,s._)("div",{class:"text-h6"},"Registrar Cortesia",-1),Tc={class:"row"},Mc={class:"col-12"},Ac={class:"col-12"},Ec=(0,s._)("div",{class:"text-h6"},"Modificar Cortesia",-1),Sc={class:"row"},qc={class:"col-3"},jc={class:"col-3"},Lc={class:"col-3"},Nc={class:"col-3"},kc={class:"col-12"};function Oc(e,t,l,a,i,n){const d=(0,s.up)("q-btn"),r=(0,s.up)("q-icon"),c=(0,s.up)("q-input"),u=(0,s.up)("q-td"),m=(0,s.up)("q-item-label"),p=(0,s.up)("q-item-section"),h=(0,s.up)("q-item"),g=(0,s.up)("q-list"),b=(0,s.up)("q-btn-dropdown"),f=(0,s.up)("q-table"),v=(0,s.up)("q-space"),w=(0,s.up)("q-card-section"),_=(0,s.up)("q-form"),y=(0,s.up)("q-card"),C=(0,s.up)("q-dialog"),D=(0,s.up)("q-toggle"),x=(0,s.up)("q-page"),I=(0,s.Q2)("close-popup");return(0,s.wg)(),(0,s.j4)(x,null,{default:(0,s.w5)((()=>[(0,s._)("div",Cc,[(0,s._)("div",Dc,[(0,s.Wm)(f,{dense:"",title:"Gestionar Cortesias","rows-per-page-options":[20,50,100,0],rows:i.cortesias,columns:i.cortesiaColumns,filter:i.cortesiaFilter},{"top-right":(0,s.w5)((()=>[(0,s.Wm)(d,{color:"green",icon:"add_circle",label:"Agregar",onClick:t[0]||(t[0]=e=>i.cortesiaDialog=!0)}),(0,s.Wm)(c,{outlined:"",dense:"",debounce:"300",modelValue:i.cortesiaFilter,"onUpdate:modelValue":t[1]||(t[1]=e=>i.cortesiaFilter=e),placeholder:"Buscar"},{append:(0,s.w5)((()=>[(0,s.Wm)(r,{name:"search"})])),_:1},8,["modelValue"])])),"body-cell-user":(0,s.w5)((e=>[(0,s.Wm)(u,{props:e},{default:(0,s.w5)((()=>[null!=e.row.user?((0,s.wg)(),(0,s.iD)("div",xc,(0,Lt.zw)(e.row.user.name),1)):(0,s.kq)("",!0)])),_:2},1032,["props"])])),"body-cell-opciones":(0,s.w5)((e=>[(0,s.Wm)(u,{"auto-width":"",props:e},{default:(0,s.w5)((()=>[(0,s.Wm)(b,{color:"primary",label:"Opciones","dropdown-icon":"more_vert"},{default:(0,s.w5)((()=>[(0,s.Wm)(g,null,{default:(0,s.w5)((()=>[(0,s.wy)(((0,s.wg)(),(0,s.j4)(h,{clickable:"",onClick:t=>{i.cortesiaUpdateDialog=!0,i.cortesia2=e.row,this.store.cortesia=e.row.cortesia}},{default:(0,s.w5)((()=>[(0,s.Wm)(p,null,{default:(0,s.w5)((()=>[(0,s.Wm)(m,null,{default:(0,s.w5)((()=>[Ic])),_:1})])),_:1})])),_:2},1032,["onClick"])),[[I]]),(0,s.wy)(((0,s.wg)(),(0,s.j4)(h,{clickable:"",onClick:t=>n.cortesiaDelete(e.row.id,e.pageIndex)},{default:(0,s.w5)((()=>[(0,s.Wm)(p,null,{default:(0,s.w5)((()=>[(0,s.Wm)(m,null,{default:(0,s.w5)((()=>[Vc])),_:1})])),_:1})])),_:2},1032,["onClick"])),[[I]])])),_:2},1024)])),_:2},1024)])),_:2},1032,["props"])])),_:1},8,["rows","columns","filter"])])]),(0,s.Wm)(C,{modelValue:i.cortesiaDialog,"onUpdate:modelValue":t[3]||(t[3]=e=>i.cortesiaDialog=e)},{default:(0,s.w5)((()=>[(0,s.Wm)(y,null,{default:(0,s.w5)((()=>[(0,s.Wm)(w,{class:"row items-center q-pb-none"},{default:(0,s.w5)((()=>[Wc,(0,s.Wm)(v),(0,s.wy)((0,s.Wm)(d,{icon:"close",flat:"",round:"",dense:""},null,512),[[I]])])),_:1}),(0,s.Wm)(w,null,{default:(0,s.w5)((()=>[(0,s.Wm)(_,{onSubmit:(0,o.iM)(n.cortesiaCreate,["prevent"])},{default:(0,s.w5)((()=>[(0,s._)("div",Tc,[(0,s._)("div",Mc,[(0,s.Wm)(c,{dense:"",outlined:"",label:"Cantidad de cortesia",modelValue:i.cortesia.cantidad,"onUpdate:modelValue":t[2]||(t[2]=e=>i.cortesia.cantidad=e)},null,8,["modelValue"])]),(0,s._)("div",Ac,[(0,s.Wm)(d,{loading:i.loading,color:"green",icon:"add_circle",class:"full-width",type:"submit",label:"Guardar"},null,8,["loading"])])])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,s.Wm)(C,{modelValue:i.cortesiaUpdateDialog,"onUpdate:modelValue":t[8]||(t[8]=e=>i.cortesiaUpdateDialog=e),"full-width":""},{default:(0,s.w5)((()=>[(0,s.Wm)(y,null,{default:(0,s.w5)((()=>[(0,s.Wm)(w,{class:"row items-center q-pb-none"},{default:(0,s.w5)((()=>[Ec,(0,s.Wm)(v),(0,s.wy)((0,s.Wm)(d,{icon:"close",flat:"",round:"",dense:""},null,512),[[I]])])),_:1}),(0,s.Wm)(w,null,{default:(0,s.w5)((()=>[(0,s.Wm)(_,{onSubmit:(0,o.iM)(n.cortesiaUpdate,["prevent"])},{default:(0,s.w5)((()=>[(0,s._)("div",Sc,[(0,s._)("div",qc,[(0,s.Wm)(c,{dense:"",outlined:"",label:"Serie",modelValue:i.cortesia2.serie,"onUpdate:modelValue":t[4]||(t[4]=e=>i.cortesia2.serie=e)},null,8,["modelValue"])]),(0,s._)("div",jc,[(0,s.Wm)(c,{dense:"",outlined:"",label:"Precio",modelValue:i.cortesia2.precio,"onUpdate:modelValue":t[5]||(t[5]=e=>i.cortesia2.precio=e),type:"number",step:"0.01"},null,8,["modelValue"])]),(0,s._)("div",Lc,[(0,s.Wm)(c,{dense:"",outlined:"",label:"Descripcion",modelValue:i.cortesia2.descripcion,"onUpdate:modelValue":t[6]||(t[6]=e=>i.cortesia2.descripcion=e)},null,8,["modelValue"])]),(0,s._)("div",Nc,[(0,s.Wm)(D,{"false-value":"NO",label:"Promo "+i.cortesia2.promo,"true-value":"SI",color:"green",modelValue:i.cortesia2.promo,"onUpdate:modelValue":t[7]||(t[7]=e=>i.cortesia2.promo=e)},null,8,["label","modelValue"])]),(0,s._)("div",kc,[(0,s.Wm)(d,{color:"yellow-8",icon:"edit",class:"full-width",type:"submit",label:"Modificar"})])])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}const Uc={name:"Cortesia",data(){return{loading:!1,cortesiaFilter:"",cortesia2:{},cortesiaDialog:!1,cortesiaUpdateDialog:!1,store:(0,ne.c)(),cortesiaColumns:[{label:"ID",field:"id",name:"id",sortable:!0},{label:"Hora",field:"time",name:"time",sortable:!0},{label:"Fecha",field:"date",name:"date",sortable:!0},{label:"user",field:"user",name:"user"}],cortesias:[],cortesia:{}}},created(){this.cortesiaGet()},methods:{cortesiaGet(){this.$api.get("cortesia").then((e=>{this.cortesias=e.data})).catch((e=>{console.log(e)}))},cortesiaCreate(){this.loading=!0,this.$api.post("cortesia",this.cortesia).then((e=>{this.loading=!1,this.cortesiaGet(),this.cortesiaDialog=!1}))},cortesiaUpdate(){this.$q.loading.show(),this.$api.put("cortesia/"+this.cortesia2.id,this.cortesia2).then((e=>{this.$q.loading.hide(),console.log(e.data),this.cortesia2={};let t=this.store.cortesias.findIndex((t=>t.id==e.data.id));this.store.cortesias[t]=e.data,this.cortesiaUpdateDialog=!1}))},cortesiaDelete(e,t){this.$q.dialog({title:"Eliminar Cortesia",message:"¿Esta seguro de eliminar la Cortesia?",ok:{push:!0},cancel:{push:!0,color:"negative"}}).onOk((()=>{this.$q.loading.show(),this.$api.delete("cortesia/"+e).then((e=>{this.store.cortesias.splice(t,1),this.$q.loading.hide(),this.$q.notify({message:"Cortesia eliminada",color:"positive",icon:"done"})}))}))}}},Fc=(0,r.Z)(Uc,[["render",Oc]]),Zc=Fc;D()(Uc,"components",{QPage:y.Z,QTable:ce.Z,QBtn:ue.Z,QInput:me.Z,QIcon:pe.Z,QTd:he.Z,QBtnDropdown:be.Z,QList:fe.Z,QItem:ve.Z,QItemSection:we.Z,QItemLabel:_e.Z,QDialog:ye.Z,QCard:Ce.Z,QCardSection:De.Z,QSpace:xe.Z,QForm:Ie.Z,QToggle:We.Z}),D()(Uc,"directives",{ClosePopup:Me.Z});const zc={class:"q-pa-md"},Qc={class:"text-h7"},Rc=(0,s.Uk)(" REGISTRO DE NUEVO USUARIO"),Pc={class:"row"},Yc={class:"col-6"},$c={class:"col-6"},Bc=(0,s._)("div",{class:"text-5"},"Permisos",-1),Gc={class:"text-h7"},Hc=(0,s.Uk)(" MODIFICAR DATOS DE USUARIO"),Kc=(0,s._)("span",{class:"q-ml-sm"},"Seguro de eliminar Registro.",-1),Jc={class:"text-h7 text-white"},Xc=(0,s.Uk)(" PERMISOS DE ACCESO");function eu(e,t,l,a,i,n){const d=(0,s.up)("q-btn"),r=(0,s.up)("q-icon"),c=(0,s.up)("q-card-section"),u=(0,s.up)("q-input"),m=(0,s.up)("q-checkbox"),p=(0,s.up)("q-form"),h=(0,s.up)("q-card"),g=(0,s.up)("q-dialog"),b=(0,s.up)("q-td"),f=(0,s.up)("q-table"),v=(0,s.up)("q-avatar"),w=(0,s.up)("q-card-actions"),_=(0,s.Q2)("close-popup");return(0,s.wg)(),(0,s.iD)("div",zc,[(0,s.Wm)(d,{label:"Nuevo usuario",color:"positive",onClick:n.regDialog,icon:"add_circle",class:"q-mb-xs"},null,8,["onClick"]),(0,s.Wm)(g,{modelValue:i.alert,"onUpdate:modelValue":t[5]||(t[5]=e=>i.alert=e)},{default:(0,s.w5)((()=>[(0,s.Wm)(h,{style:{"max-width":"80%",width:"50%"}},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{class:"bg-green-14 text-white"},{default:(0,s.w5)((()=>[(0,s._)("div",Qc,[(0,s.Wm)(r,{name:"add_circle"}),Rc])])),_:1}),(0,s.Wm)(c,{class:"q-pt-xs"},{default:(0,s.w5)((()=>[(0,s.Wm)(p,{onSubmit:n.onSubmit,onReset:n.onReset,class:"q-gutter-md"},{default:(0,s.w5)((()=>[(0,s._)("div",Pc,[(0,s._)("div",Yc,[(0,s.Wm)(u,{filled:"",modelValue:i.dato.name,"onUpdate:modelValue":t[0]||(t[0]=e=>i.dato.name=e),type:"text",label:"Nombre ",hint:"Ingresar Nombre","lazy-rules":"",rules:[e=>e.length>0||"Por favor ingresa datos"]},null,8,["modelValue","rules"]),(0,s.Wm)(u,{filled:"",modelValue:i.dato.nick,"onUpdate:modelValue":t[1]||(t[1]=e=>i.dato.nick=e),type:"text",label:"Nick Name ",hint:"Ingresar Nombre","lazy-rules":"",rules:[e=>e.length>0||"Por favor ingresa datos"]},null,8,["modelValue","rules"]),(0,s.Wm)(u,{filled:"",modelValue:i.dato.email,"onUpdate:modelValue":t[2]||(t[2]=e=>i.dato.email=e),type:"email",label:"Email",hint:"Correo electronico","lazy-rules":"",rules:[e=>e.length>0||"Por favor ingresa datos"]},null,8,["modelValue","rules"]),(0,s.Wm)(u,{filled:"",modelValue:i.dato.password,"onUpdate:modelValue":t[3]||(t[3]=e=>i.dato.password=e),type:"password",label:"Contraseña",hint:"Contraseña","lazy-rules":"",rules:[e=>e.length>0||"Por favor ingresa datos"]},null,8,["modelValue","rules"]),(0,s.Wm)(u,{filled:"",modelValue:i.dato.fechaLimite,"onUpdate:modelValue":t[4]||(t[4]=e=>i.dato.fechaLimite=e),type:"date",label:"Fecha Limite","lazy-rules":"",rules:[e=>e.length>0||"Por favor ingresa datos"]},null,8,["modelValue","rules"])]),(0,s._)("div",$c,[Bc,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.permisos,((e,t)=>((0,s.wg)(),(0,s.j4)(m,{style:{width:"100%"},key:t,label:e.nombre,modelValue:e.estado,"onUpdate:modelValue":t=>e.estado=t},null,8,["label","modelValue","onUpdate:modelValue"])))),128))])]),(0,s._)("div",null,[(0,s.Wm)(d,{label:"Crear",type:"submit",color:"positive",icon:"add_circle"}),(0,s.wy)((0,s.Wm)(d,{label:"Cancelar",icon:"delete",color:"negative"},null,512),[[_]])])])),_:1},8,["onSubmit","onReset"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,s.Wm)(f,{filter:i.filter,title:"REGISTRO DE USUARIOS",rows:i.data,columns:i.columns,"row-key":"name","rows-per-page-options":[50,100]},{"top-right":(0,s.w5)((()=>[(0,s.Wm)(u,{borderless:"",dense:"",debounce:"300",modelValue:i.filter,"onUpdate:modelValue":t[6]||(t[6]=e=>i.filter=e),placeholder:"Search"},{append:(0,s.w5)((()=>[(0,s.Wm)(r,{name:"search"})])),_:1},8,["modelValue"])])),"body-cell-permisos":(0,s.w5)((e=>[(0,s.Wm)(b,{key:"permisos",props:e},{default:(0,s.w5)((()=>[(0,s._)("ul",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.row.permisos,((e,t)=>((0,s.wg)(),(0,s.iD)("li",{key:t},(0,Lt.zw)(e.nombre),1)))),128))])])),_:2},1032,["props"])])),"body-cell-opcion":(0,s.w5)((e=>[(0,s.Wm)(b,{key:"opcion",props:e},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{dense:"",round:"",flat:"",color:"yellow",onClick:t=>n.editRow(e),icon:"edit"},null,8,["onClick"]),(0,s.Wm)(d,{dense:"",round:"",flat:"",color:"positive",onClick:t=>n.cambiopass(e),icon:"vpn_key"},null,8,["onClick"]),(0,s.Wm)(d,{dense:"",round:"",flat:"",color:"green-10",onClick:t=>n.mispermisos(e),icon:"post_add"},null,8,["onClick"]),(0,s.Wm)(d,{dense:"",round:"",flat:"",color:"red",onClick:t=>n.deleteRow(e),icon:"delete"},null,8,["onClick"])])),_:2},1032,["props"])])),_:1},8,["filter","rows","columns"]),(0,s.Wm)(g,{modelValue:i.dialog_mod,"onUpdate:modelValue":t[9]||(t[9]=e=>i.dialog_mod=e)},{default:(0,s.w5)((()=>[(0,s.Wm)(h,{style:{"max-width":"80%",width:"50%"}},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{class:"bg-warning text-white"},{default:(0,s.w5)((()=>[(0,s._)("div",Gc,[(0,s.Wm)(r,{name:"edit"}),Hc])])),_:1}),(0,s.Wm)(c,{class:"q-pt-xs"},{default:(0,s.w5)((()=>[(0,s.Wm)(p,{onSubmit:n.onMod,class:"q-gutter-md"},{default:(0,s.w5)((()=>[(0,s.Wm)(u,{filled:"",modelValue:i.dato2.name,"onUpdate:modelValue":t[7]||(t[7]=e=>i.dato2.name=e),type:"text",label:"Nombre ",hint:"Ingresar Nombre","lazy-rules":"",rules:[e=>e.length>0||"Por favor ingresa datos"]},null,8,["modelValue","rules"]),(0,s.Wm)(u,{filled:"",modelValue:i.dato2.email,"onUpdate:modelValue":t[8]||(t[8]=e=>i.dato2.email=e),type:"email",label:"Email",hint:"Correo electronico","lazy-rules":"",rules:[e=>e.length>0||"Por favor ingresa datos"]},null,8,["modelValue","rules"]),(0,s._)("div",null,[(0,s.Wm)(d,{label:"Modificar",type:"submit",color:"positive",icon:"add_circle"}),(0,s.wy)((0,s.Wm)(d,{label:"Cancelar",icon:"delete",color:"negative"},null,512),[[_]])])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,s.Wm)(g,{modelValue:i.dialog_del,"onUpdate:modelValue":t[10]||(t[10]=e=>i.dialog_del=e)},{default:(0,s.w5)((()=>[(0,s.Wm)(h,null,{default:(0,s.w5)((()=>[(0,s.Wm)(c,{class:"row items-center"},{default:(0,s.w5)((()=>[(0,s.Wm)(v,{icon:"clear",color:"red","text-color":"white"}),Kc])),_:1}),(0,s.Wm)(w,{align:"right"},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{flat:"",label:"Eliminar",color:"deep-orange",onClick:n.onDel},null,8,["onClick"]),(0,s.wy)((0,s.Wm)(d,{flat:"",label:"Cancelar",color:"primary"},null,512),[[_]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,s.Wm)(g,{modelValue:i.modelpermiso,"onUpdate:modelValue":t[11]||(t[11]=e=>i.modelpermiso=e)},{default:(0,s.w5)((()=>[(0,s.Wm)(h,{style:{width:"700px","max-width":"80vw"}},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{class:"bg-info"},{default:(0,s.w5)((()=>[(0,s._)("div",Jc,[(0,s.Wm)(r,{name:"folder"}),Xc])])),_:1}),(0,s.Wm)(c,null,{default:(0,s.w5)((()=>[(0,s.Wm)(p,{onSubmit:(0,o.iM)(n.updatepermisos,["prevent"])},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.permisos2,((e,t)=>((0,s.wg)(),(0,s.j4)(m,{style:{width:"100%"},key:t,label:e.nombre,modelValue:e.estado,"onUpdate:modelValue":t=>e.estado=t},null,8,["label","modelValue","onUpdate:modelValue"])))),128)),(0,s.Wm)(d,{type:"submit",color:"info",icon:"send",label:"Actualizar"})])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])}const{addToDate:tu}=de.ZP,lu={name:"User",data(){return{alert:!1,dialog_mod:!1,dialog_del:!1,fecha:de.ZP.formatDate(new Date,"YYYY-MM-DD"),filter:"",dato:{fechaLimite:No()(this.fecha).add(36,"months").format("YYYY-MM-DD")},model:"",dato2:{},options:[],props:[],unidades:[],permisos:[],permisos2:[],modelpermiso:!1,uni:{},columns:[{name:"name",align:"left",label:"NOMBRE ",field:"name",sortable:!0},{name:"nick",align:"left",label:"NICK ",field:"nick",sortable:!0},{name:"email",align:"left",label:"E-MAIL",field:"email",sortable:!0},{name:"permisos",align:"left",label:"PERMISOS",field:"permisos",sortable:!0},{name:"opcion",label:"OPCIÓN",field:"action",sortable:!1}],data:[]}},created(){this.misdatos(),this.$api.get("permiso").then((e=>{e.data.forEach((e=>{this.permisos.push({id:e.id,nombre:e.nombre,estado:!1}),this.permisos2.push({id:e.id,nombre:e.nombre,estado:!1})}))}))},methods:{regDialog(){this.dato={fechaLimite:No()(this.fecha).add(36,"months").format("YYYY-MM-DD")},this.alert=!0},updatepermisos(){this.$api.put("updatepermisos/"+this.dato2.id,{permisos:this.permisos2}).then((e=>{this.modelpermiso=!1,this.misdatos()})).catch((e=>{this.$q.notify({message:e.response.data.message,icon:"close",color:"red"})}))},mispermisos(e){let t;this.modelpermiso=!0,this.dato2=e.row,this.permisos2.forEach((e=>{t=this.dato2.permisos.find((t=>t.pivot.permiso_id==e.id)),e.estado=void 0!=t}))},misdatos(){this.$q.loading.show(),this.$api.get("user").then((e=>{console.log(e.data),this.data=e.data,this.$q.loading.hide()}))},editRow(e){this.dato2=e.row,this.dato2.unid_id=e.row.unid,this.dialog_mod=!0},deleteRow(e){this.dato2=e.row,this.dialog_del=!0},onSubmit(){this.$q.loading.show(),this.$api.post("user",{name:this.dato.name,password:this.dato.password,email:this.dato.email,permisos:this.permisos}).then((e=>{this.$q.notify({color:"green-4",textColor:"white",icon:"cloud_done",message:"Creado correctamente"}),this.dato={fechaLimite:No()(this.fecha).add(36,"months").format("YYYY-MM-DD")},this.alert=!1,this.misdatos()})).catch((e=>{console.log(e.response.data),this.$q.notify({message:e.response.data.message,icon:"close",color:"red"}),this.$q.loading.hide()}))},onMod(){this.$q.loading.show(),this.$api.put("user/"+this.dato2.id,{name:this.dato2.name,email:this.dato2.email}).then((e=>{this.$q.notify({color:"green-4",textColor:"white",icon:"cloud_done",message:"Modificado correctamente"}),this.dialog_mod=!1,this.misdatos()}))},onDel(){this.$q.loading.show(),this.$api.delete("user/"+this.dato2.id).then((e=>{this.$q.notify({color:"green-4",textColor:"white",icon:"cloud_done",message:"Eliminado correctamente"}),this.dialog_del=!1,this.misdatos()})).catch((e=>{this.$q.loading.hide(),this.$q.notify({message:e.response.data.message,icon:"error",color:"red"})}))},onReset(){this.dato.nombre=null,this.dato.inicio=0,this.dato.fin=0},cambiopass(e){this.$q.dialog({title:"CAMBIAR PASSWORD",message:"Ingresar nueva contraseña",prompt:{model:"",type:"password"},cancel:!0,persistent:!0}).onOk((t=>{this.$q.loading.show(),this.$api.put("updatePassword/"+e.row.id,{password:t}).then((e=>{this.$q.loading.hide()}))})).onCancel((()=>{})).onDismiss((()=>{}))}}};var ou=l(1357);const au=(0,r.Z)(lu,[["render",eu]]),iu=au;D()(lu,"components",{QBtn:ue.Z,QDialog:ye.Z,QCard:Ce.Z,QCardSection:De.Z,QIcon:pe.Z,QForm:Ie.Z,QInput:me.Z,QCheckbox:Oo.Z,QTable:ce.Z,QTd:he.Z,QAvatar:ou.Z,QCardActions:Uo.Z}),D()(lu,"directives",{ClosePopup:Me.Z});const su=[{path:"/",component:()=>Promise.all([l.e(736),l.e(655)]).then(l.bind(l,3655)),children:[{path:"",component:I,meta:{requiresAuth:!0}},{path:"peliculas",component:Ee,meta:{requiresAuth:!0}},{path:"distribuidores",component:it,meta:{requiresAuth:!0}},{path:"cuis",component:gt,meta:{requiresAuth:!0}},{path:"cufd",component:Hl,meta:{requiresAuth:!0}},{path:"sincronizacion",component:jt,meta:{requiresAuth:!0}},{path:"salas",component:ml,meta:{requiresAuth:!0}},{path:"tarifas",component:jl,meta:{requiresAuth:!0}},{path:"sale",component:Ii,meta:{requiresAuth:!0}},{path:"programa",component:Zo,meta:{requiresAuth:!0}},{path:"rubro",component:Ji,meta:{requiresAuth:!0}},{path:"productos",component:Ws,meta:{requiresAuth:!0}},{path:"candy",component:En,meta:{requiresAuth:!0}},{path:"listaVenta",component:Gn,meta:{requiresAuth:!0}},{path:"listaVentaCandy",component:md,meta:{requiresAuth:!0}},{path:"eventoSignificativo",component:Dd,meta:{requiresAuth:!0}},{path:"rental",component:Jd,meta:{requiresAuth:!0}},{path:"prevalorada",component:vr,meta:{requiresAuth:!0}},{path:"cliente",component:Tr,meta:{requiresAuth:!0}},{path:"cajaboleteria",component:Zr,meta:{requiresAuth:!0}},{path:"cajacandy",component:ec,meta:{requiresAuth:!0}},{path:"cortesia",component:Zc,meta:{requiresAuth:!0}},{path:"usuarios",component:iu,meta:{requiresAuth:!0}}]},{path:"/login",component:yc},{path:"/:catchAll(.*)*",component:()=>l.e(862).then(l.bind(l,1862))}],nu=su,du=(0,m.BC)((function(){const e=g.r5,t=(0,g.p7)({scrollBehavior:()=>({left:0,top:0}),routes:nu,history:e("")});return t.beforeEach(((e,t,l)=>{if(e.matched.some((e=>e.meta.requiresAuth))){if((0,ne.c)().isLoggedIn)return void l();l("/login")}else l()})),t}));async function ru(e,t){const l=e(u);l.use(a.Z,t);const o="function"===typeof h?await h({}):h;l.use(o);const s=(0,i.Xl)("function"===typeof du?await du({store:o}):du);return o.use((({store:e})=>{e.router=s})),{app:l,store:o,router:s}}var cu=l(8934),uu=l(7286),mu=l(6827),pu=l(6950),hu=l(7159);const gu={config:{},lang:cu.Z,plugins:{Dialog:uu.Z,Notify:mu.Z,Loading:pu.Z,LoadingBar:hu.Z}};var bu=l(368);(0,bu.z)("service-worker.js",{ready(){},registered(){},cached(){},updatefound(){},updated(){},offline(){},error(){}}),/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&window.navigator.standalone&&l.e(736).then(l.t.bind(l,4848,23));const fu="";async function vu({app:e,router:t,store:l},o){let a=!1;const i=e=>{try{return t.resolve(e).href}catch(l){}return Object(e)===e?null:e},s=e=>{if(a=!0,"string"===typeof e&&/^https?:\/\//.test(e))return void(window.location.href=e);const t=i(e);null!==t&&(window.location.href=t,window.location.reload())},n=window.location.href.replace(window.location.origin,"");for(let r=0;!1===a&&r<o.length;r++)try{await o[r]({app:e,router:t,store:l,ssrContext:null,redirect:s,urlPath:n,publicPath:fu})}catch(d){return d&&d.url?void s(d.url):void console.error("[Quasar] boot error:",d)}!0!==a&&(e.use(t),e.mount("#q-app"))}ru(o.ri,gu).then((e=>Promise.all([Promise.resolve().then(l.bind(l,1569))]).then((t=>{const l=t.map((e=>e.default)).filter((e=>"function"===typeof e));vu(e,l)}))))},1569:(e,t,l)=>{"use strict";l.r(t),l.d(t,{api:()=>n,default:()=>d});var o=l(3340),a=l(9981),i=l.n(a),s=l(3285);const n=i().create({baseURL:"http://10.200.100.20:81/api/"}),d=(0,o.xr)((({app:e,router:t})=>{e.config.globalProperties.$axios=i(),e.config.globalProperties.$api=n;const l=localStorage.getItem("tokenMulti");l?(n.defaults.headers.common.Authorization=`Bearer ${l}`,n.post("me").then((e=>{console.log(e.data),(0,s.c)().user=e.data,(0,s.c)().isLoggedIn=!0,e.data.permisos.forEach((e=>{1==e.id&&((0,s.c)().booluser=!0),2==e.id&&((0,s.c)().boolcuis=!0),3==e.id&&((0,s.c)().boolsincr=!0),4==e.id&&((0,s.c)().boolcufd=!0),5==e.id&&((0,s.c)().boolevento=!0),6==e.id&&((0,s.c)().boolmovie=!0),7==e.id&&((0,s.c)().booldistrib=!0),8==e.id&&((0,s.c)().boolsala=!0),9==e.id&&((0,s.c)().booltarifa=!0),10==e.id&&((0,s.c)().boolrubro=!0),11==e.id&&((0,s.c)().boolproducto=!0),12==e.id&&((0,s.c)().boolprogram=!0),13==e.id&&((0,s.c)().boolboleteria=!0),14==e.id&&((0,s.c)().boollistbol=!0),15==e.id&&((0,s.c)().boolcandy=!0),16==e.id&&((0,s.c)().boollistcandy=!0),17==e.id&&((0,s.c)().boolcajabol=!0),18==e.id&&((0,s.c)().boolcajacandy=!0),19==e.id&&((0,s.c)().boolalquiler=!0),20==e.id&&((0,s.c)().boolcliente=!0),21==e.id&&((0,s.c)().boolcortesia=!0)}))})).catch((l=>{e.config.globalProperties.$api.defaults.headers.common["Authorization"]="",(0,s.c)().user={},localStorage.removeItem("tokenMulti"),(0,s.c)().isLoggedIn=!1,(0,s.c)().booluser=!1,(0,s.c)().boolcuis=!1,(0,s.c)().boolsincr=!1,(0,s.c)().boolcufd=!1,(0,s.c)().boolevento=!1,(0,s.c)().boolmovie=!1,(0,s.c)().booldistrib=!1,(0,s.c)().boolsala=!1,(0,s.c)().booltarifa=!1,(0,s.c)().boolrubro=!1,(0,s.c)().boolproducto=!1,(0,s.c)().boolprogram=!1,(0,s.c)().boolboleteria=!1,(0,s.c)().boollistbol=!1,(0,s.c)().boolcandy=!1,(0,s.c)().boollistcandy=!1,(0,s.c)().boolcajabol=!1,(0,s.c)().boolcajacandy=!1,(0,s.c)().boolalquiler=!1,(0,s.c)().boolcliente=!1,(0,s.c)().boolcortesia=!1,t.push("/login")}))):(t.push("/login"),(0,s.c)().user={},(0,s.c)().isLoggedIn=!1,(0,s.c)().booluser=!1,(0,s.c)().boolcuis=!1,(0,s.c)().boolsincr=!1,(0,s.c)().boolcufd=!1,(0,s.c)().boolevento=!1,(0,s.c)().boolmovie=!1,(0,s.c)().booldistrib=!1,(0,s.c)().boolsala=!1,(0,s.c)().booltarifa=!1,(0,s.c)().boolrubro=!1,(0,s.c)().boolproducto=!1,(0,s.c)().boolprogram=!1,(0,s.c)().boolboleteria=!1,(0,s.c)().boollistbol=!1,(0,s.c)().boolcandy=!1,(0,s.c)().boollistcandy=!1,(0,s.c)().boolcajabol=!1,(0,s.c)().boolcajacandy=!1,(0,s.c)().boolalquiler=!1,(0,s.c)().boolcliente=!1,(0,s.c)().boolcortesia=!1,localStorage.removeItem("tokenMulti"),(0,s.c)().isLoggedIn=!1)}))},3285:(e,t,l)=>{"use strict";l.d(t,{c:()=>a});var o=l(2502);const a=(0,o.Q_)("global",{state:()=>({counter:0,movies:[],user:{},eventNumber:0,movieSingleTon:!1,isLoggedIn:!!localStorage.getItem("tokenMulti"),distributors:[],distributor:{},distributorSingleTon:!1,salas:[],salaSingleTon:!1,prices:[],priceSingleTon:!1,rubros:[],rubroSingleTon:!1,rubro:{},productos:[],productoSingleTon:!1,detallecandy:[],salas2:[],salas3:[],movies2:[],movies3:[],prices2:[],prices3:[],booluser:!1,boolcuis:!1,boolsincr:!1,boolcufd:!1,boolevento:!1,boolmovie:!1,booldistrib:!1,boolsala:!1,booltarifa:!1,boolrubro:!1,boolproducto:!1,boolprogram:!1,boolboleteria:!1,boollistbol:!1,boolcandy:!1,boollistcandy:!1,boolcajabol:!1,boolcajacandy:!1,boolalquiler:!1,boolcliente:!1,boolcortesia:!1}),getters:{doubleCount:e=>2*e.counter},actions:{increment(){this.counter++}}})},6700:(e,t,l)=>{var o={"./af":3902,"./af.js":3902,"./ar":6314,"./ar-dz":5666,"./ar-dz.js":5666,"./ar-kw":6591,"./ar-kw.js":6591,"./ar-ly":7900,"./ar-ly.js":7900,"./ar-ma":5667,"./ar-ma.js":5667,"./ar-sa":4092,"./ar-sa.js":4092,"./ar-tn":1379,"./ar-tn.js":1379,"./ar.js":6314,"./az":1699,"./az.js":1699,"./be":8988,"./be.js":8988,"./bg":7437,"./bg.js":7437,"./bm":7947,"./bm.js":7947,"./bn":2851,"./bn-bd":4905,"./bn-bd.js":4905,"./bn.js":2851,"./bo":7346,"./bo.js":7346,"./br":1711,"./br.js":1711,"./bs":3706,"./bs.js":3706,"./ca":112,"./ca.js":112,"./cs":6406,"./cs.js":6406,"./cv":1853,"./cv.js":1853,"./cy":9766,"./cy.js":9766,"./da":6836,"./da.js":6836,"./de":9320,"./de-at":4904,"./de-at.js":4904,"./de-ch":6710,"./de-ch.js":6710,"./de.js":9320,"./dv":3274,"./dv.js":3274,"./el":286,"./el.js":286,"./en-au":143,"./en-au.js":143,"./en-ca":237,"./en-ca.js":237,"./en-gb":2428,"./en-gb.js":2428,"./en-ie":3349,"./en-ie.js":3349,"./en-il":3764,"./en-il.js":3764,"./en-in":7809,"./en-in.js":7809,"./en-nz":9851,"./en-nz.js":9851,"./en-sg":5594,"./en-sg.js":5594,"./eo":4483,"./eo.js":4483,"./es":2184,"./es-do":5777,"./es-do.js":5777,"./es-mx":9356,"./es-mx.js":9356,"./es-us":8496,"./es-us.js":8496,"./es.js":2184,"./et":7578,"./et.js":7578,"./eu":2092,"./eu.js":2092,"./fa":5927,"./fa.js":5927,"./fi":171,"./fi.js":171,"./fil":2416,"./fil.js":2416,"./fo":9937,"./fo.js":9937,"./fr":5172,"./fr-ca":8249,"./fr-ca.js":8249,"./fr-ch":7541,"./fr-ch.js":7541,"./fr.js":5172,"./fy":7907,"./fy.js":7907,"./ga":6361,"./ga.js":6361,"./gd":2282,"./gd.js":2282,"./gl":2630,"./gl.js":2630,"./gom-deva":680,"./gom-deva.js":680,"./gom-latn":6220,"./gom-latn.js":6220,"./gu":6272,"./gu.js":6272,"./he":5540,"./he.js":5540,"./hi":6067,"./hi.js":6067,"./hr":9669,"./hr.js":9669,"./hu":3396,"./hu.js":3396,"./hy-am":6678,"./hy-am.js":6678,"./id":4812,"./id.js":4812,"./is":4193,"./is.js":4193,"./it":7863,"./it-ch":959,"./it-ch.js":959,"./it.js":7863,"./ja":1809,"./ja.js":1809,"./jv":8657,"./jv.js":8657,"./ka":3290,"./ka.js":3290,"./kk":8418,"./kk.js":8418,"./km":7687,"./km.js":7687,"./kn":1375,"./kn.js":1375,"./ko":2641,"./ko.js":2641,"./ku":3518,"./ku.js":3518,"./ky":5459,"./ky.js":5459,"./lb":1978,"./lb.js":1978,"./lo":6915,"./lo.js":6915,"./lt":8948,"./lt.js":8948,"./lv":2548,"./lv.js":2548,"./me":8608,"./me.js":8608,"./mi":333,"./mi.js":333,"./mk":1876,"./mk.js":1876,"./ml":999,"./ml.js":999,"./mn":4098,"./mn.js":4098,"./mr":6111,"./mr.js":6111,"./ms":3717,"./ms-my":265,"./ms-my.js":265,"./ms.js":3717,"./mt":8980,"./mt.js":8980,"./my":6895,"./my.js":6895,"./nb":5348,"./nb.js":5348,"./ne":1493,"./ne.js":1493,"./nl":4419,"./nl-be":5576,"./nl-be.js":5576,"./nl.js":4419,"./nn":6907,"./nn.js":6907,"./oc-lnc":2321,"./oc-lnc.js":2321,"./pa-in":9239,"./pa-in.js":9239,"./pl":7627,"./pl.js":7627,"./pt":5703,"./pt-br":1623,"./pt-br.js":1623,"./pt.js":5703,"./ro":2747,"./ro.js":2747,"./ru":4420,"./ru.js":4420,"./sd":2148,"./sd.js":2148,"./se":2461,"./se.js":2461,"./si":2783,"./si.js":2783,"./sk":3306,"./sk.js":3306,"./sl":341,"./sl.js":341,"./sq":2768,"./sq.js":2768,"./sr":2451,"./sr-cyrl":3371,"./sr-cyrl.js":3371,"./sr.js":2451,"./ss":8812,"./ss.js":8812,"./sv":3820,"./sv.js":3820,"./sw":3615,"./sw.js":3615,"./ta":2869,"./ta.js":2869,"./te":2044,"./te.js":2044,"./tet":5861,"./tet.js":5861,"./tg":6999,"./tg.js":6999,"./th":1772,"./th.js":1772,"./tk":7443,"./tk.js":7443,"./tl-ph":9786,"./tl-ph.js":9786,"./tlh":2812,"./tlh.js":2812,"./tr":6952,"./tr.js":6952,"./tzl":9573,"./tzl.js":9573,"./tzm":5990,"./tzm-latn":6961,"./tzm-latn.js":6961,"./tzm.js":5990,"./ug-cn":2610,"./ug-cn.js":2610,"./uk":9498,"./uk.js":9498,"./ur":3970,"./ur.js":3970,"./uz":9006,"./uz-latn":26,"./uz-latn.js":26,"./uz.js":9006,"./vi":9962,"./vi.js":9962,"./x-pseudo":8407,"./x-pseudo.js":8407,"./yo":1962,"./yo.js":1962,"./zh-cn":8909,"./zh-cn.js":8909,"./zh-hk":4014,"./zh-hk.js":4014,"./zh-mo":996,"./zh-mo.js":996,"./zh-tw":6327,"./zh-tw.js":6327};function a(e){var t=i(e);return l(t)}function i(e){if(!l.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}a.keys=function(){return Object.keys(o)},a.resolve=i,e.exports=a,a.id=6700},7370:e=>{e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNTYgMzYwIj4NCgk8cGF0aA0KCQlkPSJNNDMuNCAzMDMuNGMwIDMuOC0yLjMgNi4zLTcuMSA2LjNoLTE1di0yMmgxNC40YzQuMyAwIDYuMiAyLjIgNi4yIDUuMiAwIDIuNi0xLjUgNC40LTMuNCA1IDIuOC40IDQuOSAyLjUgNC45IDUuNXptLTgtMTNIMjQuMXY2LjlIMzVjMi4xIDAgNC0xLjMgNC0zLjggMC0yLjItMS4zLTMuMS0zLjctMy4xem01LjEgMTIuNmMwLTIuMy0xLjgtMy43LTQtMy43SDI0LjJ2Ny43aDExLjdjMy40IDAgNC42LTEuOCA0LjYtNHptMzYuMyA0djIuN0g1NnYtMjJoMjAuNnYyLjdINTguOXY2LjhoMTQuNnYyLjNINTguOXY3LjVoMTcuOXptMjMtNS44djguNUg5N3YtOC41bC0xMS0xMy40aDMuNGw4LjkgMTEgOC44LTExaDMuNGwtMTAuOCAxMy40em0xOS4xLTEuOFYyOThjMC03LjkgNS4yLTEwLjcgMTIuNy0xMC43IDcuNSAwIDEzIDIuOCAxMyAxMC43djEuNGMwIDcuOS01LjUgMTAuOC0xMyAxMC44cy0xMi43LTMtMTIuNy0xMC44em0yMi43IDBWMjk4YzAtNS43LTMuOS04LTEwLTgtNiAwLTkuOCAyLjMtOS44IDh2MS40YzAgNS44IDMuOCA4LjEgOS44IDguMSA2IDAgMTAtMi4zIDEwLTguMXptMzcuMi0xMS42djIxLjloLTIuOWwtMTUuOC0xNy45djE3LjloLTIuOHYtMjJoM2wxNS42IDE4di0xOGgyLjl6bTM3LjkgMTAuMnYxLjNjMCA3LjgtNS4yIDEwLjQtMTIuNCAxMC40SDE5M3YtMjJoMTEuMmM3LjIgMCAxMi40IDIuOCAxMi40IDEwLjN6bS0zIDBjMC01LjMtMy4zLTcuNi05LjQtNy42aC04LjRWMzA3aDguNGM2IDAgOS41LTIgOS41LTcuN1YyOTh6bTUwLjgtNy42aC05Ljd2MTkuM2gtM3YtMTkuM2gtOS43di0yLjZoMjIuNHYyLjZ6bTM0LjQtMi42djIxLjloLTN2LTEwLjFoLTE2Ljh2MTBoLTIuOHYtMjEuOGgyLjh2OS4ySDI5NnYtOS4yaDIuOXptMzQuOSAxOS4ydjIuN2gtMjAuN3YtMjJoMjAuNnYyLjdIMzE2djYuOGgxNC41djIuM0gzMTZ2Ny41aDE3Ljh6TTI0IDM0MC4ydjcuM2gxMy45djIuNGgtMTR2OS42SDIxdi0yMmgyMHYyLjdIMjR6bTQxLjUgMTEuNGgtOS44djcuOUg1M3YtMjJoMTMuM2M1LjEgMCA4IDEuOSA4IDYuOCAwIDMuNy0yIDYuMy01LjYgN2w2IDguMmgtMy4zbC01LjgtOHptLTkuOC0yLjZINjZjMy4xIDAgNS4zLTEuNSA1LjMtNC43IDAtMy4zLTIuMi00LjEtNS4zLTQuMUg1NS43djguOHptNDcuOSA2LjJIODlsLTIgNC4zaC0zLjJsMTAuNy0yMi4ySDk4bDEwLjcgMjIuMmgtMy4ybC0yLTQuM3ptLTEtMi4zbC02LjMtMTMtNiAxM2gxMi4yem00Ni4zLTE1LjN2MjEuOUgxNDZ2LTE3LjJMMTM1LjcgMzU4aC0yLjFsLTEwLjItMTUuNnYxN2gtMi44di0yMS44aDNsMTEgMTYuOSAxMS4zLTE3aDN6bTM1IDE5LjN2Mi42aC0yMC43di0yMmgyMC42djIuN0gxNjZ2Ni44aDE0LjV2Mi4zSDE2NnY3LjZoMTcuOHptNDctMTkuM2wtOC4zIDIyaC0zbC03LjEtMTguNi03IDE4LjZoLTNsLTguMi0yMmgzLjNMMjA0IDM1Nmw2LjgtMTguNWgzLjRMMjIxIDM1Nmw2LjYtMTguNWgzLjN6bTEwIDExLjZ2LTEuNGMwLTcuOCA1LjItMTAuNyAxMi43LTEwLjcgNy42IDAgMTMgMi45IDEzIDEwLjd2MS40YzAgNy45LTUuNCAxMC44LTEzIDEwLjgtNy41IDAtMTIuNy0zLTEyLjctMTAuOHptMjIuOCAwdi0xLjRjMC01LjctNC04LTEwLThzLTkuOSAyLjMtOS45IDh2MS40YzAgNS44IDMuOCA4LjIgOS44IDguMiA2LjEgMCAxMC0yLjQgMTAtOC4yem0yOC4zIDIuNGgtOS44djcuOWgtMi44di0yMmgxMy4yYzUuMiAwIDggMS45IDggNi44IDAgMy43LTIgNi4zLTUuNiA3bDYgOC4yaC0zLjNsLTUuOC04em0tOS44LTIuNmgxMC4yYzMgMCA1LjItMS41IDUuMi00LjcgMC0zLjMtMi4xLTQuMS01LjItNC4xaC0xMC4ydjguOHptNDAuMy0xLjVsLTYuOCA1LjZ2Ni40aC0yLjl2LTIyaDIuOXYxMi4zbDE1LjItMTIuMmgzLjdsLTkuOSA4LjEgMTAuMyAxMy44aC0zLjZsLTguOS0xMnoiIC8+DQoJPHBhdGggZmlsbD0iIzA1MEExNCINCgkJZD0iTTE4OC40IDcxLjdhMTAuNCAxMC40IDAgMDEtMjAuOCAwIDEwLjQgMTAuNCAwIDExMjAuOCAwek0yMjQuMiA0NWMtMi4yLTMuOS01LTcuNS04LjItMTAuN2wtMTIgN2MtMy43LTMuMi04LTUuNy0xMi42LTcuM2E0OS40IDQ5LjQgMCAwMC05LjcgMTMuOSA1OSA1OSAwIDAxNDAuMSAxNGw3LjYtNC40YTU3IDU3IDAgMDAtNS4yLTEyLjV6TTE3OCAxMjUuMWM0LjUgMCA5LS42IDEzLjQtMS43di0xNGE0MCA0MCAwIDAwMTIuNS03LjIgNDcuNyA0Ny43IDAgMDAtNy4xLTE1LjMgNTkgNTkgMCAwMS0zMi4yIDI3Ljd2OC43YzQuNCAxLjIgOC45IDEuOCAxMy40IDEuOHpNMTMxLjggNDVjLTIuMyA0LTQgOC4xLTUuMiAxMi41bDEyIDdhNDAgNDAgMCAwMDAgMTQuNGM1LjcgMS41IDExLjMgMiAxNi45IDEuNWE1OSA1OSAwIDAxLTgtNDEuN2wtNy41LTQuM2MtMy4yIDMuMi02IDYuNy04LjIgMTAuNnoiIC8+DQoJPHBhdGggZmlsbD0iIzAwQjRGRiINCgkJZD0iTTIyNC4yIDk4LjRjMi4zLTMuOSA0LTggNS4yLTEyLjRsLTEyLTdhNDAgNDAgMCAwMDAtMTQuNWMtNS43LTEuNS0xMS4zLTItMTYuOS0xLjVhNTkgNTkgMCAwMTggNDEuN2w3LjUgNC40YzMuMi0zLjIgNi02LjggOC4yLTEwLjd6bS05Mi40IDBjMi4yIDQgNSA3LjUgOC4yIDEwLjdsMTItN2E0MCA0MCAwIDAwMTIuNiA3LjNjNC00LjEgNy4zLTguOCA5LjctMTMuOGE1OSA1OSAwIDAxLTQwLTE0bC03LjcgNC40YzEuMiA0LjMgMyA4LjUgNS4yIDEyLjR6bTQ2LjItODBjLTQuNSAwLTkgLjUtMTMuNCAxLjdWMzRhNDAgNDAgMCAwMC0xMi41IDcuMmMxLjUgNS43IDQgMTAuOCA3LjEgMTUuNGE1OSA1OSAwIDAxMzIuMi0yNy43VjIwYTUzLjMgNTMuMyAwIDAwLTEzLjQtMS44eiIgLz4NCgk8cGF0aCBmaWxsPSIjMDBCNEZGIg0KCQlkPSJNMTc4IDkuMmE2Mi42IDYyLjYgMCAxMS0uMSAxMjUuMkE2Mi42IDYyLjYgMCAwMTE3OCA5LjJtMC05LjJhNzEuNyA3MS43IDAgMTAwIDE0My41QTcxLjcgNzEuNyAwIDAwMTc4IDB6IiAvPg0KCTxwYXRoIGZpbGw9IiMwNTBBMTQiDQoJCWQ9Ik05Ni42IDIxMnY0LjNjLTkuMi0uOC0xNS40LTUuOC0xNS40LTE3LjhWMTgwaDQuNnYxOC40YzAgOC42IDQgMTIuNiAxMC44IDEzLjV6bTE2LTMxLjl2MTguNGMwIDguOS00LjMgMTIuOC0xMC45IDEzLjV2NC40YzkuMi0uNyAxNS41LTUuNiAxNS41LTE4di0xOC4zaC00Ljd6TTYyLjIgMTk5di0yLjJjMC0xMi43LTguOC0xNy40LTIxLTE3LjQtMTIuMSAwLTIwLjcgNC43LTIwLjcgMTcuNHYyLjJjMCAxMi44IDguNiAxNy42IDIwLjcgMTcuNiAxLjUgMCAzLS4xIDQuNC0uM2wxMS44IDYuMiAyLTMuMy04LjItNC02LjQtMy4xYTMyIDMyIDAgMDEtMy42LjJjLTkuOCAwLTE2LTMuOS0xNi0xMy4zdi0yLjJjMC05LjMgNi4yLTEzLjEgMTYtMTMuMSA5LjkgMCAxNi4zIDMuOCAxNi4zIDEzLjF2Mi4yYzAgNS4zLTIuMSA4LjctNS42IDEwLjhsNC44IDIuNGMzLjQtMi44IDUuNS03IDUuNS0xMy4yek0xNjggMjE1LjZoNS4xTDE1NiAxNzkuN2gtNC44bDE3IDM2ek0xNDMgMjA1bDcuNC0xNS43LTIuNC01LTE1LjEgMzEuNGg1LjFsMy4zLTdoMTguM2wtMS44LTMuN0gxNDN6bTEzMy43IDEwLjdoNS4ybC0xNy4zLTM1LjloLTQuOGwxNyAzNnptLTI1LTEwLjdsNy40LTE1LjctMi40LTUtMTUuMSAzMS40aDUuMWwzLjMtN2gxOC4zbC0xLjctMy43aC0xNC44em03My44LTIuNWM2LTEuMiA5LTUuNCA5LTExLjQgMC04LTQuNS0xMC45LTEyLjktMTAuOWgtMjEuNHYzNS41aDQuNnYtMzEuM2gxNi41YzUgMCA4LjUgMS40IDguNSA2LjcgMCA1LjItMy41IDcuNy04LjUgNy43aC0xMS40djQuMWgxMC43bDkuMyAxMi44aDUuNWwtOS45LTEzLjJ6bS0xMTcuNCA5LjljLTkuNyAwLTE0LjctMi41LTE4LjYtNi4zbC0yLjIgMy44YzUuMSA1IDExIDYuNyAyMSA2LjcgMS42IDAgMy4xLS4xIDQuNi0uM2wtMS45LTRoLTN6bTE4LjQtN2MwLTYuNC00LjctOC42LTEzLjgtOS40bC0xMC4xLTFjLTYuNy0uNy05LjMtMi4yLTkuMy01LjYgMC0yLjUgMS40LTQgNC42LTVsLTEuOC0zLjhjLTQuNyAxLjQtNy41IDQuMi03LjUgOC45IDAgNS4yIDMuNCA4LjcgMTMgOS42bDExLjMgMS4yYzYuNC42IDguOSAyIDguOSA1LjQgMCAyLjctMi4xIDQuNy02IDUuOGwxLjggMy45YzUuMy0xLjYgOC45LTQuNyA4LjktMTB6bS0yMC4zLTIxLjljNy45IDAgMTMuMyAxLjggMTguMSA1LjdsMS44LTMuOWEzMCAzMCAwIDAwLTE5LjYtNS45Yy0yIDAtNCAuMS01LjcuM2wxLjkgNCAzLjUtLjJ6IiAvPg0KCTxwYXRoIGZpbGw9IiMwMEI0RkYiDQoJCWQ9Ik0uNSAyNTEuOWMyOS42LS41IDU5LjItLjggODguOC0xbDg4LjctLjMgODguNy4zIDQ0LjQuNCA0NC40LjYtNDQuNC42LTQ0LjQuNC04OC43LjMtODguNy0uM2E3OTgxIDc5ODEgMCAwMS04OC44LTF6IiAvPg0KCTxwYXRoIGZpbGw9Im5vbmUiIGQ9Ik0tNTY1LjIgMzI0SC0yNTJ2MTUuOGgtMzEzLjJ6IiAvPg0KPC9zdmc+"}},t={};function l(o){var a=t[o];if(void 0!==a)return a.exports;var i=t[o]={id:o,loaded:!1,exports:{}};return e[o].call(i.exports,i,i.exports,l),i.loaded=!0,i.exports}l.m=e,(()=>{var e=[];l.O=(t,o,a,i)=>{if(!o){var s=1/0;for(c=0;c<e.length;c++){for(var[o,a,i]=e[c],n=!0,d=0;d<o.length;d++)(!1&i||s>=i)&&Object.keys(l.O).every((e=>l.O[e](o[d])))?o.splice(d--,1):(n=!1,i<s&&(s=i));if(n){e.splice(c--,1);var r=a();void 0!==r&&(t=r)}}return t}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[o,a,i]}})(),(()=>{l.n=e=>{var t=e&&e.__esModule?()=>e["default"]:()=>e;return l.d(t,{a:t}),t}})(),(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;l.t=function(o,a){if(1&a&&(o=this(o)),8&a)return o;if("object"===typeof o&&o){if(4&a&&o.__esModule)return o;if(16&a&&"function"===typeof o.then)return o}var i=Object.create(null);l.r(i);var s={};e=e||[null,t({}),t([]),t(t)];for(var n=2&a&&o;"object"==typeof n&&!~e.indexOf(n);n=t(n))Object.getOwnPropertyNames(n).forEach((e=>s[e]=()=>o[e]));return s["default"]=()=>o,l.d(i,s),i}})(),(()=>{l.d=(e,t)=>{for(var o in t)l.o(t,o)&&!l.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}})(),(()=>{l.f={},l.e=e=>Promise.all(Object.keys(l.f).reduce(((t,o)=>(l.f[o](e,t),t)),[]))})(),(()=>{l.u=e=>"js/"+e+"."+{655:"a7e58f51",862:"c520473a"}[e]+".js"})(),(()=>{l.miniCssF=e=>"css/"+{143:"app",736:"vendor"}[e]+"."+{143:"1dda8428",736:"d658fb31"}[e]+".css"})(),(()=>{l.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{var e={},t="front:";l.l=(o,a,i,s)=>{if(e[o])e[o].push(a);else{var n,d;if(void 0!==i)for(var r=document.getElementsByTagName("script"),c=0;c<r.length;c++){var u=r[c];if(u.getAttribute("src")==o||u.getAttribute("data-webpack")==t+i){n=u;break}}n||(d=!0,n=document.createElement("script"),n.charset="utf-8",n.timeout=120,l.nc&&n.setAttribute("nonce",l.nc),n.setAttribute("data-webpack",t+i),n.src=o),e[o]=[a];var m=(t,l)=>{n.onerror=n.onload=null,clearTimeout(p);var a=e[o];if(delete e[o],n.parentNode&&n.parentNode.removeChild(n),a&&a.forEach((e=>e(l))),t)return t(l)},p=setTimeout(m.bind(null,void 0,{type:"timeout",target:n}),12e4);n.onerror=m.bind(null,n.onerror),n.onload=m.bind(null,n.onload),d&&document.head.appendChild(n)}}})(),(()=>{l.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}})(),(()=>{l.nmd=e=>(e.paths=[],e.children||(e.children=[]),e)})(),(()=>{l.p=""})(),(()=>{var e={143:0};l.f.j=(t,o)=>{var a=l.o(e,t)?e[t]:void 0;if(0!==a)if(a)o.push(a[2]);else{var i=new Promise(((l,o)=>a=e[t]=[l,o]));o.push(a[2]=i);var s=l.p+l.u(t),n=new Error,d=o=>{if(l.o(e,t)&&(a=e[t],0!==a&&(e[t]=void 0),a)){var i=o&&("load"===o.type?"missing":o.type),s=o&&o.target&&o.target.src;n.message="Loading chunk "+t+" failed.\n("+i+": "+s+")",n.name="ChunkLoadError",n.type=i,n.request=s,a[1](n)}};l.l(s,d,"chunk-"+t,t)}},l.O.j=t=>0===e[t];var t=(t,o)=>{var a,i,[s,n,d]=o,r=0;if(s.some((t=>0!==e[t]))){for(a in n)l.o(n,a)&&(l.m[a]=n[a]);if(d)var c=d(l)}for(t&&t(o);r<s.length;r++)i=s[r],l.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return l.O(c)},o=globalThis["webpackChunkfront"]=globalThis["webpackChunkfront"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var o=l.O(void 0,[736],(()=>l(7932)));o=l.O(o)})();